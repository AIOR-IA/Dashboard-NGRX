(self.webpackChunkdashboardApp=self.webpackChunkdashboardApp||[]).push([[179],{6217:(xe,le,O)=>{"use strict";O.d(le,{nm:()=>nt});var g=O(8405);O(4650),O(259);var at=O(5861),Ye=O(6881),Ne=O(4859),Ct=O(2090),lt=O(1877);const Ke=new Map,Be={activated:!1,tokenObservers:[]},vt={initialized:!1,enabled:!1};function Tt(Re){return Ke.get(Re)||Object.assign({},Be)}function Ut(){return vt}class te{constructor(Ae,ze,gt,Rt,Tn){if(this.operation=Ae,this.retryPolicy=ze,this.getWaitDuration=gt,this.lowerBound=Rt,this.upperBound=Tn,this.pending=null,this.nextErrorWaitInterval=Rt,Rt>Tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ae){var ze=this;return(0,at.Z)(function*(){ze.stop();try{ze.pending=new Ct.BH,yield function Xe(Re){return new Promise(Ae=>{setTimeout(Ae,Re)})}(ze.getNextRun(Ae)),ze.pending.resolve(),yield ze.pending.promise,ze.pending=new Ct.BH,yield ze.operation(),ze.pending.resolve(),yield ze.pending.promise,ze.process(!0).catch(()=>{})}catch(gt){ze.retryPolicy(gt)?ze.process(!1).catch(()=>{}):ze.stop()}})()}getNextRun(Ae){if(Ae)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ze=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ze}}}const He=new Ct.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function It(Re){if(!Tt(Re).activated)throw He.create("use-before-activation",{appName:Re.name})}function rn(Re,Ae){return xn.apply(this,arguments)}function xn(){return(xn=(0,at.Z)(function*({url:Re,body:Ae},ze){const gt={"Content-Type":"application/json"},Rt=ze.getImmediate({optional:!0});if(Rt){const ti=yield Rt.getHeartbeatsHeader();ti&&(gt["X-Firebase-Client"]=ti)}const Tn={method:"POST",body:JSON.stringify(Ae),headers:gt};let gr,mr;try{gr=yield fetch(Re,Tn)}catch(ti){throw He.create("fetch-network-error",{originalErrorMessage:ti?.message})}if(200!==gr.status)throw He.create("fetch-status-error",{httpStatus:gr.status});try{mr=yield gr.json()}catch(ti){throw He.create("fetch-parse-error",{originalErrorMessage:ti?.message})}const fr=mr.ttl.match(/^([\d.]+)(s)$/);if(!fr||!fr[2]||isNaN(Number(fr[1])))throw He.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${mr.ttl}`});const ns=1e3*Number(fr[1]),$s=Date.now();return{token:mr.token,expireTimeMillis:$s+ns,issuedAtTimeMillis:$s}})).apply(this,arguments)}function Xt(Re,Ae){const{projectId:ze,appId:gt,apiKey:Rt}=Re.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${ze}/apps/${gt}:exchangeDebugToken?key=${Rt}`,body:{debug_token:Ae}}}const En="firebase-app-check-store";let un=null;function Ln(){return un||(un=new Promise((Re,Ae)=>{try{const ze=indexedDB.open("firebase-app-check-database",1);ze.onsuccess=gt=>{Re(gt.target.result)},ze.onerror=gt=>{var Rt;Ae(He.create("storage-open",{originalErrorMessage:null===(Rt=gt.target.error)||void 0===Rt?void 0:Rt.message}))},ze.onupgradeneeded=gt=>{0===gt.oldVersion&&gt.target.result.createObjectStore(En,{keyPath:"compositeKey"})}}catch(ze){Ae(He.create("storage-open",{originalErrorMessage:ze?.message}))}}),un)}function Sn(){return(Sn=(0,at.Z)(function*(Re,Ae){const gt=(yield Ln()).transaction(En,"readwrite"),Tn=gt.objectStore(En).put({compositeKey:Re,value:Ae});return new Promise((gr,mr)=>{Tn.onsuccess=fr=>{gr()},gt.onerror=fr=>{var ns;mr(He.create("storage-set",{originalErrorMessage:null===(ns=fr.target.error)||void 0===ns?void 0:ns.message}))}})})).apply(this,arguments)}const $r=new lt.Yd("@firebase/app-check");function hn(Re,Ae){return(0,Ct.hl)()?function Ci(Re,Ae){return function An(Re,Ae){return Sn.apply(this,arguments)}(function Bn(Re){return`${Re.options.appId}-${Re.name}`}(Re),Ae)}(Re,Ae).catch(ze=>{$r.warn(`Failed to write token to IndexedDB. Error: ${ze}`)}):Promise.resolve()}function es(){return Ut().enabled}function Fn(){return vr.apply(this,arguments)}function vr(){return(vr=(0,at.Z)(function*(){const Re=Ut();if(Re.enabled&&Re.token)return Re.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Hr={error:"UNKNOWN_ERROR"};function Kn(Re){return Ct.US.encodeString(JSON.stringify(Re),!1)}function Zn(Re){return hi.apply(this,arguments)}function hi(){return(hi=(0,at.Z)(function*(Re,Ae=!1){const ze=Re.app;It(ze);const gt=Tt(ze);let Tn,Rt=gt.token;if(Rt&&!ke(Rt)&&(gt.token=void 0,Rt=void 0),!Rt){const fr=yield gt.cachedTokenPromise;fr&&(ke(fr)?Rt=fr:yield hn(ze,void 0))}if(!Ae&&Rt&&ke(Rt))return{token:Rt.token};let mr,gr=!1;if(es()){gt.exchangeTokenPromise||(gt.exchangeTokenPromise=rn(Xt(ze,yield Fn()),Re.heartbeatServiceProvider).finally(()=>{gt.exchangeTokenPromise=void 0}),gr=!0);const fr=yield gt.exchangeTokenPromise;return yield hn(ze,fr),gt.token=fr,{token:fr.token}}try{gt.exchangeTokenPromise||(gt.exchangeTokenPromise=gt.provider.getToken().finally(()=>{gt.exchangeTokenPromise=void 0}),gr=!0),Rt=yield Tt(ze).exchangeTokenPromise}catch(fr){"appCheck/throttled"===fr.code?$r.warn(fr.message):$r.error(fr),Tn=fr}return Rt?Tn?mr=ke(Rt)?{token:Rt.token,internalError:Tn}:xt(Tn):(mr={token:Rt.token},gt.token=Rt,yield hn(ze,Rt)):mr=xt(Tn),gr&&qe(ze,mr),mr})).apply(this,arguments)}function Ar(){return(Ar=(0,at.Z)(function*(Re){const Ae=Re.app;It(Ae);const{provider:ze}=Tt(Ae);if(es()){const gt=yield Fn(),{token:Rt}=yield rn(Xt(Ae,gt),Re.heartbeatServiceProvider);return{token:Rt}}{const{token:gt}=yield ze.getToken();return{token:gt}}})).apply(this,arguments)}function _e(Re,Ae){const ze=Tt(Re),gt=ze.tokenObservers.filter(Rt=>Rt.next!==Ae);0===gt.length&&ze.tokenRefresher&&ze.tokenRefresher.isRunning()&&ze.tokenRefresher.stop(),ze.tokenObservers=gt}function se(Re){const{app:Ae}=Re,ze=Tt(Ae);let gt=ze.tokenRefresher;gt||(gt=function Ce(Re){const{app:Ae}=Re;return new te((0,at.Z)(function*(){let gt;if(gt=Tt(Ae).token?yield Zn(Re,!0):yield Zn(Re),gt.error)throw gt.error;if(gt.internalError)throw gt.internalError}),()=>!0,()=>{const ze=Tt(Ae);if(ze.token){let gt=ze.token.issuedAtTimeMillis+.5*(ze.token.expireTimeMillis-ze.token.issuedAtTimeMillis)+3e5;return gt=Math.min(gt,ze.token.expireTimeMillis-3e5),Math.max(0,gt-Date.now())}return 0},3e4,96e4)}(Re),ze.tokenRefresher=gt),!gt.isRunning()&&ze.isTokenAutoRefreshEnabled&&gt.start()}function qe(Re,Ae){const ze=Tt(Re).tokenObservers;for(const gt of ze)try{"EXTERNAL"===gt.type&&null!=Ae.error?gt.error(Ae.error):gt.next(Ae)}catch{}}function ke(Re){return Re.expireTimeMillis-Date.now()>0}function xt(Re){return{token:Kn(Hr),error:Re}}class qt{constructor(Ae,ze){this.app=Ae,this.heartbeatServiceProvider=ze}_delete(){const{tokenObservers:Ae}=Tt(this.app);for(const ze of Ae)_e(this.app,ze.next);return Promise.resolve()}}const _r="app-check-internal";!function ge(){(0,Ye._registerComponent)(new Ne.wA("app-check",Re=>function In(Re,Ae){return new qt(Re,Ae)}(Re.getProvider("app").getImmediate(),Re.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Re,Ae,ze)=>{Re.getProvider(_r).initialize()})),(0,Ye._registerComponent)(new Ne.wA(_r,Re=>function rr(Re){return{getToken:Ae=>Zn(Re,Ae),getLimitedUseToken:()=>function $n(Re){return Ar.apply(this,arguments)}(Re),addTokenListener:Ae=>function Nr(Re,Ae,ze,gt){const{app:Rt}=Re,Tn=Tt(Rt);if(Tn.tokenObservers=[...Tn.tokenObservers,{next:ze,error:gt,type:Ae}],Tn.token&&ke(Tn.token)){const mr=Tn.token;Promise.resolve().then(()=>{ze({token:mr.token}),se(Re)}).catch(()=>{})}Tn.cachedTokenPromise.then(()=>se(Re))}(Re,"INTERNAL",Ae),removeTokenListener:Ae=>_e(Re.app,Ae)}}(Re.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ye.registerVersion)("@firebase/app-check","0.8.0")}();class nt{constructor(){return(0,g.vb)("app-check")}}typeof window<"u"&&window},1041:(xe,le,O)=>{"use strict";O.d(le,{zQ:()=>Ut,rT:()=>Be,f7:()=>Tt,L6:()=>lt,_Q:()=>Ke,lh:()=>vt,Qv:()=>Ct,nw:()=>jt});var g=O(4650),F=O(7579),z=O(9646),ue=O(9751),ee=O(8996),pe=O(6451),ye=O(5363),we=O(3900),fe=O(4004),ne=O(4707),re=O(3099);function ae(Ht,lr,Nn){let Me,Oe=!1;return Ht&&"object"==typeof Ht?({bufferSize:Me=1/0,windowTime:lr=1/0,refCount:Oe=!1,scheduler:Nn}=Ht):Me=Ht??1/0,(0,re.B)({connector:()=>new ne.t(Me,lr,Nn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Oe})}var Ge=O(590),We=O(576);function Ue(Ht,lr){return(0,We.m)(lr)?(0,we.w)(()=>Ht,lr):(0,we.w)(()=>Ht)}var St=O(9468),it=O(9300),$e=O(8405),De=O(2011),Pt=O(6895),at=O(6217);O(9260);const Ct=new g.OlP("angularfire2.auth.use-emulator"),lt=new g.OlP("angularfire2.auth.settings"),Ke=new g.OlP("angularfire2.auth.tenant-id"),Be=new g.OlP("angularfire2.auth.langugage-code"),vt=new g.OlP("angularfire2.auth.use-device-language"),Tt=new g.OlP("angularfire.auth.persistence"),jt=(Ht,lr,Nn,Me,Oe,te,Xe,ht)=>(0,De.cc)(`${Ht.name}.auth`,"AngularFireAuth",Ht.name,()=>{const He=lr.runOutsideAngular(()=>Ht.auth());if(Nn&&He.useEmulator(...Nn),Me&&(He.tenantId=Me),He.languageCode=Oe,te&&He.useDeviceLanguage(),Xe)for(const[Qe,It]of Object.entries(Xe))He.settings[Qe]=It;return ht&&He.setPersistence(ht),He},[Nn,Me,Oe,te,Xe,ht]);let Ut=(()=>{class Ht{constructor(Nn,Me,Oe,te,Xe,ht,He,Qe,It,At,Vt,rn){const xn=new F.x,_n=(0,z.of)(void 0).pipe((0,ye.Q)(Xe.outsideAngular),(0,we.w)(()=>te.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2644)))),(0,fe.U)(()=>(0,De.on)(Nn,te,Me)),(0,fe.U)(tr=>jt(tr,te,ht,Qe,It,At,He,Vt)),ae({bufferSize:1,refCount:!1}));if((0,Pt.PM)(Oe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,z.of)(null);else{_n.pipe((0,Ge.P)()).subscribe();const Xt=_n.pipe((0,we.w)(En=>En.getRedirectResult().then(Lt=>Lt,()=>null)),$e.iC,ae({bufferSize:1,refCount:!1})),nr=_n.pipe((0,we.w)(En=>new ue.y(Lt=>({unsubscribe:te.runOutsideAngular(()=>En.onAuthStateChanged(un=>Lt.next(un),un=>Lt.error(un),()=>Lt.complete()))})))),On=_n.pipe((0,we.w)(En=>new ue.y(Lt=>({unsubscribe:te.runOutsideAngular(()=>En.onIdTokenChanged(un=>Lt.next(un),un=>Lt.error(un),()=>Lt.complete()))}))));this.authState=Xt.pipe(Ue(nr),(0,St.R)(Xe.outsideAngular),(0,ye.Q)(Xe.insideAngular)),this.user=Xt.pipe(Ue(On),(0,St.R)(Xe.outsideAngular),(0,ye.Q)(Xe.insideAngular)),this.idToken=this.user.pipe((0,we.w)(En=>En?(0,ee.D)(En.getIdToken()):(0,z.of)(null))),this.idTokenResult=this.user.pipe((0,we.w)(En=>En?(0,ee.D)(En.getIdTokenResult()):(0,z.of)(null))),this.credential=(0,pe.T)(Xt,xn,this.authState.pipe((0,it.h)(En=>!En))).pipe((0,fe.U)(En=>En?.user?En:null),(0,St.R)(Xe.outsideAngular),(0,ye.Q)(Xe.insideAngular))}return(0,De.pX)(this,_n,te,{spy:{apply:(tr,Xt,nr)=>{(tr.startsWith("signIn")||tr.startsWith("createUser"))&&nr.then(On=>xn.next(On))}}})}}return Ht.\u0275fac=function(Nn){return new(Nn||Ht)(g.LFG(De.Dh),g.LFG(De.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG($e.HU),g.LFG(Ct,8),g.LFG(lt,8),g.LFG(Ke,8),g.LFG(Be,8),g.LFG(vt,8),g.LFG(Tt,8),g.LFG(at.nm,8))},Ht.\u0275prov=g.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"any"}),Ht})()},1762:(xe,le,O)=>{"use strict";O.d(le,{ST:()=>Mv,yb:()=>Rm});var g=O(4650),F=O(4986),z=O(9751),ue=O(8996),ee=O(9646),pe=O(8405),ye=O(8675),we=O(4482),fe=O(5403);function ne(){return(0,we.e)((r,e)=>{let t,s=!1;r.subscribe((0,fe.x)(e,a=>{const c=t;t=a,s&&e.next([c,a]),s=!0}))})}var Ke,re=O(4004),ae=O(5026),Ge=O(1884),We=O(9300),Ue=O(2011),St=O(6895),$e=(O(2644),O(3942)),De=O(5861),Pt=O(6881),at=O(4859),Ye=O(1877),Ne=O(2090),Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lt={},Be=Be||{},vt=Ct||self;function Tt(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function jt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Dr="closure_uid_"+(1e9*Math.random()>>>0),Ht=0;function lr(r,e,t){return r.call.apply(r.bind,arguments)}function Nn(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Me(r,e,t){return(Me=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lr:Nn).apply(null,arguments)}function Oe(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function te(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var p=Array(arguments.length-2),D=2;D<arguments.length;D++)p[D-2]=arguments[D];return e.prototype[a].apply(s,p)}}function Xe(){this.s=this.s,this.o=this.o}Xe.prototype.s=!1,Xe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ut(r){Object.prototype.hasOwnProperty.call(r,Dr)&&r[Dr]||(r[Dr]=++Ht)}(this)},Xe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const He=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Qe(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function It(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Tt(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let p=0;p<c;p++)r[a+p]=s[p]}else r.push(s)}}function At(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var Vt=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{vt.addEventListener("test",()=>{},e),vt.removeEventListener("test",()=>{},e)}catch{}return r}();function rn(r){return/^[\s\xa0]*$/.test(r)}function xn(){var r=vt.navigator;return r&&(r=r.userAgent)?r:""}function _n(r){return-1!=xn().indexOf(r)}function tr(r){return tr[" "](r),r}tr[" "]=function(){};var Ci,r,nr=_n("Opera"),On=_n("Trident")||_n("MSIE"),En=_n("Edge"),Lt=En||On,un=_n("Gecko")&&!(-1!=xn().toLowerCase().indexOf("webkit")&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),Ln=-1!=xn().toLowerCase().indexOf("webkit")&&!_n("Edge");function Cr(){var r=vt.document;return r?r.documentMode:void 0}e:{var ei="",jr=(r=xn(),un?/rv:([^\);]+)(\)|;)/.exec(r):En?/Edge\/([\d\.]+)/.exec(r):On?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Ln?/WebKit\/(\S+)/.exec(r):nr?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(jr&&(ei=jr?jr[1]:""),On){var An=Cr();if(null!=An&&An>parseFloat(ei)){Ci=String(An);break e}}Ci=ei}var sn=vt.document&&On&&(Cr()||parseInt(Ci,10))||void 0;function Bn(r,e){if(At.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(un){e:{try{tr(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:$r[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Bn.$.h.call(this)}}te(Bn,At);var $r={2:"touch",3:"pen",4:"mouse"};Bn.prototype.h=function(){Bn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var sr="closure_listenable_"+(1e6*Math.random()|0),Tr=0;function hn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Tr,this.fa=this.ia=!1}function Pr(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Wn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Fn(r){const e={};for(const t in r)e[t]=r[t];return e}const vr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cn(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<vr.length;c++)t=vr[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Hr(r){this.src=r,this.g={},this.h=0}function Kn(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=He(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Pr(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Zn(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}Hr.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var p=Zn(r,e,s,a);return-1<p?(e=r[p],t||(e.ia=!1)):((e=new hn(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var hi="closure_lm_"+(1e6*Math.random()|0),$n={};function Ar(r,e,t,s,a){if(s&&s.once)return se(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ar(r,e[c],t,s,a);return null}return t=rr(t),r&&r[sr]?r.O(e,t,jt(s)?!!s.capture:!!s,a):Nr(r,e,t,!1,s,a)}function Nr(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var p=jt(a)?!!a.capture:!!a,D=qt(r);if(D||(r[hi]=D=new Hr(r)),(t=D.add(e,t,s,p,c)).proxy)return t;if(s=function _e(){const e=xt;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Vt||(a=p),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(ke(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function se(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)se(r,e[c],t,s,a);return null}return t=rr(t),r&&r[sr]?r.P(e,t,jt(s)?!!s.capture:!!s,a):Nr(r,e,t,!0,s,a)}function Ce(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Ce(r,e[c],t,s,a);else s=jt(s)?!!s.capture:!!s,t=rr(t),r&&r[sr]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Zn(c=r.g[e],t,s,a))&&(Pr(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=qt(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Zn(e,t,s,a)),(t=-1<r?e[r]:null)&&qe(t))}function qe(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[sr])Kn(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(ke(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=qt(e))?(Kn(t,r),0==t.h&&(t.src=null,e[hi]=null)):Pr(r)}}}function ke(r){return r in $n?$n[r]:$n[r]="on"+r}function xt(r,e){if(r.fa)r=!0;else{e=new Bn(e,this);var t=r.listener,s=r.la||r.src;r.ia&&qe(r),r=t.call(s,e)}return r}function qt(r){return(r=r[hi])instanceof Hr?r:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function rr(r){return"function"==typeof r?r:(r[In]||(r[In]=function(e){return r.handleEvent(e)}),r[In])}function de(){Xe.call(this),this.i=new Hr(this),this.S=this,this.J=null}function oe(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new At(e,r);else if(e instanceof At)e.target=e.target||r;else{var a=e;cn(e=new At(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=X(p,s,!0,e)&&a}if(a=X(p=e.g=r,s,!0,e)&&a,a=X(p,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=X(p=e.g=t[c],s,!1,e)&&a}function X(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.fa&&p.capture==t){var D=p.listener,k=p.la||p.src;p.ia&&Kn(r.i,p),a=!1!==D.call(k,s)&&a}}return a&&!s.defaultPrevented}te(de,Xe),de.prototype[sr]=!0,de.prototype.removeEventListener=function(r,e,t,s){Ce(this,r,e,t,s)},de.prototype.N=function(){if(de.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Pr(t[s]);delete r.g[e],r.h--}}this.J=null},de.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},de.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Ve=vt.JSON.stringify;function Wt(){var r=qn;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Le=new class ft{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Fe,r=>r.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function yt(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function _t(r){vt.setTimeout(()=>{throw r},0)}let ln,mn=!1,qn=new class wn{constructor(){this.h=this.g=null}add(e,t){const s=Le.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},kr=()=>{const r=vt.Promise.resolve(void 0);ln=()=>{r.then(Hn)}};var Hn=()=>{for(var r;r=Wt();){try{r.h.call(r.g)}catch(t){_t(t)}var e=Le;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}mn=!1};function Ur(r,e){de.call(this),this.h=r||1,this.g=e||vt,this.j=Me(this.qb,this),this.l=Date.now()}function fi(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function ii(r,e,t){if("function"==typeof r)t&&(r=Me(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Me(r.handleEvent,r)}return 2147483647<Number(e)?-1:vt.setTimeout(r,e||0)}function _i(r){r.g=ii(()=>{r.g=null,r.i&&(r.i=!1,_i(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}te(Ur,de),(Ke=Ur.prototype).ga=!1,Ke.T=null,Ke.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oe(this,"tick"),this.ga&&(fi(this),this.start()))}},Ke.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ke.N=function(){Ur.$.N.call(this),fi(this),delete this.g};class ls extends Xe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_i(this)}N(){super.N(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(r){Xe.call(this),this.h=r,this.g={}}te(or,Xe);var Di=[];function ts(r,e,t,s){Array.isArray(t)||(t&&(Di[0]=t.toString()),t=Di);for(var a=0;a<t.length;a++){var c=Ar(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function Mi(r){Wn(r.g,function(e,t){this.g.hasOwnProperty(t)&&qe(e)},r),r.g={}}function ys(){this.g=!0}function ut(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nt(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return Ve(t)}catch{return e}}(r,t)+(s?" "+s:"")})}or.prototype.N=function(){or.$.N.call(this),Mi(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ys.prototype.Ea=function(){this.g=!1},ys.prototype.info=function(){};var Et={},Ot=null;function Gn(){return Ot=Ot||new de}function Sr(r){At.call(this,Et.Ta,r)}function dr(r){const e=Gn();oe(e,new Sr(e))}function ar(r,e){At.call(this,Et.STAT_EVENT,r),this.stat=e}function bn(r){const e=Gn();oe(e,new ar(e,r))}function si(r,e){At.call(this,Et.Ua,r),this.size=e}function ji(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){r()},e)}Et.Ta="serverreachability",te(Sr,At),Et.STAT_EVENT="statevent",te(ar,At),Et.Ua="timingevent",te(si,At);var xr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xo={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Lr(){}function go(){}Lr.prototype.h=null;var ze,Zs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Re(){At.call(this,"d")}function Ae(){At.call(this,"c")}function gt(){}function Rt(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new or(this),this.P=gr,this.V=new Ur(r=Lt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Tn}function Tn(){this.i=null,this.g="",this.h=!1}te(Re,At),te(Ae,At),te(gt,Lr),gt.prototype.g=function(){return new XMLHttpRequest},gt.prototype.i=function(){return{}},ze=new gt;var gr=45e3,mr={},fr={};function ns(r,e,t){r.L=1,r.v=zr(Or(e)),r.s=t,r.S=!0,$s(r,null)}function $s(r,e){r.G=Date.now(),$i(r),r.A=Or(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Oi(t.i,"t",s),r.C=0,t=r.l.J,r.h=new Tn,r.g=bo(r.l,t?e:null,!r.s),0<r.O&&(r.M=new ls(Me(r.Pa,r,r.g),r.O)),ts(r.U,r.g,"readystatechange",r.nb),e=r.I?Fn(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),dr(),function _r(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var p="",D=c.split("&"),k=0;k<D.length;k++){var $=D[k].split("=");if(1<$.length){var J=$[0];$=$[1];var Ie=J.split("_");p=2<=Ie.length&&"type"==Ie[1]?p+(J+"=")+$+"&":p+(J+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(r.j,r.u,r.A,r.m,r.W,r.s)}function ti(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Ss(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=rs(r,t),a==fr){4==e&&(r.o=4,bn(14),s=!1),ut(r.j,r.m,null,"[Incomplete Response]");break}if(a==mr){r.o=4,bn(15),ut(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}ut(r.j,r.m,a,null),xs(r,a)}ti(r)&&a!=fr&&a!=mr&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,bn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Da(e),e.M=!0,bn(11))):(ut(r.j,r.m,t,"[Invalid Chunked Response]"),ds(r),Hi(r))}function rs(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?fr:(t=Number(e.substring(t,s)),isNaN(t)?mr:(s+=1)+t>e.length?fr:(e=e.slice(s,s+t),r.C=s+t,e))}function $i(r){r.Y=Date.now()+r.P,Po(r,r.P)}function Po(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ji(Me(r.lb,r),e)}function ui(r){r.B&&(vt.clearTimeout(r.B),r.B=null)}function Hi(r){0==r.l.H||r.J||Ca(r.l,r)}function ds(r){ui(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,fi(r.V),Mi(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function xs(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||_s(t.i,r)))if(!r.K&&_s(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Io(t),Ms(t)}Qr(t),bn(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=ji(Me(t.ib,t),6e3));if(1>=Wi(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ps(t,11)}else if((r.K||t.g==r)&&Io(t),!rn(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let $=a[e];if(t.V=$[0],$=$[1],2==t.H)if("c"==$[0]){t.K=$[1],t.pa=$[2];const J=$[3];null!=J&&(t.ra=J,t.l.info("VER="+t.ra));const Ie=$[4];null!=Ie&&(t.Ga=Ie,t.l.info("SVER="+t.Ga));const Je=$[5];null!=Je&&"number"==typeof Je&&0<Je&&(t.L=s=1.5*Je,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const pt=r.g;if(pt){const $t=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($t){var c=s.i;c.g||-1==$t.indexOf("spdy")&&-1==$t.indexOf("quic")&&-1==$t.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Ri(c,c.h),c.h=null))}if(s.F){const on=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;on&&(s.Da=on,Yr(s.I,s.F,on))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var p=r;if((s=t).wa=Os(s,s.J?s.pa:null,s.Y),p.K){qo(s.i,p);var D=p,k=s.L;k&&D.setTimeout(k),D.B&&(ui(D),$i(D)),s.g=p}else to(s);0<t.j.length&&No(t)}else"stop"!=$[0]&&"close"!=$[0]||Ps(t,7);else 3==t.H&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?Ps(t,7):eo(t):"noop"!=$[0]&&t.h&&t.h.Aa($),t.A=0)}dr()}catch{}}function so(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Tt(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Go(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Tt(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Ys(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Tt(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(Ke=Rt.prototype).setTimeout=function(r){this.P=r},Ke.nb=function(r){r=r.target;const e=this.M;e&&3==Ki(r)?e.l():this.Pa(r)},Ke.Pa=function(r){try{if(r==this.g)e:{const J=Ki(this.g);var e=this.g.Ia();if(this.g.da(),!(3>J)&&(3!=J||Lt||this.g&&(this.h.h||this.g.ja()||co(this.g)))){this.J||4!=J||7==e||dr(),ui(this);var t=this.g.da();this.ca=t;t:if(ti(this)){var s=co(this.g);r="";var a=s.length,c=4==Ki(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),Hi(this);var p="";break t}this.h.i=new vt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function ge(r,e,t,s,a,c,p){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.W,J,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,k=this.g;if((D=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rn(D)){var $=D;break t}}$=null}if(!(t=$)){this.i=!1,this.o=3,bn(12),ds(this),Hi(this);break e}ut(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xs(this,t)}this.S?(Ss(this,J,p),Lt&&this.i&&3==J&&(ts(this.U,this.V,"tick",this.mb),this.V.start())):(ut(this.j,this.m,p,null),xs(this,p)),4==J&&ds(this),this.i&&!this.J&&(4==J?Ca(this.l,this):(this.i=!1,$i(this)))}else(function pa(r){const e={};r=(r.g&&2<=Ki(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(rn(r[s]))continue;var t=yt(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function es(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<p.indexOf("Unknown SID")?(this.o=3,bn(12)):(this.o=0,bn(13)),ds(this),Hi(this)}}}catch{}},Ke.mb=function(){if(this.g){var r=Ki(this.g),e=this.g.ja();this.C<e.length&&(ui(this),Ss(this,r,e),this.i&&4!=r&&$i(this))}},Ke.cancel=function(){this.J=!0,ds(this)},Ke.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Te(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(dr(),bn(17)),ds(this),this.o=2,Hi(this)):Po(this,this.Y-r)};var oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ni(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof ni){this.h=r.h,fa(this,r.j),this.s=r.s,this.g=r.g,vs(this,r.m),this.l=r.l;var e=r.i,t=new uo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Qs(this,t),this.o=r.o}else r&&(e=String(r).match(oo))?(this.h=!1,fa(this,e[1]||"",!0),this.s=Pi(e[2]||""),this.g=Pi(e[3]||"",!0),vs(this,e[4]),this.l=Pi(e[5]||"",!0),Qs(this,e[6]||"",!0),this.o=Pi(e[7]||"")):(this.h=!1,this.i=new uo(null,this.h))}function Or(r){return new ni(r)}function fa(r,e,t){r.j=t?Pi(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function vs(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Qs(r,e,t){e instanceof uo?(r.i=e,function Dn(r,e){e&&!r.j&&(Gi(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Wo(this,s),Oi(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Hs(e,ao)),r.i=new uo(e,r.h))}function Yr(r,e,t){r.i.set(e,t)}function zr(r){return Yr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Pi(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Hs(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,is),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function is(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}ni.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Hs(e,pi,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Hs(e,pi,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Hs(t,"/"==t.charAt(0)?mo:hs,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Hs(t,Gr)),r.join("")};var pi=/[#\/\?@]/g,hs=/[#\?:]/g,mo=/[#\?]/g,ao=/[#\?@]/g,Gr=/#/g;function uo(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Gi(r){r.g||(r.g=new Map,r.h=0,r.i&&function zo(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Wo(r,e){Gi(r),e=gi(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function zi(r,e){return Gi(r),e=gi(r,e),r.g.has(e)}function Oi(r,e,t){Wo(r,e),0<t.length&&(r.i=null,r.g.set(gi(r,e),Qe(t)),r.h+=t.length)}function gi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ko(r){this.l=r||Oo,r=vt.PerformanceNavigationTiming?0<(r=vt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(vt.g&&vt.g.Ka&&vt.g.Ka()&&vt.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ke=uo.prototype).add=function(r,e){Gi(this),this.i=null,r=gi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Ke.forEach=function(r,e){Gi(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},Ke.ta=function(){Gi(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},Ke.Z=function(r){Gi(this);let e=[];if("string"==typeof r)zi(this,r)&&(e=e.concat(this.g.get(gi(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Ke.set=function(r,e){return Gi(this),this.i=null,zi(this,r=gi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Ke.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var a=c;""!==p[s]&&(a+="="+encodeURIComponent(String(p[s]))),r.push(a)}}return this.i=r.join("&")};var Oo=10;function vo(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Wi(r){return r.h?1:r.g?r.g.size:0}function _s(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Ri(r,e){r.g?r.g.add(e):r.h=e}function qo(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function bt(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Qe(r.i)}function _o(){this.g=new class{stringify(r){return vt.JSON.stringify(r,void 0)}parse(r){return vt.JSON.parse(r,void 0)}}}function Zo(r,e,t){const s=t||"";try{so(r,function(a,c){let p=a;jt(a)&&(p=Ve(a)),e.push(s+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function ws(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Ji(r){this.l=r.fc||null,this.j=r.ob||!1}function Ti(r,e){de.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Gs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ko.prototype.cancel=function(){if(this.i=bt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},te(Ji,Lr),Ji.prototype.g=function(){return new Ti(this.l,this.j)},Ji.prototype.i=function(r){return function(){return r}}({}),te(Ti,de);var Gs=0;function Js(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function ss(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Wr(r)}function Wr(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Ke=Ti.prototype).open=function(r,e){if(this.readyState!=Gs)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Wr(this)},Ke.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||vt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ss(this)),this.readyState=Gs},Ke.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof vt.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Js(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Ke.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ss(this):Wr(this),3==this.readyState&&Js(this)}},Ke.Za=function(r){this.g&&(this.response=this.responseText=r,ss(this))},Ke.Ya=function(r){this.g&&(this.response=r,ss(this))},Ke.ka=function(){this.g&&ss(this)},Ke.setRequestHeader=function(r,e){this.v.append(r,e)},Ke.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Ke.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var U=vt.JSON.parse;function N(r){de.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=M,this.L=this.M=!1}te(N,de);var M="",Y=/^https?$/i,et=["POST","PUT"];function ur(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Ai(r),os(r)}function Ai(r){r.F||(r.F=!0,oe(r,"complete"),oe(r,"error"))}function mi(r){if(r.h&&typeof Be<"u"&&(!r.C[1]||4!=Ki(r)||2!=r.da()))if(r.v&&4==Ki(r))ii(r.La,0,r);else if(oe(r,"readystatechange"),4==Ki(r)){r.h=!1;try{const p=r.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===p){var a=String(r.I).match(oo)[1]||null;!a&&vt.self&&vt.self.location&&(a=vt.self.location.protocol.slice(0,-1)),s=!Y.test(a?a.toLowerCase():"")}t=s}if(t)oe(r,"complete"),oe(r,"success");else{r.m=6;try{var c=2<Ki(r)?r.g.statusText:""}catch{c=""}r.j=c+" ["+r.da()+"]",Ai(r)}}finally{os(r)}}}function os(r,e){if(r.g){Es(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||oe(r,"ready");try{t.onreadystatechange=s}catch{}}}function Es(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(vt.clearTimeout(r.A),r.A=null)}function Ki(r){return r.g?r.g.readyState:0}function co(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case M:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(r){let e="";return Wn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Yo(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=qi(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Yr(r,e,t))}function Xs(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ro(r){this.Ga=0,this.j=[],this.l=new ys,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xs("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xs("baseRetryDelayMs",5e3,r),this.hb=Xs("retryDelaySeedMs",1e4,r),this.eb=Xs("forwardChannelMaxRetries",2,r),this.xa=Xs("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Ko(r&&r.concurrentRequestLimit),this.Ja=new _o,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function eo(r){if(Qo(r),3==r.H){var e=r.W++,t=Or(r.I);if(Yr(t,"SID",r.K),Yr(t,"RID",e),Yr(t,"TYPE","terminate"),Eo(r,t),(e=new Rt(r,r.l,e)).L=2,e.v=zr(Or(t)),t=!1,vt.navigator&&vt.navigator.sendBeacon)try{t=vt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=bo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$i(e)}no(r)}function Ms(r){r.g&&(Da(r),r.g.cancel(),r.g=null)}function Qo(r){Ms(r),r.u&&(vt.clearTimeout(r.u),r.u=null),Io(r),r.i.cancel(),r.m&&("number"==typeof r.m&&vt.clearTimeout(r.m),r.m=null)}function No(r){if(!vo(r.i)&&!r.m){r.m=!0;var e=r.Na;ln||kr(),mn||(ln(),mn=!0),qn.add(e,r),r.C=0}}function wo(r,e){var t;t=e?e.m:r.W++;const s=Or(r.I);Yr(s,"SID",r.K),Yr(s,"RID",t),Yr(s,"AID",r.V),Eo(r,s),r.o&&r.s&&Yo(s,r.o,r.s),t=new Rt(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Mr(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Ri(r.i,t),ns(t,s,e)}function Eo(r,e){r.na&&Wn(r.na,function(t,s){Yr(e,s,t)}),r.h&&so({},function(t,s){Yr(e,s,t)})}function Mr(r,e,t){t=Math.min(r.j.length,t);var s=r.h?Me(r.h.Va,r.h,r):null;e:{var a=r.j;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].g,p.push("ofs="+c)):c=0:p.push("ofs="+c);let D=!0;for(let k=0;k<t;k++){let $=a[k].g;const J=a[k].map;if($-=c,0>$)c=Math.max(0,a[k].g-100),D=!1;else try{Zo(J,p,"req"+$+"_")}catch{s&&s(J)}}if(D){s=p.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function to(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;ln||kr(),mn||(ln(),mn=!0),qn.add(e,r),r.A=0}}function Qr(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=ji(Me(r.Ma,r),lo(r,r.A)),r.A++,0))}function Da(r){null!=r.B&&(vt.clearTimeout(r.B),r.B=null)}function Jo(r){r.g=new Rt(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Or(r.wa);Yr(e,"RID","rpc"),Yr(e,"SID",r.K),Yr(e,"AID",r.V),Yr(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Yr(e,"TO",r.qa),Yr(e,"TYPE","xmlhttp"),Eo(r,e),r.o&&r.s&&Yo(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=zr(Or(e)),t.s=null,t.S=!0,$s(t,r)}function Io(r){null!=r.v&&(vt.clearTimeout(r.v),r.v=null)}function Ca(r,e){var t=null;if(r.g==e){Io(r),Da(r),r.g=null;var s=2}else{if(!_s(r.i,e))return;t=e.F,qo(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;oe(s=Gn(),new si(s,t)),No(r)}else to(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function ko(r,e){return!(Wi(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=ji(Me(r.Na,r,e),lo(r,r.C)),r.C++,0)))}(r,e)||2==s&&Qr(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Ps(r,5);break;case 4:Ps(r,10);break;case 3:Ps(r,6);break;default:Ps(r,2)}}function lo(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Ps(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=Me(r.pb,r);t||(t=new ni("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||fa(t,"https"),zr(t)),function ri(r,e){const t=new ys;if(vt.Image){const s=new Image;s.onload=Oe(ws,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Oe(ws,t,s,"TestLoadImage: error",!1,e),s.onabort=Oe(ws,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Oe(ws,t,s,"TestLoadImage: timeout",!1,e),vt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else bn(2);r.H=0,r.h&&r.h.za(e),no(r),Qo(r)}function no(r){if(r.H=0,r.ma=[],r.h){const e=bt(r.i);(0!=e.length||0!=r.j.length)&&(It(r.ma,e),It(r.ma,r.j),r.i.i.length=0,Qe(r.j),r.j.length=0),r.h.ya()}}function Os(r,e,t){var s=t instanceof ni?Or(t):new ni(t);if(""!=s.g)e&&(s.g=e+"."+s.g),vs(s,s.m);else{var a=vt.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new ni(null);s&&fa(c,s),e&&(c.g=e),a&&vs(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Yr(s,t,e),Yr(s,"VER",r.ra),Eo(r,s),s}function bo(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new N(t&&r.Ha&&!r.va?new Ji({ob:!0}):r.va)).Oa(r.J),e}function Fa(){}function Do(){if(On&&!(10<=Number(sn)))throw Error("Environmental error: no available transport.")}function Is(r,e){de.call(this),this.g=new Ro(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!rn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Rs(this)}function bs(r){Re.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Xo(){Ae.call(this),this.status=1}function Rs(r){this.g=r}function wi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ea(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],p=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;p=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(p<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((c=(e=t+((p=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=c+((p=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Fr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(Ke=N.prototype).Oa=function(r){this.M=r},Ke.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ze.g(),this.C=function Mo(r){return r.h||(r.h=r.i())}(this.u?this.u:ze),this.g.onreadystatechange=Me(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void ur(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=vt.FormData&&r instanceof vt.FormData,!(0<=He(et,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of t)this.g.setRequestHeader(c,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Es(this),0<this.B&&((this.L=function Jt(r){return On&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Me(this.ua,this)):this.A=ii(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){ur(this,c)}},Ke.ua=function(){typeof Be<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oe(this,"timeout"),this.abort(8))},Ke.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,oe(this,"complete"),oe(this,"abort"),os(this))},Ke.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),os(this,!0)),N.$.N.call(this)},Ke.La=function(){this.s||(this.G||this.v||this.l?mi(this):this.kb())},Ke.kb=function(){mi(this)},Ke.isActive=function(){return!!this.g},Ke.da=function(){try{return 2<Ki(this)?this.g.status:-1}catch{return-1}},Ke.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ke.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),U(e)}},Ke.Ia=function(){return this.m},Ke.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ke=Ro.prototype).ra=8,Ke.H=1,Ke.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Rt(this,this.l,r);let c=this.s;if(this.U&&(c?(c=Fn(c),cn(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Mr(this,a,e),Yr(t=Or(this.I),"RID",r),Yr(t,"CVER",22),this.F&&Yr(t,"X-HTTP-Session-Id",this.F),Eo(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(qi(c)))+"&"+e:this.o&&Yo(t,this.o,c)),Ri(this.i,a),this.bb&&Yr(t,"TYPE","init"),this.P?(Yr(t,"$req",e),Yr(t,"SID","null"),a.aa=!0,ns(a,t,null)):ns(a,t,e),this.H=2}}else 3==this.H&&(r?wo(this,r):0==this.j.length||vo(this.i)||wo(this))},Ke.Ma=function(){if(this.u=null,Jo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=ji(Me(this.jb,this),r)}},Ke.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bn(10),Ms(this),Jo(this))},Ke.ib=function(){null!=this.v&&(this.v=null,Ms(this),Qr(this),bn(19))},Ke.pb=function(r){r?(this.l.info("Successfully pinged google.com"),bn(2)):(this.l.info("Failed to ping google.com"),bn(1))},Ke.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ke=Fa.prototype).Ba=function(){},Ke.Aa=function(){},Ke.za=function(){},Ke.ya=function(){},Ke.isActive=function(){return!0},Ke.Va=function(){},Do.prototype.g=function(r,e){return new Is(r,e)},te(Is,de),Is.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;bn(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Os(r,null,r.Y),No(r)},Is.prototype.close=function(){eo(this.g)},Is.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Ve(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&No(e)},Is.prototype.N=function(){this.g.h=null,delete this.j,eo(this.g),delete this.g,Is.$.N.call(this)},te(bs,Re),te(Xo,Ae),te(Rs,Fa),Rs.prototype.Ba=function(){oe(this.g,"a")},Rs.prototype.Aa=function(r){oe(this.g,new bs(r))},Rs.prototype.za=function(r){oe(this.g,new Xo)},Rs.prototype.ya=function(){oe(this.g,"b")},te(wi,function fu(){this.blockSize=-1}),wi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},wi.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)ea(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){ea(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){ea(this,s),a=0;break}}this.h=a,this.i+=e},wi.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var T={};function H(r){return-128<=r&&128>r?function Xt(r,e){var t=T;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Fr([0|e],0>e?-1:0)}):new Fr([0|r],0>r?-1:0)}function R(r){if(isNaN(r)||!isFinite(r))return st;if(0>r)return jn(R(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=be;return new Fr(e,0)}var be=4294967296,st=H(0),mt=H(1),fn=H(16777216);function Qn(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function kn(r){return-1==r.h}function jn(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Fr(t,~r.h).add(mt)}function zn(r,e){return r.add(jn(e))}function ci(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function pr(r,e){this.g=r,this.h=e}function Jr(r,e){if(Qn(e))throw Error("division by zero");if(Qn(r))return new pr(st,st);if(kn(r))return e=Jr(jn(r),e),new pr(jn(e.g),jn(e.h));if(kn(e))return e=Jr(r,jn(e)),new pr(jn(e.g),e.h);if(30<r.g.length){if(kn(r)||kn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=mt,s=e;0>=s.X(r);)t=Ds(t),s=Ds(s);var a=Ni(t,1),c=Ni(s,1);for(s=Ni(s,2),t=Ni(t,2);!Qn(s);){var p=c.add(s);0>=p.X(r)&&(a=a.add(t),c=p),s=Ni(s,1),t=Ni(t,1)}return e=zn(r,a.R(e)),new pr(a,e)}for(a=st;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),p=(c=R(t)).R(e);kn(p)||0<p.X(r);)p=(c=R(t-=s)).R(e);Qn(c)&&(c=mt),a=a.add(c),r=zn(r,p)}return new pr(a,r)}function Ds(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Fr(t,r.h)}function Ni(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Fr(a,r.h)}(Ke=Fr.prototype).ea=function(){if(kn(this))return-jn(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:be+s)*e,e*=be}return r},Ke.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Qn(this))return"0";if(kn(this))return"-"+jn(this).toString(r);for(var e=R(Math.pow(r,6)),t=this,s="";;){var a=Jr(t,e).g,c=((0<(t=zn(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Qn(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},Ke.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Ke.X=function(r){return kn(r=zn(this,r))?-1:Qn(r)?0:1},Ke.abs=function(){return kn(this)?jn(this):this},Ke.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),p=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=p>>>16,t[a]=(p&=65535)<<16|(c&=65535)}return new Fr(t,-2147483648&t[t.length-1]?-1:0)},Ke.R=function(r){if(Qn(this)||Qn(r))return st;if(kn(this))return kn(r)?jn(this).R(jn(r)):jn(jn(this).R(r));if(kn(r))return jn(this.R(jn(r)));if(0>this.X(fn)&&0>r.X(fn))return R(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,p=65535&this.D(s),D=r.D(a)>>>16,k=65535&r.D(a);t[2*s+2*a]+=p*k,ci(t,2*s+2*a),t[2*s+2*a+1]+=c*k,ci(t,2*s+2*a+1),t[2*s+2*a+1]+=p*D,ci(t,2*s+2*a+1),t[2*s+2*a+2]+=c*D,ci(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Fr(t,0)},Ke.gb=function(r){return Jr(this,r).h},Ke.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Fr(t,this.h&r.h)},Ke.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Fr(t,this.h|r.h)},Ke.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Fr(t,this.h^r.h)},Do.prototype.createWebChannel=Do.prototype.g,Is.prototype.send=Is.prototype.u,Is.prototype.open=Is.prototype.m,Is.prototype.close=Is.prototype.close,xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,xo.COMPLETE="complete",go.EventType=Zs,Zs.OPEN="a",Zs.CLOSE="b",Zs.ERROR="c",Zs.MESSAGE="d",de.prototype.listen=de.prototype.O,N.prototype.listenOnce=N.prototype.P,N.prototype.getLastError=N.prototype.Sa,N.prototype.getLastErrorCode=N.prototype.Ia,N.prototype.getStatus=N.prototype.da,N.prototype.getResponseJson=N.prototype.Wa,N.prototype.getResponseText=N.prototype.ja,N.prototype.send=N.prototype.ha,N.prototype.setWithCredentials=N.prototype.Oa,wi.prototype.digest=wi.prototype.l,wi.prototype.reset=wi.prototype.reset,wi.prototype.update=wi.prototype.j,Fr.prototype.add=Fr.prototype.add,Fr.prototype.multiply=Fr.prototype.R,Fr.prototype.modulo=Fr.prototype.gb,Fr.prototype.compare=Fr.prototype.X,Fr.prototype.toNumber=Fr.prototype.ea,Fr.prototype.toString=Fr.prototype.toString,Fr.prototype.getBits=Fr.prototype.D,Fr.fromNumber=R,Fr.fromString=function Z(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return jn(Z(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=R(Math.pow(e,8)),s=st,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),p=parseInt(r.substring(a,a+c),e);8>c?(c=R(Math.pow(e,c)),s=s.R(c).add(R(p))):s=(s=s.R(t)).add(R(p))}return s};var zs=lt.createWebChannelTransport=function(){return new Do},ki=lt.getStatEventTarget=function(){return Gn()},Co=lt.ErrorCode=xr,ta=lt.EventType=xo,Ta=lt.Event=Et,na=lt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ga=lt.FetchXmlHttpFactory=Ji,Ns=lt.WebChannel=go,ra=lt.XhrIo=N,Ja=lt.Md5=wi,Lo=lt.Integer=Fr;const Aa="@firebase/firestore";class Si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Si.UNAUTHENTICATED=new Si(null),Si.GOOGLE_CREDENTIALS=new Si("google-credentials-uid"),Si.FIRST_PARTY=new Si("first-party-uid"),Si.MOCK_USER=new Si("mock-user");let Va="9.23.0";const Li=new Ye.Yd("@firebase/firestore");function Sa(){return Li.logLevel}function kt(r,...e){if(Li.logLevel<=Ye.in.DEBUG){const t=e.map(Ii);Li.debug(`Firestore (${Va}): ${r}`,...t)}}function Rr(r,...e){if(Li.logLevel<=Ye.in.ERROR){const t=e.map(Ii);Li.error(`Firestore (${Va}): ${r}`,...t)}}function Ei(r,...e){if(Li.logLevel<=Ye.in.WARN){const t=e.map(Ii);Li.warn(`Firestore (${Va}): ${r}`,...t)}}function Ii(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Mt(r="Unexpected state"){const e=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+r;throw Rr(e),new Error(e)}function yn(r,e){r||Mt()}function Qt(r,e){return r}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends Ne.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class To{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Si.UNAUTHENTICATED))}shutdown(){}}class ia{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class G{constructor(e){this.t=e,this.currentUser=Si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=$=>this.i!==a?(a=this.i,t($)):Promise.resolve();let p=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new cr,e.enqueueRetryable(()=>c(this.currentUser))};const D=()=>{const $=p;e.enqueueRetryable((0,De.Z)(function*(){yield $.promise,yield c(s.currentUser)}))},k=$=>{kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit($=>k($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?k($):(kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new cr)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(yn("string"==typeof s.accessToken),new To(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yn(null===e||"string"==typeof e),new Si(e)}}class I{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Si.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class S{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new I(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ve{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.T;return this.T=c.token,kt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yn("string"==typeof t.token),this.T=t.token,new j(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function en(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Vn{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=en(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Kt(r,e){return r<e?-1:r>e?1:0}function Br(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function xa(r){return r+"\0"}class Xr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new wt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xr.fromMillis(Date.now())}static fromDate(e){return Xr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Xr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mn(e)}static min(){return new Mn(new Xr(0,0))}static max(){return new Mn(new Xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ya{constructor(e,t,s){void 0===t?t=0:t>e.length&&Mt(),void 0===s?s=e.length-t:s>e.length-t&&Mt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===ya.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ya?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rn extends ya{construct(e,t,s){return new Rn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new wt(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Rn(t)}static emptyPath(){return new Rn([])}}const Nu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends ya{construct(e,t,s){return new yi(e,t,s)}static isValidIdentifier(e){return Nu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yi(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new wt(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const D=e[a];if("\\"===D){if(a+1===e.length)throw new wt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const k=e[a+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new wt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=k,a+=2}else"`"===D?(p=!p,a++):"."!==D||p?(s+=D,a++):(c(),a++)}if(c(),p)throw new wt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yi(t)}static emptyPath(){return new yi([])}}class tn{constructor(e){this.path=e}static fromPath(e){return new tn(Rn.fromString(e))}static fromName(e){return new tn(Rn.fromString(e).popFirst(5))}static empty(){return new tn(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new Rn(e.slice()))}}class Ua{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function as(r){return r.fields.find(e=>2===e.kind)}function Cs(r){return r.fields.filter(e=>2!==e.kind)}Ua.UNKNOWN_ID=-1;class Ba{constructor(e,t){this.fieldPath=e,this.kind=t}}class eu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new eu(0,ro.min())}}function Lu(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Mn.fromTimestamp(1e9===s?new Xr(t+1,0):new Xr(t,s));return new ro(a,tn.empty(),e)}function Ec(r){return new ro(r.readTime,r.key,-1)}class ro{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ro(Mn.min(),tn.empty(),-1)}static max(){return new ro(Mn.max(),tn.empty(),-1)}}function Ic(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=tn.comparator(r.documentKey,e.documentKey),0!==t?t:Kt(r.largestBatchId,e.largestBatchId))}const $a="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class io{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fo(r){return E.apply(this,arguments)}function E(){return E=(0,De.Z)(function*(r){if(r.code!==rt.FAILED_PRECONDITION||r.message!==$a)throw r;kt("LocalStore","Unexpectedly lost primary lease")}),E.apply(this,arguments)}class y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new y((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof y?t:y.resolve(t)}catch(t){return y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):y.reject(t)}static resolve(e){return new y((t,s)=>{t(e)})}static reject(e){return new y((t,s)=>{s(e)})}static waitFor(e){return new y((t,s)=>{let a=0,c=0,p=!1;e.forEach(D=>{++a,D.next(()=>{++c,p&&c===a&&t()},k=>s(k))}),p=!0,c===a&&t()})}static or(e){let t=y.resolve(!1);for(const s of e)t=t.next(a=>a?y.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new y((s,a)=>{const c=e.length,p=new Array(c);let D=0;for(let k=0;k<c;k++){const $=k;t(e[$]).next(J=>{p[$]=J,++D,D===c&&s(p)},J=>a(J))}})}static doWhile(e,t){return new y((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class _{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new cr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new q(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=Un(s.target.error);this.v.reject(new q(e,a))}}static open(e,t,s,a){try{return new _(t,e.transaction(a,s))}catch(c){throw new q(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(kt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ee(t)}}class A{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===A.S((0,Ne.z$)())&&Rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return kt("SimpleDb","Removing database:",e),ot(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ne.hl)())return!1;if(A.C())return!0;const e=(0,Ne.z$)(),t=A.S(e),s=0<t&&t<10,a=A.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,De.Z)(function*(){return t.db||(kt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=p=>{s(p.target.result)},c.onblocked=()=>{a(new q(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=p=>{const D=p.target.error;a("VersionError"===D.name?new wt(rt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new wt(rt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new q(e,D))},c.onupgradeneeded=p=>{kt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.V.O(p.target.result,c.transaction,p.oldVersion,t.version).next(()=>{kt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,De.Z)(function*(){const p="readonly"===t;let D=0;for(;;){++D;try{c.db=yield c.$(e);const k=_.open(c.db,e,p?"readonly":"readwrite",s),$=a(k).next(J=>(k.P(),J)).catch(J=>(k.abort(J),y.reject(J))).toPromise();return $.catch(()=>{}),yield k.R,$}catch(k){const $=k,J="FirebaseError"!==$.name&&D<3;if(kt("SimpleDb","Transaction failed with error:",$.message,"Retrying:",J),c.close(),!J)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class L{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ot(this.L.delete())}}class q extends wt{constructor(e,t){super(rt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function he(r){return"IndexedDbTransactionError"===r.name}class Ee{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(kt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(kt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ot(s)}add(e){return kt("SimpleDb","ADD",this.store.name,e,e),ot(this.store.add(e))}get(e){return ot(this.store.get(e)).next(t=>(void 0===t&&(t=null),kt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return kt("SimpleDb","DELETE",this.store.name,e),ot(this.store.delete(e))}count(){return kt("SimpleDb","COUNT",this.store.name),ot(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.W(a,(p,D)=>{c.push(D)}).next(()=>c)}{const a=this.store.getAll(s.range);return new y((c,p)=>{a.onerror=D=>{p(D.target.error)},a.onsuccess=D=>{c(D.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new y((a,c)=>{s.onerror=p=>{c(p.target.error)},s.onsuccess=p=>{a(p.target.result)}})}J(e,t){kt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(c,p,D)=>D.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new y((s,a)=>{t.onerror=c=>{const p=Un(c.target.error);a(p)},t.onsuccess=c=>{const p=c.target.result;p?e(p.primaryKey,p.value).next(D=>{D?p.continue():s()}):s()}})}W(e,t){const s=[];return new y((a,c)=>{e.onerror=p=>{c(p.target.error)},e.onsuccess=p=>{const D=p.target.result;if(!D)return void a();const k=new L(D),$=t(D.primaryKey,D.value,k);if($ instanceof y){const J=$.catch(Ie=>(k.done(),y.reject(Ie)));s.push(J)}k.isDone?a():null===k.K?D.continue():D.continue(k.K)}}).next(()=>y.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ot(r){return new y((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=Un(s.target.error);t(a)}})}let Gt=!1;function Un(r){const e=A.S((0,Ne.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new wt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gt||(Gt=!0,setTimeout(()=>{throw s},0)),s}}return r}class dn{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;kt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,De.Z)(function*(){t.task=null;try{kt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){he(s)?kt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Fo(s)}yield t.et(6e4)}))}}class wr{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,De.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,c=!0;return y.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return kt("IndexBackiller",`Processing collection: ${p}`),this.it(e,p,a).next(D=>{a-=D,s.add(p)});c=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const p=c.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.rt(a,c)).next(D=>(kt("IndexBackiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,t,D))).next(()=>p.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,c)=>{const p=Ec(c);Ic(p,s)>0&&(s=p)}),new ro(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Vr=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function li(r){return null==r}function Ao(r){return 0===r&&1/r==-1/0}function ho(r){return"number"==typeof r&&Number.isInteger(r)&&!Ao(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Xi(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Ma(e)),e=va(r.get(t),e);return Ma(e)}function va(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const c=r.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function Ma(r){return r+"\x01\x01"}function Fi(r){const e=r.length;if(yn(e>=2),2===e)return yn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Rn.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const p=r.indexOf("\x01",c);switch((p<0||p>t)&&Mt(),r.charAt(p+1)){case"\x01":const D=r.substring(c,p);let k;0===a.length?k=D:(a+=D,k=a,a=""),s.push(k);break;case"\x10":a+=r.substring(c,p),a+="\0";break;case"\x11":a+=r.substring(c,p+1);break;default:Mt()}c=p+2}return new Rn(s)}const bc=["userId","batchId"];function Vi(r,e){return[r,Xi(e)]}function al(r,e,t){return[r,Xi(e),t]}const Dc={},Zl=["prefixPath","collectionGroup","readTime","documentId"],pu=["prefixPath","collectionGroup","documentId"],ul=["collectionGroup","readTime","prefixPath","documentId"],cl=["canonicalId","targetId"],Cc=["targetId","path"],ll=["path","targetId"],gu=["collectionId","parent"],dl=["indexId","uid"],Fu=["uid","sequenceNumber"],Yl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zd=["indexId","uid","orderedDocumentKey"],mu=["userId","collectionPath","documentId"],Tc=["userId","collectionPath","largestBatchId"],Ac=["userId","collectionGroup","largestBatchId"],hl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wd=[...hl,"documentOverlays"],Ha=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vu=Ha,Kd=[...Vu,"indexConfiguration","indexState","indexEntries"];class Sc extends io{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ts(r,e){const t=Qt(r);return A.M(t.ht,e)}function Ql(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function _a(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function xc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class oi{constructor(e,t){this.comparator=e,this.root=t||Ui.EMPTY}insert(e,t){return new oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ga(this.root,e,this.comparator,!0)}}class Ga{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Ui.RED,this.left=a??Ui.EMPTY,this.right=c??Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Ui(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ui.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Ui(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(e){this.comparator=e,this.data=new oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Uu(this.data.getIterator())}getIteratorFrom(e){return new Uu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof di)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new di(this.comparator);return t.data=e,t}}class Uu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bu(r){return r.hasNext()?r.getNext():void 0}class Vo{constructor(e){this.fields=e,e.sort(yi.comparator)}static empty(){return new Vo([])}unionWith(e){let t=new di(yi.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Vo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Br(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class fl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class As{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fl("Invalid base64 string: "+a):a}}(e);return new As(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new As(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}As.EMPTY_BYTE_STRING=new As("");const yu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(r){if(yn(!!r),"string"==typeof r){let e=0;const t=yu.exec(r);if(yn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:us(r.seconds),nanos:us(r.nanos)}}function us(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function tu(r){return"string"==typeof r?As.fromBase64String(r):As.fromUint8Array(r)}function sa(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Qu(r){const e=r.mapValue.fields.__previous_value__;return sa(e)?Qu(e):e}function Pa(r){const e=Uo(r.mapValue.fields.__local_write_time__.timestampValue);return new Xr(e.seconds,e.nanos)}class Cp{constructor(e,t,s,a,c,p,D,k,$){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=D,this.longPollingOptions=k,this.useFetchStreams=$}}class vu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}const nu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_u={nullValue:"NULL_VALUE"};function za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sa(r)?4:Ls(r)?9007199254740991:10:Mt()}function wa(r,e){if(r===e)return!0;const t=za(r);if(t!==za(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Pa(r).isEqual(Pa(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Uo(s.timestampValue),p=Uo(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,tu(r.bytesValue).isEqual(tu(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return us(s.geoPointValue.latitude)===us(a.geoPointValue.latitude)&&us(s.geoPointValue.longitude)===us(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return us(s.integerValue)===us(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=us(s.doubleValue),p=us(a.doubleValue);return c===p?Ao(c)===Ao(p):isNaN(c)&&isNaN(p)}return!1}(r,e);case 9:return Br(r.arrayValue.values||[],e.arrayValue.values||[],wa);case 10:return function(s,a){const c=s.mapValue.fields||{},p=a.mapValue.fields||{};if(Ql(c)!==Ql(p))return!1;for(const D in c)if(c.hasOwnProperty(D)&&(void 0===p[D]||!wa(c[D],p[D])))return!1;return!0}(r,e);default:return Mt()}var a}function b(r,e){return void 0!==(r.values||[]).find(t=>wa(t,e))}function P(r,e){if(r===e)return 0;const t=za(r),s=za(e);if(t!==s)return Kt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(r.booleanValue,e.booleanValue);case 2:return function(a,c){const p=us(a.integerValue||a.doubleValue),D=us(c.integerValue||c.doubleValue);return p<D?-1:p>D?1:p===D?0:isNaN(p)?isNaN(D)?0:-1:1}(r,e);case 3:return W(r.timestampValue,e.timestampValue);case 4:return W(Pa(r),Pa(e));case 5:return Kt(r.stringValue,e.stringValue);case 6:return function(a,c){const p=tu(a),D=tu(c);return p.compareTo(D)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),D=c.split("/");for(let k=0;k<p.length&&k<D.length;k++){const $=Kt(p[k],D[k]);if(0!==$)return $}return Kt(p.length,D.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const p=Kt(us(a.latitude),us(c.latitude));return 0!==p?p:Kt(us(a.longitude),us(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],D=c.values||[];for(let k=0;k<p.length&&k<D.length;++k){const $=P(p[k],D[k]);if($)return $}return Kt(p.length,D.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===nu.mapValue&&c===nu.mapValue)return 0;if(a===nu.mapValue)return 1;if(c===nu.mapValue)return-1;const p=a.fields||{},D=Object.keys(p),k=c.fields||{},$=Object.keys(k);D.sort(),$.sort();for(let J=0;J<D.length&&J<$.length;++J){const Ie=Kt(D[J],$[J]);if(0!==Ie)return Ie;const Je=P(p[D[J]],k[$[J]]);if(0!==Je)return Je}return Kt(D.length,$.length)}(r.mapValue,e.mapValue);default:throw Mt()}}function W(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Kt(r,e);const t=Uo(r),s=Uo(e),a=Kt(t.seconds,s.seconds);return 0!==a?a:Kt(t.nanos,s.nanos)}function ie(r){return Se(r)}function Se(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Uo(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?tu(r.bytesValue).toBase64():"referenceValue"in r?tn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const p of s.values||[])c?c=!1:a+=",",a+=Se(p);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",p=!0;for(const D of a)p?p=!1:c+=",",c+=`${D}:${Se(s.fields[D])}`;return c+"}"}(r.mapValue):Mt();var e}function ct(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function nn(r){return!!r&&"integerValue"in r}function zt(r){return!!r&&"arrayValue"in r}function Cn(r){return!!r&&"nullValue"in r}function ir(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jn(r){return!!r&&"mapValue"in r}function ks(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return _a(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ks(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ks(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Ls(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Mc(r){return"nullValue"in r?_u:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ct(vu.empty(),tn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Mt()}function Ws(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ct(vu.empty(),tn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?nu:Mt()}function ru(r,e){const t=P(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Bo(r,e){const t=P(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Jn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ks(t)}setAll(e){let t=yi.emptyPath(),s={},a=[];e.forEach((p,D)=>{if(!t.isImmediateParentOf(D)){const k=this.getFieldsMap(t);this.applyChanges(k,s,a),s={},a=[],t=D.popLast()}p?s[D.lastSegment()]=ks(p):a.push(D.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());Jn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Jn(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){_a(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new vi(ks(this.value))}}function ps(r){const e=[];return _a(r.fields,(t,s)=>{const a=new yi([t]);if(Jn(s)){const c=ps(s.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new Vo(e)}class bi{constructor(e,t,s,a,c,p,D){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=p,this.documentState=D}static newInvalidDocument(e){return new bi(e,0,Mn.min(),Mn.min(),Mn.min(),vi.empty(),0)}static newFoundDocument(e,t,s,a){return new bi(e,1,t,Mn.min(),s,a,0)}static newNoDocument(e,t){return new bi(e,2,t,Mn.min(),Mn.min(),vi.empty(),0)}static newUnknownDocument(e,t){return new bi(e,3,t,Mn.min(),Mn.min(),vi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wa{constructor(e,t){this.position=e,this.inclusive=t}}function ef(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],p=r.position[a];if(s=c.field.isKeyField()?tn.comparator(tn.fromName(p.referenceValue),t.key):P(p,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Zd(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!wa(r.position[t],e.position[t]))return!1;return!0}class Ju{constructor(e,t="asc"){this.field=e,this.dir=t}}function Yd(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Qd{}class Kr extends Qd{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Tp(e,t,s):"array-contains"===t?new ju(e,s):"in"===t?new Ap(e,s):"not-in"===t?new Nc(e,s):"array-contains-any"===t?new gl(e,s):new Kr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new nf(e,s):new eh(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(P(t,this.value)):null!==t&&za(this.value)===za(t)&&this.matchesComparison(P(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ai extends Qd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ai(e,t)}matches(e){return Xu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Xu(r){return"and"===r.op}function Pc(r){return"or"===r.op}function Oc(r){return pl(r)&&Xu(r)}function pl(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function Jd(r){if(r instanceof Kr)return r.field.canonicalString()+r.op.toString()+ie(r.value);if(Oc(r))return r.filters.map(e=>Jd(e)).join(",");{const e=r.filters.map(t=>Jd(t)).join(",");return`${r.op}(${e})`}}function Xd(r,e){return r instanceof Kr?(t=r,(s=e)instanceof Kr&&t.op===s.op&&t.field.isEqual(s.field)&&wa(t.value,s.value)):r instanceof ai?function(t,s){return s instanceof ai&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,p)=>a&&Xd(c,s.filters[p]),!0)}(r,e):void Mt();var t,s}function tf(r,e){const t=r.filters.concat(e);return ai.create(t,r.op)}function Rc(r){return r instanceof Kr?`${(e=r).field.canonicalString()} ${e.op} ${ie(e.value)}`:r instanceof ai?function(e){return e.op.toString()+" {"+e.getFilters().map(Rc).join(" ,")+"}"}(r):"Filter";var e}class Tp extends Kr{constructor(e,t,s){super(e,t,s),this.key=tn.fromName(s.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.matchesComparison(t)}}class nf extends Kr{constructor(e,t){super(e,"in",t),this.keys=th(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eh extends Kr{constructor(e,t){super(e,"not-in",t),this.keys=th(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function th(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>tn.fromName(s.referenceValue))}class ju extends Kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zt(t)&&b(t.arrayValue,this.value)}}class Ap extends Kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&b(this.value.arrayValue,t)}}class Nc extends Kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(b(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!b(this.value.arrayValue,t)}}class gl extends Kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>b(this.value.arrayValue,s))}}class rf{constructor(e,t=null,s=[],a=[],c=null,p=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=p,this.endAt=D,this.dt=null}}function ml(r,e=null,t=[],s=[],a=null,c=null,p=null){return new rf(r,e,t,s,a,c,p)}function wu(r){const e=Qt(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Jd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),li(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ie(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ie(s)).join(",")),e.dt=t}return e.dt}function yl(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Yd(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Xd(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Zd(r.startAt,e.startAt)&&Zd(r.endAt,e.endAt)}function kc(r){return tn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Jl(r,e){return r.filters.filter(t=>t instanceof Kr&&t.field.isEqual(e))}function sf(r,e,t){let s=_u,a=!0;for(const c of Jl(r,e)){let p=_u,D=!0;switch(c.op){case"<":case"<=":p=Mc(c.value);break;case"==":case"in":case">=":p=c.value;break;case">":p=c.value,D=!1;break;case"!=":case"not-in":p=_u}ru({value:s,inclusive:a},{value:p,inclusive:D})<0&&(s=p,a=D)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const p=t.position[c];ru({value:s,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}function Xl(r,e,t){let s=nu,a=!0;for(const c of Jl(r,e)){let p=nu,D=!0;switch(c.op){case">=":case">":p=Ws(c.value),D=!1;break;case"==":case"in":case"<=":p=c.value;break;case"<":p=c.value,D=!1;break;case"!=":case"not-in":p=nu}Bo({value:s,inclusive:a},{value:p,inclusive:D})>0&&(s=p,a=D)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const p=t.position[c];Bo({value:s,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}class Eu{constructor(e,t=null,s=[],a=[],c=null,p="F",D=null,k=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=p,this.startAt=D,this.endAt=k,this.wt=null,this._t=null}}function nh(r,e,t,s,a,c,p,D){return new Eu(r,e,t,s,a,c,p,D)}function $u(r){return new Eu(r)}function rh(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function vl(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function _l(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function wl(r){return null!==r.collectionGroup}function Hu(r){const e=Qt(r);if(null===e.wt){e.wt=[];const t=_l(e),s=vl(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new Ju(t)),e.wt.push(new Ju(yi.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ju(yi.keyField(),c))}}}return e.wt}function So(r){const e=Qt(r);if(!e._t)if("F"===e.limitType)e._t=ml(e.path,e.collectionGroup,Hu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Hu(e))t.push(new Ju(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Wa(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Wa(e.startAt.position,e.startAt.inclusive):null;e._t=ml(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Ka(r,e){e.getFirstInequalityField(),_l(r);const t=r.filters.concat([e]);return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ec(r,e,t){return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Lc(r,e){return yl(So(r),So(e))&&r.limitType===e.limitType}function af(r){return`${wu(So(r))}|lt:${r.limitType}`}function El(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Rc(s)).join(", ")}]`),li(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ie(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ie(s)).join(",")),`Target(${t})`}(So(r))}; limitType=${r.limitType})`}function Gu(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):tn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of Hu(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,p){const D=ef(a,c,p);return a.inclusive?D<=0:D<0}(t.startAt,Hu(t),s)||t.endAt&&!function(a,c,p){const D=ef(a,c,p);return a.inclusive?D>=0:D>0}(t.endAt,Hu(t),s)));var t,s}function uf(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ih(r){return(e,t)=>{let s=!1;for(const a of Hu(r)){const c=sh(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function sh(r,e,t){const s=r.field.isKeyField()?tn.comparator(e.key,t.key):function(a,c,p){const D=c.data.field(a),k=p.data.field(a);return null!==D&&null!==k?P(D,k):Mt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Mt()}}class iu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return xc(this.inner)}size(){return this.innerSize}}const oh=new oi(tn.comparator);function jo(){return oh}const Il=new oi(tn.comparator);function Oa(...r){let e=Il;for(const t of r)e=e.insert(t.key,t);return e}function ah(r){let e=Il;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ea(){return tc()}function ed(){return tc()}function tc(){return new iu(r=>r.toString(),(r,e)=>r.isEqual(e))}const bl=new oi(tn.comparator),Sp=new di(tn.comparator);function yr(...r){let e=Sp;for(const t of r)e=e.add(t);return e}const uh=new di(Kt);function Dl(){return uh}function td(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ao(e)?"-0":e}}function nd(r){return{integerValue:""+r}}function nc(r,e){return ho(e)?nd(e):td(r,e)}class Fc{constructor(){this._=void 0}}function Ks(r,e,t){return r instanceof Tl?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&sa(a)&&(a=Qu(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof Iu?Vc(r,e):r instanceof rc?rd(r,e):function(s,a){const c=ch(s,a),p=qa(c)+qa(s.gt);return nn(c)&&nn(s.gt)?nd(p):td(s.serializer,p)}(r,e)}function Cl(r,e,t){return r instanceof Iu?Vc(r,e):r instanceof rc?rd(r,e):t}function ch(r,e){return r instanceof bu?nn(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Tl extends Fc{}class Iu extends Fc{constructor(e){super(),this.elements=e}}function Vc(r,e){const t=id(e);for(const s of r.elements)t.some(a=>wa(a,s))||t.push(s);return{arrayValue:{values:t}}}class rc extends Fc{constructor(e){super(),this.elements=e}}function rd(r,e){let t=id(e);for(const s of r.elements)t=t.filter(a=>!wa(a,s));return{arrayValue:{values:t}}}class bu extends Fc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function qa(r){return us(r.integerValue||r.doubleValue)}function id(r){return zt(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Uc{constructor(e,t){this.field=e,this.transform=t}}class lf{constructor(e,t){this.version=e,this.transformResults=t}}class Zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zi}static exists(e){return new Zi(void 0,e)}static updateTime(e){return new Zi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fo(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Bc{}function sd(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new ic(r.key,Zi.none()):new jc(r.key,r.data,Zi.none());{const t=r.data,s=vi.empty();let a=new di(yi.comparator);for(let c of e.fields)if(!a.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?s.delete(c):s.set(c,p),a=a.add(c)}return new zu(r.key,s,new Vo(a.toArray()),Zi.none())}}function xp(r,e,t){r instanceof jc?function(s,a,c){const p=s.value.clone(),D=Mp(s.fieldTransforms,a,c.transformResults);p.setAll(D),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):r instanceof zu?function(s,a,c){if(!fo(s.precondition,a))return void a.convertToUnknownDocument(c.version);const p=Mp(s.fieldTransforms,a,c.transformResults),D=a.data;D.setAll(dh(s)),D.setAll(p),a.convertToFoundDocument(c.version,D).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fs(r,e,t,s){return r instanceof jc?function(a,c,p,D){if(!fo(a.precondition,c))return p;const k=a.value.clone(),$=Pp(a.fieldTransforms,D,c);return k.setAll($),c.convertToFoundDocument(c.version,k).setHasLocalMutations(),null}(r,e,t,s):r instanceof zu?function(a,c,p,D){if(!fo(a.precondition,c))return p;const k=Pp(a.fieldTransforms,D,c),$=c.data;return $.setAll(dh(a)),$.setAll(k),c.convertToFoundDocument(c.version,$).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(J=>J.field))}(r,e,t,s):(p=t,fo(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function Du(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=ch(s.transform,a||null);null!=c&&(null===t&&(t=vi.empty()),t.set(s.field,c))}return t||null}function lh(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Br(t,s,(a,c)=>function cf(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Iu&&s instanceof Iu||t instanceof rc&&s instanceof rc?Br(t.elements,s.elements,wa):t instanceof bu&&s instanceof bu?wa(t.gt,s.gt):t instanceof Tl&&s instanceof Tl);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class jc extends Bc{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zu extends Bc{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dh(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Mp(r,e,t){const s=new Map;yn(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],p=c.transform,D=e.data.field(c.field);s.set(c.field,Cl(p,D,t[a]))}return s}function Pp(r,e,t){const s=new Map;for(const a of r){const c=a.transform,p=t.data.field(a.field);s.set(a.field,Ks(c,p,e))}return s}class ic extends Bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hh extends Bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class m{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&xp(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Fs(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Fs(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=ed();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let D=this.applyToLocalView(p,c.mutatedFields);D=t.has(a.key)?null:D;const k=sd(p,D);null!==k&&s.set(a.key,k),p.isValidDocument()||p.convertToNoDocument(Mn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yr())}isEqual(e){return this.batchId===e.batchId&&Br(this.mutations,e.mutations,(t,s)=>lh(t,s))&&Br(this.baseMutations,e.baseMutations,(t,s)=>lh(t,s))}}class d{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){yn(e.mutations.length===s.length);let a=bl;const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,s[p].version);return new d(e,t,s,a)}}class h{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class V{constructor(e,t){this.count=e,this.unchangedNames=t}}var K,me;function Ze(r){switch(r){default:return Mt();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}function Nt(r){if(void 0===r)return Rr("GRPC error has no .code"),rt.UNKNOWN;switch(r){case K.OK:return rt.OK;case K.CANCELLED:return rt.CANCELLED;case K.UNKNOWN:return rt.UNKNOWN;case K.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case K.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case K.INTERNAL:return rt.INTERNAL;case K.UNAVAILABLE:return rt.UNAVAILABLE;case K.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case K.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case K.NOT_FOUND:return rt.NOT_FOUND;case K.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case K.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case K.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case K.ABORTED:return rt.ABORTED;case K.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case K.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case K.DATA_LOSS:return rt.DATA_LOSS;default:return Mt()}}(me=K||(K={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class Yt{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return pn}static getOrCreateInstance(){return null===pn&&(pn=new Yt),pn}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let pn=null;function vn(){return new TextEncoder}const Yi=new Lo([4294967295,4294967295],0);function oa(r){const e=vn().encode(r),t=new Ja;return t.update(e),new Uint8Array(t.digest())}function od(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Lo([t,s],0),new Lo([a,c],0)]}class fh{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Wu(`Invalid padding: ${t}`);if(s<0)throw new Wu(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Wu(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Wu(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Lo.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(Lo.fromNumber(s)));return 1===a.compare(Yi)&&(a=new Lo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=oa(e),[s,a]=od(t);for(let c=0;c<this.hashCount;c++){const p=this.Et(s,a,c);if(!this.At(p))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new fh(c,a,t);return s.forEach(D=>p.insert(D)),p}insert(e){if(0===this.It)return;const t=oa(e),[s,a]=od(t);for(let c=0;c<this.hashCount;c++){const p=this.Et(s,a,c);this.Rt(p)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $c{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new $c(Mn.min(),a,new oi(Kt),jo(),yr())}}class Hc{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Hc(s,t,yr(),yr(),yr())}}class Gc{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class ph{constructor(e,t){this.targetId=e,this.Vt=t}}class ad{constructor(e,t,s=As.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class sc{constructor(){this.St=0,this.Dt=cd(),this.Ct=As.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=yr(),t=yr(),s=yr();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Mt()}}),new Hc(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=cd()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class df{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=jo(),this.zt=ud(),this.Wt=new oi(Kt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:Mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const p=c.target;if(kc(p))if(0===a){const D=new tn(p.path);this.Yt(s,D,bi.newNoDocument(D,Mn.min()))}else yn(1===a);else{const D=this.ie(s);if(D!==a){const k=this.re(e,D);0!==k&&(this.ee(s),this.Wt=this.Wt.insert(s,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Yt.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function($,J,Ie){var Je,pt,$t,on,gn,Ir;const Zr={localCacheCount:J,existenceFilterCount:Ie.count},br=Ie.unchangedNames;return br&&(Zr.bloomFilter={applied:0===$,hashCount:null!==(Je=br?.hashCount)&&void 0!==Je?Je:0,bitmapLength:null!==(on=null===($t=null===(pt=br?.bits)||void 0===pt?void 0:pt.bitmap)||void 0===$t?void 0:$t.length)&&void 0!==on?on:0,padding:null!==(Ir=null===(gn=br?.bits)||void 0===gn?void 0:gn.padding)&&void 0!==Ir?Ir:0}),Zr}(k,D,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:p=0},hashCount:D=0}=s;let k,$;try{k=tu(c).toUint8Array()}catch(J){if(J instanceof fl)return Ei("Decoding the base64 bloom filter in existence filter failed ("+J.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw J}try{$=new fh(k,p,D)}catch(J){return Ei(J instanceof Wu?"BloomFilter error: ":"Applying bloom filter failed: ",J),1}return 0===$.It?1:a!==t-this.oe(e.targetId,$)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const p=this.Gt.ue(),D=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.vt(D)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,p)=>{const D=this.se(p);if(D){if(c.current&&kc(D.target)){const k=new tn(D.target.path);null!==this.jt.get(k)||this.ae(p,k)||this.Yt(p,k,bi.newNoDocument(k,e))}c.Mt&&(t.set(p,c.Ot()),c.Ft())}});let s=yr();this.zt.forEach((c,p)=>{let D=!0;p.forEachWhile(k=>{const $=this.se(k);return!$||"TargetPurposeLimboResolution"===$.purpose||(D=!1,!1)}),D&&(s=s.add(c))}),this.jt.forEach((c,p)=>p.setReadTime(e));const a=new $c(e,t,this.Wt,this.jt,s);return this.jt=jo(),this.zt=ud(),this.Wt=new oi(Kt),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new sc,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new di(Kt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||kt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new sc),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function ud(){return new oi(tn.comparator)}function cd(){return new oi(tn.comparator)}const Vs={asc:"ASCENDING",desc:"DESCENDING"},$v={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hv={and:"AND",or:"OR"};class Op{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hf(r,e){return r.useProto3Json||li(e)?e:{value:e}}function ld(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vm(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Gv(r,e){return ld(r,e.toTimestamp())}function qs(r){return yn(!!r),Mn.fromTimestamp(function(e){const t=Uo(e);return new Xr(t.seconds,t.nanos)}(r))}function Rp(r,e){return(t=r,new Rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function zv(r){const e=Rn.fromString(r);return yn(jm(e)),e}function ff(r,e){return Rp(r.databaseId,e.path)}function Ra(r,e){const t=zv(e);if(t.get(1)!==r.databaseId.projectId)throw new wt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new wt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new tn(kp(t))}function gh(r,e){return Rp(r.databaseId,e)}function Np(r){const e=zv(r);return 4===e.length?Rn.emptyPath():kp(e)}function dd(r){return new Rn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kp(r){return yn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Um(r,e,t){return{name:ff(r,e),fields:t.value.mapValue.fields}}function Lp(r,e,t){const s=Ra(r,e.name),a=qs(e.updateTime),c=e.createTime?qs(e.createTime):Mn.min(),p=new vi({mapValue:{fields:e.fields}}),D=bi.newFoundDocument(s,a,c,p);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function pf(r,e){let t;if(e instanceof jc)t={update:Um(r,e.key,e.value)};else if(e instanceof ic)t={delete:ff(r,e.key)};else if(e instanceof zu)t={update:Um(r,e.key,e.data),updateMask:Hp(e.fieldMask)};else{if(!(e instanceof hh))return Mt();t={verify:ff(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const p=c.transform;if(p instanceof Tl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Iu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof rc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof bu)return{fieldPath:c.field.canonicalString(),increment:p.gt};throw Mt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Gv(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Mt()),t;var a}function Vp(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Zi.updateTime(qs(a.updateTime)):void 0!==a.exists?Zi.exists(a.exists):Zi.none():Zi.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,p){let D=null;"setToServerValue"in p?(yn("REQUEST_TIME"===p.setToServerValue),D=new Tl):"appendMissingElements"in p?D=new Iu(p.appendMissingElements.values||[]):"removeAllFromArray"in p?D=new rc(p.removeAllFromArray.values||[]):"increment"in p?D=new bu(c,p.increment):Mt();const k=yi.fromServerFormat(p.fieldPath);return new Uc(k,D)}(r,a)):[];var a;if(e.update){const a=Ra(r,e.update.name),c=new vi({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Vo((e.updateMask.fieldPaths||[]).map($=>yi.fromServerFormat($)));return new zu(a,c,p,t,s)}return new jc(a,c,t,s)}if(e.delete){const a=Ra(r,e.delete);return new ic(a,t)}if(e.verify){const a=Ra(r,e.verify);return new hh(a,t)}return Mt()}function Bp(r,e){return{documents:[gh(r,e.path)]}}function gf(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=gh(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=gh(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(k){if(0!==k.length)return $p(ai.create(k,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(k){if(0!==k.length)return k.map($=>{return{field:Cu((J=$).field),direction:yf(J.dir)};var J})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=hf(r,e.limit);var D,k;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(k=e.endAt).inclusive,values:k.position}),t}function zc(r){let e=Np(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){yn(1===s);const J=t.from[0];J.allDescendants?a=J.collectionId:e=e.child(J.collectionId)}let c=[];t.where&&(c=function(J){const Ie=mf(J);return Ie instanceof ai&&Oc(Ie)?Ie.getFilters():[Ie]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(J=>{return new Ju(su((Ie=J).field),function(Je){switch(Je){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ie.direction));var Ie}));let D=null;t.limit&&(D=function(J){let Ie;return Ie="object"==typeof J?J.value:J,li(Ie)?null:Ie}(t.limit));let k=null;var J;t.startAt&&(k=new Wa((J=t.startAt).values||[],!!J.before));let $=null;return t.endAt&&($=function(J){return new Wa(J.values||[],!J.before)}(t.endAt)),nh(e,a,p,c,D,"F",k,$)}function mf(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=su(e.unaryFilter.field);return Kr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=su(e.unaryFilter.field);return Kr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=su(e.unaryFilter.field);return Kr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=su(e.unaryFilter.field);return Kr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}(r):void 0!==r.fieldFilter?Kr.create(su((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return ai.create(e.compositeFilter.filters.map(t=>mf(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Mt()}}(e.compositeFilter.op))}(r):Mt();var e}function yf(r){return Vs[r]}function Kv(r){return $v[r]}function jp(r){return Hv[r]}function Cu(r){return{fieldPath:r.canonicalString()}}function su(r){return yi.fromServerFormat(r.fieldPath)}function $p(r){return r instanceof Kr?function(e){if("=="===e.op){if(ir(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NAN"}};if(Cn(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ir(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NOT_NAN"}};if(Cn(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cu(e.field),op:Kv(e.op),value:e.value}}}(r):r instanceof ai?function(e){const t=e.getFilters().map(s=>$p(s));return 1===t.length?t[0]:{compositeFilter:{op:jp(e.op),filters:t}}}(r):Mt()}function Hp(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jm(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class oc{constructor(e,t,s,a,c=Mn.min(),p=Mn.min(),D=As.EMPTY_BYTE_STRING,k=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=D,this.expectedCount=k}withSequenceNumber(e){return new oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gp{constructor(e){this.fe=e}}function $m(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:ff(a=r.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:ld(a,c.version.toTimestamp()),createTime:ld(a,c.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Al(e.version)};else{if(!e.isUnknownDocument())return Mt();s.unknownDocument={path:t.path.toArray(),version:Al(e.version)}}var a,c;return s}function vf(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Al(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sl(r){const e=new Xr(r.seconds,r.nanoseconds);return Mn.fromTimestamp(e)}function ac(r,e){const t=(e.baseMutations||[]).map(c=>Vp(r.fe,c));for(let c=0;c<e.mutations.length-1;++c){const p=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(p.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const s=e.mutations.map(c=>Vp(r.fe,c)),a=Xr.fromMillis(e.localWriteTimeMs);return new m(e.batchId,a,t,s)}function mh(r){const e=Sl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Sl(r.lastLimboFreeSnapshotVersion):Mn.min();let s;var a;return void 0!==r.query.documents?(yn(1===(a=r.query).documents.length),s=So($u(Np(a.documents[0])))):s=So(zc(r.query)),new oc(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,As.fromBase64String(r.resumeToken))}function zp(r,e){const t=Al(e.snapshotVersion),s=Al(e.lastLimboFreeSnapshotVersion);let a;a=kc(e.target)?Bp(r.fe,e.target):gf(r.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wu(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Wp(r){const e=zc({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?ec(e,e.limit,"L"):e}function _f(r,e){return new h(e.largestBatchId,Vp(r.fe,e.overlayMutation))}function qv(r,e){const t=e.path.lastSegment();return[r,Xi(e.path.popLast()),t]}function Hm(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Al(s.readTime),documentKey:Xi(s.documentKey.path),largestBatchId:s.largestBatchId}}class yh{getBundleMetadata(e,t){return Gm(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Sl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Gm(e).put({bundleId:(s=t).id,createTime:Al(qs(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return xl(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Wp(a.bundledQuery),readTime:Sl(a.readTime)};var a})}saveNamedQuery(e,t){return xl(e).put({name:(s=t).name,readTime:Al(qs(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Gm(r){return Ts(r,"bundles")}function xl(r){return Ts(r,"namedQueries")}class Wc{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Wc(e,t.uid||"")}getOverlay(e,t){return vh(e).get(qv(this.userId,t)).next(s=>s?_f(this.serializer,s):null)}getOverlays(e,t){const s=Ea();return y.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,p)=>{const D=new h(t,p);a.push(this.we(e,D))}),y.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(p=>a.add(Xi(p.getCollectionPath())));const c=[];return a.forEach(p=>{const D=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);c.push(vh(e).J("collectionPathOverlayIndex",D))}),y.waitFor(c)}getOverlaysForCollection(e,t,s){const a=Ea(),c=Xi(t),p=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return vh(e).j("collectionPathOverlayIndex",p).next(D=>{for(const k of D){const $=_f(this.serializer,k);a.set($.getKey(),$)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=Ea();let p;const D=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vh(e).X({index:"collectionGroupOverlayIndex",range:D},(k,$,J)=>{const Ie=_f(this.serializer,$);c.size()<a||Ie.largestBatchId===p?(c.set(Ie.getKey(),Ie),p=Ie.largestBatchId):J.done()}).next(()=>c)}we(e,t){return vh(e).put(function(s,a,c){const[p,D,k]=qv(a,c.mutation.key);return{userId:a,collectionPath:D,documentId:k,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:pf(s.fe,c.mutation)}}(this.serializer,this.userId,t))}}function vh(r){return Ts(r,"documentOverlays")}class fd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(us(e.integerValue));else if("doubleValue"in e){const s=us(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Ao(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(tu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?Ls(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Mt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),tn.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function zm(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Wm(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=zm(255&t[a]);if(s+=c,8!==c)break}return s}(r);return Math.ceil(e/8)}fd.Ve=new fd;class Zv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=Wm(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=Wm(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Yv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Km{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class pd{constructor(){this.je=new Zv,this.ze=new Yv(this.je),this.We=new Km(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class uc{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new uc(this.indexId,this.documentKey,this.arrayValue,s)}}function Ku(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=qm(r.arrayValue,e.arrayValue),0!==t?t:(t=qm(r.directionalValue,e.directionalValue),0!==t?t:tn.comparator(r.documentKey,e.documentKey)))}function qm(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class Kp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){yn(e.collectionGroup===this.collectionId);const t=as(e);if(void 0!==t&&!this.en(t))return!1;const s=Cs(e);let a=new Set,c=0,p=0;for(;c<s.length&&this.en(s[c]);++c)a=a.add(s[c].fieldPath.canonicalString());if(c===s.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const D=s[c];if(!this.nn(this.Ze,D)||!this.sn(this.Ye[p++],D))return!1}++c}for(;c<s.length;++c){const D=s[c];if(p>=this.Ye.length||!this.sn(this.Ye[p++],D))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function gd(r){var e,t;if(yn(r instanceof Kr||r instanceof ai),r instanceof Kr){if(r instanceof Ap){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Kr.create(r.field,"==",c)))||[];return ai.create(a,"or")}return r}const s=r.filters.map(a=>gd(a));return ai.create(s,r.op)}function Qv(r){if(0===r.getFilters().length)return[];const e=Yp(gd(r));return yn(Zm(e)),qp(e)||Zp(e)?[e]:e.getFilters()}function qp(r){return r instanceof Kr}function Zp(r){return r instanceof ai&&Oc(r)}function Zm(r){return qp(r)||Zp(r)||function(e){if(e instanceof ai&&Pc(e)){for(const t of e.getFilters())if(!qp(t)&&!Zp(t))return!1;return!0}return!1}(r)}function Yp(r){if(yn(r instanceof Kr||r instanceof ai),r instanceof Kr)return r;if(1===r.filters.length)return Yp(r.filters[0]);const e=r.filters.map(s=>Yp(s));let t=ai.create(e,r.op);return t=cc(t),Zm(t)?t:(yn(t instanceof ai),yn(Xu(t)),yn(t.filters.length>1),t.filters.reduce((s,a)=>Qp(s,a)))}function Qp(r,e){let t;return yn(r instanceof Kr||r instanceof ai),yn(e instanceof Kr||e instanceof ai),t=r instanceof Kr?e instanceof Kr?ai.create([r,e],"and"):Ym(r,e):e instanceof Kr?Ym(e,r):function(s,a){if(yn(s.filters.length>0&&a.filters.length>0),Xu(s)&&Xu(a))return tf(s,a.getFilters());const c=Pc(s)?s:a,p=Pc(s)?a:s,D=c.filters.map(k=>Qp(k,p));return ai.create(D,"or")}(r,e),cc(t)}function Ym(r,e){if(Xu(e))return tf(e,r.getFilters());{const t=e.filters.map(s=>Qp(r,s));return ai.create(t,"or")}}function cc(r){if(yn(r instanceof Kr||r instanceof ai),r instanceof Kr)return r;const e=r.getFilters();if(1===e.length)return cc(e[0]);if(pl(r))return r;const t=e.map(a=>cc(a)),s=[];return t.forEach(a=>{a instanceof Kr?s.push(a):a instanceof ai&&(a.op===r.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:ai.create(s,r.op)}class lc{constructor(){this.rn=new Jp}addToCollectionParentIndex(e,t){return this.rn.add(t),y.resolve()}getCollectionParents(e,t){return y.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return y.resolve()}deleteFieldIndex(e,t){return y.resolve()}getDocumentsMatchingTarget(e,t){return y.resolve(null)}getIndexType(e,t){return y.resolve(0)}getFieldIndexes(e,t){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,t){return y.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,t){return y.resolve(ro.min())}updateCollectionGroup(e,t,s){return y.resolve()}updateIndexEntries(e,t){return y.resolve()}}class Jp{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new di(Rn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new di(Rn.comparator)).toArray()}}const wf=new Uint8Array(0);class t0{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Jp,this.un=new iu(s=>wu(s),(s,a)=>yl(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:s,parent:Xi(a)};return Jv(e).put(c)}return y.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[xa(t),""],!1,!0);return Jv(e).j(a).next(c=>{for(const p of c){if(p.collectionId!==t)break;s.push(Fi(p.parent))}return s})}addFieldIndex(e,t){const s=Xp(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(D=>[D.fieldPath.canonicalString(),D.kind])};var p;delete a.indexId;const c=s.add(a);if(t.indexState){const p=yd(e);return c.next(D=>{p.put(Hm(D,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=Xp(e),a=yd(e),c=md(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=md(e);let a=!0;const c=new Map;return y.forEach(this.cn(t),p=>this.an(e,p).next(D=>{a&&(a=!!D),c.set(p,D)})).next(()=>{if(a){let p=yr();const D=[];return y.forEach(c,(k,$)=>{var J;kt("IndexedDbIndexManager",`Using index ${J=k,`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map(br=>`${br.fieldPath}:${br.kind}`).join(",")}`} to execute ${wu(t)}`);const Ie=function(br,ms){const Qi=as(ms);if(void 0===Qi)return null;for(const Bi of Jl(br,Qi.fieldPath))switch(Bi.op){case"array-contains-any":return Bi.value.arrayValue.values||[];case"array-contains":return[Bi.value]}return null}($,k),Je=function(br,ms){const Qi=new Map;for(const Bi of Cs(ms))for(const ha of Jl(br,Bi.fieldPath))switch(ha.op){case"==":case"in":Qi.set(Bi.fieldPath.canonicalString(),ha.value);break;case"not-in":case"!=":return Qi.set(Bi.fieldPath.canonicalString(),ha.value),Array.from(Qi.values())}return null}($,k),pt=function(br,ms){const Qi=[];let Bi=!0;for(const ha of Cs(ms)){const Kl=0===ha.kind?sf(br,ha.fieldPath,br.startAt):Xl(br,ha.fieldPath,br.startAt);Qi.push(Kl.value),Bi&&(Bi=Kl.inclusive)}return new Wa(Qi,Bi)}($,k),$t=function(br,ms){const Qi=[];let Bi=!0;for(const ha of Cs(ms)){const Kl=0===ha.kind?Xl(br,ha.fieldPath,br.endAt):sf(br,ha.fieldPath,br.endAt);Qi.push(Kl.value),Bi&&(Bi=Kl.inclusive)}return new Wa(Qi,Bi)}($,k),on=this.hn(k,$,pt),gn=this.hn(k,$,$t),Ir=this.ln(k,$,Je),Zr=this.fn(k.indexId,Ie,on,pt.inclusive,gn,$t.inclusive,Ir);return y.forEach(Zr,br=>s.H(br,t.limit).next(ms=>{ms.forEach(Qi=>{const Bi=tn.fromSegments(Qi.documentKey);p.has(Bi)||(p=p.add(Bi),D.push(Bi))})}))}).next(()=>D)}return y.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Qv(ai.create(e.filters,"and")).map(s=>ml(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,c,p,D){const k=(null!=t?t.length:1)*Math.max(s.length,c.length),$=k/(null!=t?t.length:1),J=[];for(let Ie=0;Ie<k;++Ie){const Je=t?this.dn(t[Ie/$]):wf,pt=this.wn(e,Je,s[Ie%$],a),$t=this._n(e,Je,c[Ie%$],p),on=D.map(gn=>this.wn(e,Je,gn,!0));J.push(...this.createRange(pt,$t,on))}return J}wn(e,t,s,a){const c=new uc(e,tn.empty(),t,s);return a?c:c.Je()}_n(e,t,s,a){const c=new uc(e,tn.empty(),t,s);return a?c.Je():c}an(e,t){const s=new Kp(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let p=null;for(const D of c)s.tn(D)&&(!p||D.fields.length>p.fields.length)&&(p=D);return p})}getIndexType(e,t){let s=2;const a=this.cn(t);return y.forEach(a,c=>this.an(e,c).next(p=>{p?0!==s&&p.fields.length<function(D){let k=new di(yi.comparator),$=!1;for(const J of D.filters)for(const Ie of J.getFlattenedFilters())Ie.field.isKeyField()||("array-contains"===Ie.op||"array-contains-any"===Ie.op?$=!0:k=k.add(Ie.field));for(const J of D.orderBy)J.field.isKeyField()||(k=k.add(J.field));return k.size+($?1:0)}(c)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new pd;for(const a of Cs(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const p=s.He(a.kind);fd.Ve._e(c,p)}return s.Qe()}dn(e){const t=new pd;return fd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new pd;return fd.Ve._e(ct(this.databaseId,t),s.He(function(a){const c=Cs(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new pd);let c=0;for(const p of Cs(e)){const D=s[c++];for(const k of a)if(this.yn(t,p.fieldPath)&&zt(D))a=this.pn(a,p,D);else{const $=k.He(p.kind);fd.Ve._e(D,$)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],c=[];for(const p of s.arrayValue.values||[])for(const D of a){const k=new pd;k.seed(D.Qe()),fd.Ve._e(p,k.He(t.kind)),c.push(k)}return c}yn(e,t){return!!e.filters.find(s=>s instanceof Kr&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Xp(e),a=yd(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(c=>{const p=[];return y.forEach(c,D=>a.get([D.indexId,this.uid]).next(k=>{p.push(function($,J){const Ie=J?new eu(J.sequenceNumber,new ro(Sl(J.readTime),new tn(Fi(J.documentKey)),J.largestBatchId)):eu.empty(),Je=$.fields.map(([pt,$t])=>new Ba(yi.fromServerFormat(pt),$t));return new Ua($.indexId,$.collectionGroup,Je,Ie)}(D,k))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:Kt(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Xp(e),c=yd(e);return this.Tn(e).next(p=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(D=>y.forEach(D,k=>c.put(Hm(k.indexId,this.user,p,s)))))}updateIndexEntries(e,t){const s=new Map;return y.forEach(t,(a,c)=>{const p=s.get(a.collectionGroup);return(p?y.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(D=>(s.set(a.collectionGroup,D),y.forEach(D,k=>this.En(e,a,k).next($=>{const J=this.An(c,k);return $.isEqual(J)?y.resolve():this.vn(e,c,k,$,J)}))))})}Rn(e,t,s,a){return md(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return md(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=md(e);let c=new di(Ku);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(p,D)=>{c=c.add(new uc(s.indexId,t,D.arrayValue,D.directionalValue))}).next(()=>c)}An(e,t){let s=new di(Ku);const a=this.mn(t,e);if(null==a)return s;const c=as(t);if(null!=c){const p=e.data.field(c.fieldPath);if(zt(p))for(const D of p.arrayValue.values||[])s=s.add(new uc(t.indexId,e.key,this.dn(D),a))}else s=s.add(new uc(t.indexId,e.key,wf,a));return s}vn(e,t,s,a,c){kt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(D,k,$,J,Ie){const Je=D.getIterator(),pt=k.getIterator();let $t=Bu(Je),on=Bu(pt);for(;$t||on;){let gn=!1,Ir=!1;if($t&&on){const Zr=$($t,on);Zr<0?Ir=!0:Zr>0&&(gn=!0)}else null!=$t?Ir=!0:gn=!0;gn?(J(on),on=Bu(pt)):Ir?(Ie($t),$t=Bu(Je)):($t=Bu(Je),on=Bu(pt))}}(a,c,Ku,D=>{p.push(this.Rn(e,t,s,D))},D=>{p.push(this.Pn(e,t,s,D))}),y.waitFor(p)}Tn(e){let t=1;return yd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((p,D)=>Ku(p,D)).filter((p,D,k)=>!D||0!==Ku(p,k[D-1]));const a=[];a.push(e);for(const p of s){const D=Ku(p,e),k=Ku(p,t);if(0===D)a[0]=e.Je();else if(D>0&&k<0)a.push(p),a.push(p.Je());else if(k>0)break}a.push(t);const c=[];for(let p=0;p<a.length;p+=2){if(this.bn(a[p],a[p+1]))return[];c.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,wf,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,wf,[]]))}return c}bn(e,t){return Ku(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Xv)}getMinOffset(e,t){return y.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||Mt())).next(Xv)}}function Jv(r){return Ts(r,"collectionParents")}function md(r){return Ts(r,"indexEntries")}function Xp(r){return Ts(r,"indexConfiguration")}function yd(r){return Ts(r,"indexState")}function Xv(r){yn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;Ic(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new ro(e.readTime,e.documentKey,t)}const eg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class aa{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new aa(e,aa.DEFAULT_COLLECTION_PERCENTILE,aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tg(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),c=[],p=IDBKeyRange.only(t.batchId);let D=0;const k=s.X({range:p},(J,Ie,Je)=>(D++,Je.delete()));c.push(k.next(()=>{yn(1===D)}));const $=[];for(const J of t.mutations){const Ie=al(e,J.key.path,t.batchId);c.push(a.delete(Ie)),$.push(J.key)}return y.waitFor(c).next(()=>$)}function Ef(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Mt();e=r.noDocument}return JSON.stringify(e).length}aa.DEFAULT_COLLECTION_PERCENTILE=10,aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,aa.DEFAULT=new aa(41943040,aa.DEFAULT_COLLECTION_PERCENTILE,aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),aa.DISABLED=new aa(-1,0,0);class If{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){yn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new If(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).X({index:"userMutationsIndex",range:s},(a,c,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=Ml(e),p=Kc(e);return p.add({}).next(D=>{yn("number"==typeof D);const k=new m(D,t,s,a),$=function(Je,pt,$t){const on=$t.baseMutations.map(Ir=>pf(Je.fe,Ir)),gn=$t.mutations.map(Ir=>pf(Je.fe,Ir));return{userId:pt,batchId:$t.batchId,localWriteTimeMs:$t.localWriteTime.toMillis(),baseMutations:on,mutations:gn}}(this.serializer,this.userId,k),J=[];let Ie=new di((Je,pt)=>Kt(Je.canonicalString(),pt.canonicalString()));for(const Je of a){const pt=al(this.userId,Je.key.path,D);Ie=Ie.add(Je.key.path.popLast()),J.push(p.put($)),J.push(c.put(pt,Dc))}return Ie.forEach(Je=>{J.push(this.indexManager.addToCollectionParentIndex(e,Je))}),e.addOnCommittedListener(()=>{this.Vn[D]=k.keys()}),y.waitFor(J).next(()=>k)})}lookupMutationBatch(e,t){return Kc(e).get(t).next(s=>s?(yn(s.userId===this.userId),ac(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?y.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return Kc(e).X({index:"userMutationsIndex",range:a},(p,D,k)=>{D.userId===this.userId&&(yn(D.batchId>=s),c=ac(this.serializer,D)),k.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Kc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,p)=>{s=c.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).j("userMutationsIndex",t).next(s=>s.map(a=>ac(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Vi(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return Ml(e).X({range:a},(p,D,k)=>{const[$,J,Ie]=p,Je=Fi(J);if($===this.userId&&t.path.isEqual(Je))return Kc(e).get(Ie).next(pt=>{if(!pt)throw Mt();yn(pt.userId===this.userId),c.push(ac(this.serializer,pt))});k.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new di(Kt);const a=[];return t.forEach(c=>{const p=Vi(this.userId,c.path),D=IDBKeyRange.lowerBound(p),k=Ml(e).X({range:D},($,J,Ie)=>{const[Je,pt,$t]=$,on=Fi(pt);Je===this.userId&&c.path.isEqual(on)?s=s.add($t):Ie.done()});a.push(k)}),y.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=Vi(this.userId,s),p=IDBKeyRange.lowerBound(c);let D=new di(Kt);return Ml(e).X({range:p},(k,$,J)=>{const[Ie,Je,pt]=k,$t=Fi(Je);Ie===this.userId&&s.isPrefixOf($t)?$t.length===a&&(D=D.add(pt)):J.done()}).next(()=>this.Dn(e,D))}Dn(e,t){const s=[],a=[];return t.forEach(c=>{a.push(Kc(e).get(c).next(p=>{if(null===p)throw Mt();yn(p.userId===this.userId),s.push(ac(this.serializer,p))}))}),y.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return tg(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),y.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return y.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return Ml(e).X({range:s},(c,p,D)=>{if(c[0]===this.userId){const k=Fi(c[1]);a.push(k)}else D.done()}).next(()=>{yn(0===a.length)})})}containsKey(e,t){return ou(e,this.userId,t)}xn(e){return Qm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ou(r,e,t){const s=Vi(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let p=!1;return Ml(r).X({range:c,Y:!0},(D,k,$)=>{const[J,Ie,Je]=D;J===e&&Ie===a&&(p=!0),$.done()}).next(()=>p)}function Kc(r){return Ts(r,"mutations")}function Ml(r){return Ts(r,"documentMutations")}function Qm(r){return Ts(r,"mutationQueues")}class Pl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Pl(0)}static Mn(){return new Pl(-1)}}class e_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new Pl(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Mn.fromTimestamp(new Xr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>vd(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(yn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return vd(e).X((p,D)=>{const k=mh(D);k.sequenceNumber<=t&&null===s.get(k.targetId)&&(a++,c.push(this.removeTargetData(e,k)))}).next(()=>y.waitFor(c)).next(()=>a)}forEachTarget(e,t){return vd(e).X((s,a)=>{const c=mh(a);t(c)})}$n(e){return ng(e).get("targetGlobalKey").next(t=>(yn(null!==t),t))}On(e,t){return ng(e).put("targetGlobalKey",t)}Fn(e,t){return vd(e).put(zp(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=wu(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return vd(e).X({range:a,index:"queryTargetsIndex"},(p,D,k)=>{const $=mh(D);yl(t,$.target)&&(c=$,k.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=qc(e);return t.forEach(p=>{const D=Xi(p.path);a.push(c.put({targetId:s,path:D})),a.push(this.referenceDelegate.addReference(e,s,p))}),y.waitFor(a)}removeMatchingKeys(e,t,s){const a=qc(e);return y.forEach(t,c=>{const p=Xi(c.path);return y.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=qc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=qc(e);let c=yr();return a.X({range:s,Y:!0},(p,D,k)=>{const $=Fi(p[1]),J=new tn($);c=c.add(J)}).next(()=>c)}containsKey(e,t){const s=Xi(t.path),a=IDBKeyRange.bound([s],[xa(s)],!1,!0);let c=0;return qc(e).X({index:"documentTargetsIndex",Y:!0,range:a},([p,D],k,$)=>{0!==p&&(c++,$.done())}).next(()=>c>0)}le(e,t){return vd(e).get(t).next(s=>s?mh(s):null)}}function vd(r){return Ts(r,"targets")}function ng(r){return Ts(r,"targetGlobal")}function qc(r){return Ts(r,"targetDocuments")}function Jm([r,e],[t,s]){const a=Kt(r,t);return 0===a?Kt(e,s):a}class t_{constructor(e){this.Ln=e,this.buffer=new di(Jm),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Jm(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Er{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;kt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,De.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){he(s)?kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Fo(s)}yield t.Qn(3e5)}))}}class Xm{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return y.resolve(Vr.ct);const s=new t_(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(kt("LruGarbageCollector","Garbage collection skipped; disabled"),y.resolve(eg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eg):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,c,p,D,k,$;const J=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ie=>(Ie>this.params.maximumSequenceNumbersToCollect?(kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ie}`),a=this.params.maximumSequenceNumbersToCollect):a=Ie,p=Date.now(),this.nthSequenceNumber(e,a))).next(Ie=>(s=Ie,D=Date.now(),this.removeTargets(e,s,t))).next(Ie=>(c=Ie,k=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ie=>($=Date.now(),Sa()<=Ye.in.DEBUG&&kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-J}ms\n\tDetermined least recently used ${a} in `+(D-p)+`ms\n\tRemoved ${c} targets in `+(k-D)+`ms\n\tRemoved ${Ie} documents in `+($-k)+`ms\nTotal Duration: ${$-J}ms`),y.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:Ie})))}}class ey{constructor(e,t){this.db=e,this.garbageCollector=function rg(r,e){return new Xm(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return bf(e,s)}removeReference(e,t,s){return bf(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return bf(e,t)}Xn(e,t){return function(s,a){let c=!1;return Qm(s).Z(p=>ou(s,p,a).next(D=>(D&&(c=!0),y.resolve(!D)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Yn(e,(p,D)=>{if(D<=t){const k=this.Xn(e,p).next($=>{if(!$)return c++,s.getEntry(e,p).next(()=>(s.removeEntry(p,Mn.min()),qc(e).delete([0,Xi(p.path)])))});a.push(k)}}).next(()=>y.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return bf(e,t)}Yn(e,t){const s=qc(e);let a,c=Vr.ct;return s.X({index:"documentTargetsIndex"},([p,D],{path:k,sequenceNumber:$})=>{0===p?(c!==Vr.ct&&t(new tn(Fi(a)),c),c=$,a=k):c=Vr.ct}).next(()=>{c!==Vr.ct&&t(new tn(Fi(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bf(r,e){return qc(r).put((s=r.currentSequenceNumber,{targetId:0,path:Xi(e.path),sequenceNumber:s}));var s}class ty{constructor(){this.changes=new iu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?y.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ny{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Ol(e).put(s)}removeEntry(e,t,s){return Ol(e).delete(function(a,c){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],vf(c),p[p.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=bi.newInvalidDocument(t);return Ol(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Df(t))},(a,c)=>{s=this.ts(t,c)}).next(()=>s)}es(e,t){let s={size:0,document:bi.newInvalidDocument(t)};return Ol(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Df(t))},(a,c)=>{s={document:this.ts(t,c),size:Ef(c)}}).next(()=>s)}getEntries(e,t){let s=jo();return this.ns(e,t,(a,c)=>{const p=this.ts(a,c);s=s.insert(a,p)}).next(()=>s)}ss(e,t){let s=jo(),a=new oi(tn.comparator);return this.ns(e,t,(c,p)=>{const D=this.ts(c,p);s=s.insert(c,D),a=a.insert(c,Ef(p))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return y.resolve();let a=new di(sg);t.forEach(k=>a=a.add(k));const c=IDBKeyRange.bound(Df(a.first()),Df(a.last())),p=a.getIterator();let D=p.getNext();return Ol(e).X({index:"documentKeyIndex",range:c},(k,$,J)=>{const Ie=tn.fromSegments([...$.prefixPath,$.collectionGroup,$.documentId]);for(;D&&sg(D,Ie)<0;)s(D,null),D=p.getNext();D&&D.isEqual(Ie)&&(s(D,$),D=p.hasNext()?p.getNext():null),D?J.G(Df(D)):J.done()}).next(()=>{for(;D;)s(D,null),D=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const c=t.path,p=[c.popLast().toArray(),c.lastSegment(),vf(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],D=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ol(e).j(IDBKeyRange.bound(p,D,!0)).next(k=>{let $=jo();for(const J of k){const Ie=this.ts(tn.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);Ie.isFoundDocument()&&(Gu(t,Ie)||a.has(Ie.key))&&($=$.insert(Ie.key,Ie))}return $})}getAllFromCollectionGroup(e,t,s,a){let c=jo();const p=ig(t,s),D=ig(t,ro.max());return Ol(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,D,!0)},(k,$,J)=>{const Ie=this.ts(tn.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);c=c.insert(Ie.key,Ie),c.size===a&&J.done()}).next(()=>c)}newChangeBuffer(e){return new iy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sy(e).get("remoteDocumentGlobalKey").next(t=>(yn(!!t),t))}Zn(e,t){return sy(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function hd(r,e){let t;if(e.document)t=Lp(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=tn.fromSegments(e.noDocument.path),a=Sl(e.noDocument.readTime);t=bi.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mt();{const s=tn.fromSegments(e.unknownDocument.path),a=Sl(e.unknownDocument.version);t=bi.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Xr(s[0],s[1]);return Mn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(Mn.min()))return s}return bi.newInvalidDocument(e)}}function ry(r){return new ny(r)}class iy extends ty{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new iu(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new di((c,p)=>Kt(c.canonicalString(),p.canonicalString()));return this.changes.forEach((c,p)=>{const D=this.us.get(c);if(t.push(this.os.removeEntry(e,c,D.readTime)),p.isValidDocument()){const k=$m(this.os.serializer,p);a=a.add(c.path.popLast()),s+=Ef(k)-D.size,t.push(this.os.addEntry(e,c,k))}else if(s-=D.size,this.trackRemovals){const k=$m(this.os.serializer,p.convertToNoDocument(Mn.min()));t.push(this.os.addEntry(e,c,k))}}),a.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,s)),y.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((c,p)=>{this.us.set(c,{size:p,readTime:s.get(c).readTime})}),s))}}function sy(r){return Ts(r,"remoteDocumentGlobal")}function Ol(r){return Ts(r,"remoteDocumentsV14")}function Df(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ig(r,e){const t=e.documentKey.path.toArray();return[r,vf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sg(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=Kt(t[c],s[c]),a)return a;return a=Kt(t.length,s.length),a||(a=Kt(t[t.length-2],s[s.length-2]),a||Kt(t[t.length-1],s[s.length-1]))}class Rl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class oy{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Fs(s.mutation,a,Vo.empty(),Xr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,yr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=yr()){const a=Ea();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let p=Oa();return c.forEach((D,k)=>{p=p.insert(D,k.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const s=Ea();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,yr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,D)=>{t.set(p,D)})})}computeViews(e,t,s,a){let c=jo();const p=tc(),D=tc();return t.forEach((k,$)=>{const J=s.get($.key);a.has($.key)&&(void 0===J||J.mutation instanceof zu)?c=c.insert($.key,$):void 0!==J?(p.set($.key,J.mutation.getFieldMask()),Fs(J.mutation,$,J.mutation.getFieldMask(),Xr.now())):p.set($.key,Vo.empty())}),this.recalculateAndSaveOverlays(e,c).next(k=>(k.forEach(($,J)=>p.set($,J)),t.forEach(($,J)=>{var Ie;return D.set($,new Rl(J,null!==(Ie=p.get($))&&void 0!==Ie?Ie:null))}),D))}recalculateAndSaveOverlays(e,t){const s=tc();let a=new oi((p,D)=>p-D),c=yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const D of p)D.keys().forEach(k=>{const $=t.get(k);if(null===$)return;let J=s.get(k)||Vo.empty();J=D.applyToLocalView($,J),s.set(k,J);const Ie=(a.get(D.batchId)||yr()).add(k);a=a.insert(D.batchId,Ie)})}).next(()=>{const p=[],D=a.getReverseIterator();for(;D.hasNext();){const k=D.getNext(),$=k.key,J=k.value,Ie=ed();J.forEach(Je=>{if(!c.has(Je)){const pt=sd(t.get(Je),s.get(Je));null!==pt&&Ie.set(Je,pt),c=c.add(Je)}}),p.push(this.documentOverlayCache.saveOverlays(e,$,Ie))}return y.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return tn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):y.resolve(Ea());let D=-1,k=c;return p.next($=>y.forEach($,(J,Ie)=>(D<Ie.largestBatchId&&(D=Ie.largestBatchId),c.get(J)?y.resolve():this.remoteDocumentCache.getEntry(e,J).next(Je=>{k=k.insert(J,Je)}))).next(()=>this.populateOverlays(e,$,c)).next(()=>this.computeViews(e,k,$,yr())).next(J=>({batchId:D,changes:ah(J)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next(s=>{let a=Oa();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Oa();return this.indexManager.getCollectionParents(e,a).next(p=>y.forEach(p,D=>{const k=($=t,J=D.child(a),new Eu(J,null,$.explicitOrderBy.slice(),$.filters.slice(),$.limit,$.limitType,$.startAt,$.endAt));var $,J;return this.getDocumentsMatchingCollectionQuery(e,k,s).next($=>{$.forEach((J,Ie)=>{c=c.insert(J,Ie)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((D,k)=>{const $=k.getKey();null===c.get($)&&(c=c.insert($,bi.newInvalidDocument($)))});let p=Oa();return c.forEach((D,k)=>{const $=a.get(D);void 0!==$&&Fs($.mutation,k,Vo.empty(),Xr.now()),Gu(t,k)&&(p=p.insert(D,k))}),p})}}class og{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return y.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:qs(s.createTime)}),y.resolve()}getNamedQuery(e,t){return y.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Wp(s.bundledQuery),readTime:qs(s.readTime)}),y.resolve();var s}}class ag{constructor(){this.overlays=new oi(tn.comparator),this.ls=new Map}getOverlay(e,t){return y.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ea();return y.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),y.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),y.resolve()}getOverlaysForCollection(e,t,s){const a=Ea(),c=t.length+1,p=new tn(t.child("")),D=this.overlays.getIteratorFrom(p);for(;D.hasNext();){const k=D.getNext().value,$=k.getKey();if(!t.isPrefixOf($.path))break;$.path.length===c&&k.largestBatchId>s&&a.set(k.getKey(),k)}return y.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new oi(($,J)=>$-J);const p=this.overlays.getIterator();for(;p.hasNext();){const $=p.getNext().value;if($.getKey().getCollectionGroup()===t&&$.largestBatchId>s){let J=c.get($.largestBatchId);null===J&&(J=Ea(),c=c.insert($.largestBatchId,J)),J.set($.getKey(),$)}}const D=Ea(),k=c.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach(($,J)=>D.set($,J)),!(D.size()>=a)););return y.resolve(D)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const p=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new h(t,s));let c=this.ls.get(t);void 0===c&&(c=yr(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class ug{constructor(){this.fs=new di($o.ds),this.ws=new di($o._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new $o(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new $o(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new tn(new Rn([])),s=new $o(t,e),a=new $o(t,e+1),c=[];return this.ws.forEachInRange([s,a],p=>{this.ys(p),c.push(p.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new tn(new Rn([])),s=new $o(t,e),a=new $o(t,e+1);let c=yr();return this.ws.forEachInRange([s,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new $o(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class $o{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return tn.comparator(e.key,t.key)||Kt(e.As,t.As)}static _s(e,t){return Kt(e.As,t.As)||tn.comparator(e.key,t.key)}}class n0{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new di($o.ds)}checkEmpty(e){return y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const p=new m(c,t,s,a);this.mutationQueue.push(p);for(const D of a)this.Rs=this.Rs.add(new $o(D.key,c)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return y.resolve(p)}lookupMutationBatch(e,t){return y.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new $o(t,0),a=new $o(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],p=>{const D=this.Ps(p.As);c.push(D)}),y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new di(Kt);return t.forEach(a=>{const c=new $o(a,0),p=new $o(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,p],D=>{s=s.add(D.As)})}),y.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;tn.isDocumentKey(c)||(c=c.child(""));const p=new $o(new tn(c),0);let D=new di(Kt);return this.Rs.forEachWhile(k=>{const $=k.key.path;return!!s.isPrefixOf($)&&($.length===a&&(D=D.add(k.As)),!0)},p),y.resolve(this.Vs(D))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){yn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return y.forEach(t.mutations,a=>{const c=new $o(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new $o(t,0),a=this.Rs.firstAfterOrEqual(s);return y.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return y.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class r0{constructor(e){this.Ds=e,this.docs=new oi(tn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,p=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return y.resolve(s?s.document.mutableCopy():bi.newInvalidDocument(t))}getEntries(e,t){let s=jo();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():bi.newInvalidDocument(a))}),y.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=jo();const p=t.path,D=new tn(p.child("")),k=this.docs.getIteratorFrom(D);for(;k.hasNext();){const{key:$,value:{document:J}}=k.getNext();if(!p.isPrefixOf($.path))break;$.path.length>p.length+1||Ic(Ec(J),s)<=0||(a.has(J.key)||Gu(t,J))&&(c=c.insert(J.key,J.mutableCopy()))}return y.resolve(c)}getAllFromCollectionGroup(e,t,s,a){Mt()}Cs(e,t){return y.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new n_(this)}getSize(e){return y.resolve(this.size)}}class n_ extends ty{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),y.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ay{constructor(e){this.persistence=e,this.xs=new iu(t=>wu(t),yl),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ug,this.targetCount=0,this.Ms=Pl.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),y.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Pl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,y.resolve()}updateTargetData(e,t){return this.Fn(t),y.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((p,D)=>{D.sequenceNumber<=t&&null===s.get(D.targetId)&&(this.xs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,D.targetId)),a++)}),y.waitFor(c).next(()=>a)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return y.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),y.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),y.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),y.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return y.resolve(s)}containsKey(e,t){return y.resolve(this.ks.containsKey(t))}}class uy{constructor(e,t){this.$s={},this.overlays={},this.Os=new Vr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ay(this),this.indexManager=new lc,this.remoteDocumentCache=new r0(s=>this.referenceDelegate.Ls(s)),this.serializer=new Gp(t),this.qs=new og(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ag,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new n0(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){kt("MemoryPersistence","Starting transaction:",e);const a=new r_(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return y.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class r_ extends io{constructor(e){super(),this.currentSequenceNumber=e}}class dc{constructor(e){this.persistence=e,this.Qs=new ug,this.js=null}static zs(e){return new dc(e)}get Ws(){if(this.js)return this.js;throw Mt()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),y.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),y.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),y.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Ws,s=>{const a=tn.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,Mn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return y.or([()=>y.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class cy{constructor(e){this.serializer=e}O(e,t,s,a){const c=new _("createOrUpgrade",t);var D;s<1&&a>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bc,{unique:!0}),D.createObjectStore("documentMutations"),_h(e),function(D){D.createObjectStore("remoteDocuments")}(e));let p=y.resolve();return s<3&&a>=3&&(0!==s&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),_h(e)),p=p.next(()=>function(D){const k=D.store("targetGlobal"),$={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mn.min().toTimestamp(),targetCount:0};return k.put("targetGlobalKey",$)}(c))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(D,k){return k.store("mutations").j().next($=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bc,{unique:!0});const J=k.store("mutations"),Ie=$.map(Je=>J.put(Je));return y.waitFor(Ie)})}(e,c))),p=p.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.Ys(c))),s<6&&a>=6&&(p=p.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),s<7&&a>=7&&(p=p.next(()=>this.Zs(c))),s<8&&a>=8&&(p=p.next(()=>this.ti(e,c))),s<9&&a>=9&&(p=p.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(p=p.next(()=>this.ei(c))),s<11&&a>=11&&(p=p.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(p=p.next(()=>{!function(D){const k=D.createObjectStore("documentOverlays",{keyPath:mu});k.createIndex("collectionPathOverlayIndex",Tc,{unique:!1}),k.createIndex("collectionGroupOverlayIndex",Ac,{unique:!1})}(e)})),s<13&&a>=13&&(p=p.next(()=>function(D){const k=D.createObjectStore("remoteDocumentsV14",{keyPath:Zl});k.createIndex("documentKeyIndex",pu),k.createIndex("collectionGroupIndex",ul)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(p=p.next(()=>this.si(e,c))),s<15&&a>=15&&(p=p.next(()=>function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:dl}).createIndex("sequenceNumberIndex",Fu,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:Yl}).createIndex("documentKeyIndex",zd,{unique:!1})}(e))),p}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Ef(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>y.forEach(a,c=>{const p=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",p).next(D=>y.forEach(D,k=>{yn(k.userId===c.userId);const $=ac(this.serializer,k);return tg(e,c.userId,$).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.X((p,D)=>{const k=new Rn(p),$=[0,Xi(k)];c.push(t.get($).next(J=>J?y.resolve():t.put({targetId:0,path:Xi(k),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>y.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:gu});const s=t.store("collectionParents"),a=new Jp,c=p=>{if(a.add(p)){const D=p.lastSegment(),k=p.popLast();return s.put({collectionId:D,parent:Xi(k)})}};return t.store("remoteDocuments").X({Y:!0},(p,D)=>{const k=new Rn(p);return c(k.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([p,D,k],$)=>{const J=Fi(D);return c(J.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const c=mh(a),p=zp(this.serializer,c);return t.put(p)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((c,p)=>{const D=t.store("remoteDocumentsV14"),k=($=p,$.document?new tn(Rn.fromString($.document.name).popFirst(5)):$.noDocument?tn.fromSegments($.noDocument.path):$.unknownDocument?tn.fromSegments($.unknownDocument.path):Mt()).path.toArray();var $;const J={prefixPath:k.slice(0,k.length-2),collectionGroup:k[k.length-2],documentId:k[k.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(D.put(J))}).next(()=>y.waitFor(a))}si(e,t){const s=t.store("mutations"),a=ry(this.serializer),c=new uy(dc.zs,this.serializer.fe);return s.j().next(p=>{const D=new Map;return p.forEach(k=>{var $;let J=null!==($=D.get(k.userId))&&void 0!==$?$:yr();ac(this.serializer,k).keys().forEach(Ie=>J=J.add(Ie)),D.set(k.userId,J)}),y.forEach(D,(k,$)=>{const J=new Si($),Ie=Wc.de(this.serializer,J),Je=c.getIndexManager(J),pt=If.de(J,this.serializer,Je,c.referenceDelegate);return new oy(a,pt,Ie,Je).recalculateAndSaveOverlaysForDocumentKeys(new Sc(t,Vr.ct),k).next()})})}}function _h(r){r.createObjectStore("targetDocuments",{keyPath:Cc}).createIndex("documentTargetsIndex",ll,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cl,{unique:!0}),r.createObjectStore("targetGlobal")}const cg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tf{constructor(e,t,s,a,c,p,D,k,$,J,Ie=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=c,this.window=p,this.document=D,this.ri=$,this.oi=J,this.ui=Ie,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Je=>Promise.resolve(),!Tf.D())throw new wt(rt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ey(this,a),this.di=t+"main",this.serializer=new Gp(k),this.wi=new A(this.di,this.ui,new cy(this.serializer)),this.Bs=new e_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ry(this.serializer),this.qs=new yh,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===J&&Rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new wt(rt.FAILED_PRECONDITION,cg);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Vr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,De.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,De.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,De.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Af(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(he(e))return kt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return wh(e).get("owner").next(t=>y.resolve(this.Ri(t)))}Pi(e){return Af(e).delete(this.clientId)}bi(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Ts(s,"clientMetadata");return a.j().next(c=>{const p=e.Si(c,18e5),D=c.filter(k=>-1===p.indexOf(k));return y.forEach(D,k=>a.delete(k.clientId)).next(()=>D)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?y.resolve(!0):wh(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new wt(rt.FAILED_PRECONDITION,cg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Af(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,D=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&D)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&kt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,De.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Sc(t,Vr.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Af(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return If.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new t0(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Wc.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){kt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(p=this.ui)?Kd:14===p?Vu:13===p?Ha:12===p?Wd:11===p?hl:void Mt();var p;let D;return this.wi.runTransaction(e,a,c,k=>(D=new Sc(k,this.Os?this.Os.next():Vr.ct),"readwrite-primary"===t?this.Ti(D).next($=>!!$||this.Ei(D)).next($=>{if(!$)throw Rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new wt(rt.FAILED_PRECONDITION,$a);return s(D)}).next($=>this.vi(D).next(()=>$)):this.Oi(D).next(()=>s(D)))).then(k=>(D.raiseOnCommittedEvent(),k))}Oi(e){return wh(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new wt(rt.FAILED_PRECONDITION,cg)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wh(e).put("owner",t)}static D(){return A.D()}Ai(e){const t=wh(e);return t.get("owner").next(s=>this.Ri(s)?(kt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):y.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Rr(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Ne.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return kt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Rr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Rr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wh(r){return Ts(r,"owner")}function Af(r){return Ts(r,"clientMetadata")}function lg(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class dg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=yr(),a=yr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new dg(e,t.fromCache,s,a)}}class ly{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(rh(t))return y.resolve(null);let s=So(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=ec(t,null,"F"),s=So(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const p=yr(...c);return this.Ui.getDocuments(e,p).next(D=>this.indexManager.getMinOffset(e,s).next(k=>{const $=this.ji(t,D);return this.zi(t,$,p,k.readTime)?this.Ki(e,ec(t,null,"F")):this.Wi(e,$,t,k)}))})))}Gi(e,t,s,a){return rh(t)||a.isEqual(Mn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const p=this.ji(t,c);return this.zi(t,p,s,a)?this.Qi(e,t):(Sa()<=Ye.in.DEBUG&&kt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),El(t)),this.Wi(e,p,t,Lu(a,-1)))})}ji(e,t){let s=new di(ih(e));return t.forEach((a,c)=>{Gu(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return Sa()<=Ye.in.DEBUG&&kt("QueryEngine","Using full collection scan to execute query:",El(t)),this.Ui.getDocumentsMatchingQuery(e,t,ro.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class dy{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new oi(Kt),this.Yi=new iu(c=>wu(c),yl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oy(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function hy(r,e,t,s){return new dy(r,e,t,s)}function hg(r,e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,De.Z)(function*(r,e){const t=Qt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const p=[],D=[];let k=yr();for(const $ of a){p.push($.batchId);for(const J of $.mutations)k=k.add(J.key)}for(const $ of c){D.push($.batchId);for(const J of $.mutations)k=k.add(J.key)}return t.localDocuments.getDocuments(s,k).next($=>({er:$,removedBatchIds:p,addedBatchIds:D}))})})}),Sf.apply(this,arguments)}function fg(r,e){const t=Qt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(p,D,k,$){const J=k.batch,Ie=J.keys();let Je=y.resolve();return Ie.forEach(pt=>{Je=Je.next(()=>$.getEntry(D,pt)).next($t=>{const on=k.docVersions.get(pt);yn(null!==on),$t.version.compareTo(on)<0&&(J.applyToRemoteDocument($t,k),$t.isValidDocument()&&($t.setReadTime(k.commitVersion),$.addEntry($t)))})}),Je.next(()=>p.mutationQueue.removeMutationBatch(D,J))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let D=yr();for(let k=0;k<p.mutationResults.length;++k)p.mutationResults[k].transformResults.length>0&&(D=D.add(p.batch.mutations[k].key));return D}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function i_(r){const e=Qt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function pg(r,e){const t=Qt(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const D=[];e.targetChanges.forEach((J,Ie)=>{const Je=a.get(Ie);if(!Je)return;D.push(t.Bs.removeMatchingKeys(c,J.removedDocuments,Ie).next(()=>t.Bs.addMatchingKeys(c,J.addedDocuments,Ie)));let pt=Je.withSequenceNumber(c.currentSequenceNumber);var $t,on,gn;null!==e.targetMismatches.get(Ie)?pt=pt.withResumeToken(As.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):J.resumeToken.approximateByteSize()>0&&(pt=pt.withResumeToken(J.resumeToken,s)),a=a.insert(Ie,pt),on=pt,gn=J,(0===($t=Je).resumeToken.approximateByteSize()||on.snapshotVersion.toMicroseconds()-$t.snapshotVersion.toMicroseconds()>=3e8||gn.addedDocuments.size+gn.modifiedDocuments.size+gn.removedDocuments.size>0)&&D.push(t.Bs.updateTargetData(c,pt))});let k=jo(),$=yr();if(e.documentUpdates.forEach(J=>{e.resolvedLimboDocuments.has(J)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(c,J))}),D.push(fy(c,p,e.documentUpdates).next(J=>{k=J.nr,$=J.sr})),!s.isEqual(Mn.min())){const J=t.Bs.getLastRemoteSnapshotVersion(c).next(Ie=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));D.push(J)}return y.waitFor(D).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,k,$)).next(()=>k)}).then(c=>(t.Ji=a,c))}function fy(r,e,t){let s=yr(),a=yr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let p=jo();return t.forEach((D,k)=>{const $=c.get(D);k.isFoundDocument()!==$.isFoundDocument()&&(a=a.add(D)),k.isNoDocument()&&k.version.isEqual(Mn.min())?(e.removeEntry(D,k.readTime),p=p.insert(D,k)):!$.isValidDocument()||k.version.compareTo($.version)>0||0===k.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(k),p=p.insert(D,k)):kt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",$.version," Watch version:",k.version)}),{nr:p,sr:a}})}function s0(r,e){const t=Qt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Tu(r,e){const t=Qt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,y.resolve(a)):t.Bs.allocateTargetId(s).next(p=>(a=new oc(e,p,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function Nl(r,e,t){return xf.apply(this,arguments)}function xf(){return xf=(0,De.Z)(function*(r,e,t){const s=Qt(r),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!he(p))throw p;kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),xf.apply(this,arguments)}function kl(r,e,t){const s=Qt(r);let a=Mn.min(),c=yr();return s.persistence.runTransaction("Execute query","readonly",p=>function(D,k,$){const J=Qt(D),Ie=J.Yi.get($);return void 0!==Ie?y.resolve(J.Ji.get(Ie)):J.Bs.getTargetData(k,$)}(s,p,So(e)).next(D=>{if(D)return a=D.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(p,D.targetId).next(k=>{c=k})}).next(()=>s.Hi.getDocumentsMatchingQuery(p,e,t?a:Mn.min(),t?c:yr())).next(D=>(py(s,uf(e),D),{documents:D,ir:c})))}function au(r,e){const t=Qt(r),s=Qt(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.le(c,e).next(p=>p?p.target:null))}function gg(r,e){const t=Qt(r),s=t.Xi.get(e)||Mn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Lu(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(py(t,e,a),a))}function py(r,e,t){let s=r.Xi.get(e)||Mn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Xi.set(e,s)}function Au(){return Au=(0,De.Z)(function*(r,e,t,s){const a=Qt(r);let c=yr(),p=jo();for(const $ of t){const J=e.rr($.metadata.name);$.document&&(c=c.add(J));const Ie=e.ur($);Ie.setReadTime(e.cr($.metadata.readTime)),p=p.insert(J,Ie)}const D=a.Zi.newChangeBuffer({trackRemovals:!0}),k=yield Tu(a,($=s,So($u(Rn.fromString(`__bundle__/docs/${$}`)))));var $;return a.persistence.runTransaction("Apply bundle documents","readwrite",$=>fy($,D,p).next(J=>(D.apply($),J)).next(J=>a.Bs.removeMatchingKeysForTargetId($,k.targetId).next(()=>a.Bs.addMatchingKeys($,c,k.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments($,J.nr,J.sr)).next(()=>J.nr)))}),Au.apply(this,arguments)}function yg(r,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,De.Z)(function*(r,e,t=yr()){const s=yield Tu(r,So(Wp(e.bundledQuery))),a=Qt(r);return a.persistence.runTransaction("Save named query","readwrite",c=>{const p=qs(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.qs.saveNamedQuery(c,e);const D=s.withResumeToken(As.EMPTY_BYTE_STRING,p);return a.Ji=a.Ji.insert(D.targetId,D),a.Bs.updateTargetData(c,D).next(()=>a.Bs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Bs.addMatchingKeys(c,t,s.targetId)).next(()=>a.qs.saveNamedQuery(c,e))})}),Mf.apply(this,arguments)}function Pf(r,e){return`firestore_clients_${r}_${e}`}function s_(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Of(r,e){return`firestore_targets_${r}_${e}`}class vg{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let c,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new wt(a.error.code,a.error.message))),p?new vg(e,t,a.state,c):(Rr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zc{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new wt(s.error.code,s.error.message))),c?new Zc(e,s.state,a):(Rr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ll{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=Dl();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=ho(s.activeTargetIds[p]),c=c.add(s.activeTargetIds[p]);return a?new Ll(e,c):(Rr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Eh{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Eh(t.clientId,t.onlineState):(Rr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ih{constructor(){this.activeTargetIds=Dl()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bh{constructor(e,t,s,a,c){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new oi(Kt),this.started=!1,this.yr=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=Pf(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Ih),this.Tr=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const c=e.getItem(Pf(e.persistenceKey,a));if(c){const p=Ll.ar(a,c);p&&(e.gr=e.gr.insert(p.clientId,p))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Of(this.persistenceKey,e));if(s){const a=Zc.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Of(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return kt("SharedClientState","READ",e,t),t}setItem(e,t){kt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){kt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(kt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void Rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,De.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(c){let p=Vr.ct;if(null!=c)try{const D=JSON.parse(c);yn("number"==typeof D),p=D}catch(D){Rr("SharedClientState","Failed to read sequence number from WebStorage",D)}return p}(s.newValue);a!==Vr.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new vg(this.currentUser,e,t,s),c=s_(this.persistenceKey,this.currentUser,e);this.setItem(c,a.hr())}Cr(e){const t=s_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=Of(this.persistenceKey,e),c=new Zc(e,t,s);this.setItem(a,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return Ll.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return vg.ar(new Si(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return Zc.ar(a,t)}br(e){return Eh.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,De.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);kt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),c=this.Sr(s),p=[],D=[];return c.forEach(k=>{a.has(k)||p.push(k)}),a.forEach(k=>{c.has(k)||D.push(k)}),this.syncEngine.Wr(p,D).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Dl();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class o_{constructor(){this.Hr=new Ih,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ih,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class a_{Yr(e){}shutdown(){}}class gy{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Rf=null;function _g(){return null===Rf?Rf=268435456+Math.round(2147483648*Math.random()):Rf++,"0x"+Rf.toString(16)}const my={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o0{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ua="WebChannelConnection";class a0 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const p=_g(),D=this.To(e,t);kt("RestConnection",`Sending RPC '${e}' ${p}:`,D,s);const k={};return this.Eo(k,a,c),this.Ao(e,D,k,s).then($=>(kt("RestConnection",`Received RPC '${e}' ${p}: `,$),$),$=>{throw Ei("RestConnection",`RPC '${e}' ${p} failed with error: `,$,"url: ",D,"request:",s),$})}vo(e,t,s,a,c,p){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Va,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${my[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=_g();return new Promise((p,D)=>{const k=new ra;k.setWithCredentials(!0),k.listenOnce(ta.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case Co.NO_ERROR:const J=k.getResponseJson();kt(ua,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(J)),p(J);break;case Co.TIMEOUT:kt(ua,`RPC '${e}' ${c} timed out`),D(new wt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:const Ie=k.getStatus();if(kt(ua,`RPC '${e}' ${c} failed with status:`,Ie,"response text:",k.getResponseText()),Ie>0){let Je=k.getResponseJson();Array.isArray(Je)&&(Je=Je[0]);const pt=Je?.error;if(pt&&pt.status&&pt.message){const $t=function(on){const gn=on.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(gn)>=0?gn:rt.UNKNOWN}(pt.status);D(new wt($t,pt.message))}else D(new wt(rt.UNKNOWN,"Server responded with status "+k.getStatus()))}else D(new wt(rt.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{kt(ua,`RPC '${e}' ${c} completed.`)}});const $=JSON.stringify(a);kt(ua,`RPC '${e}' ${c} sending request:`,a),k.send(t,"POST",$,s,15)})}Ro(e,t,s){const a=_g(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=zs(),D=ki(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},$=this.longPollingOptions.timeoutSeconds;void 0!==$&&(k.longPollingTimeout=Math.round(1e3*$)),this.useFetchStreams&&(k.xmlHttpFactory=new ga({})),this.Eo(k.initMessageHeaders,t,s),k.encodeInitMessageHeaders=!0;const J=c.join("");kt(ua,`Creating RPC '${e}' stream ${a}: ${J}`,k);const Ie=p.createWebChannel(J,k);let Je=!1,pt=!1;const $t=new o0({ro:gn=>{pt?kt(ua,`Not sending because RPC '${e}' stream ${a} is closed:`,gn):(Je||(kt(ua,`Opening RPC '${e}' stream ${a} transport.`),Ie.open(),Je=!0),kt(ua,`RPC '${e}' stream ${a} sending:`,gn),Ie.send(gn))},oo:()=>Ie.close()}),on=(gn,Ir,Zr)=>{gn.listen(Ir,br=>{try{Zr(br)}catch(ms){setTimeout(()=>{throw ms},0)}})};return on(Ie,Ns.EventType.OPEN,()=>{pt||kt(ua,`RPC '${e}' stream ${a} transport opened.`)}),on(Ie,Ns.EventType.CLOSE,()=>{pt||(pt=!0,kt(ua,`RPC '${e}' stream ${a} transport closed`),$t.wo())}),on(Ie,Ns.EventType.ERROR,gn=>{pt||(pt=!0,Ei(ua,`RPC '${e}' stream ${a} transport errored:`,gn),$t.wo(new wt(rt.UNAVAILABLE,"The operation could not be completed")))}),on(Ie,Ns.EventType.MESSAGE,gn=>{var Ir;if(!pt){const Zr=gn.data[0];yn(!!Zr);const br=Zr,ms=br.error||(null===(Ir=br[0])||void 0===Ir?void 0:Ir.error);if(ms){kt(ua,`RPC '${e}' stream ${a} received error:`,ms);const Qi=ms.status;let Bi=function(Kl){const Pv=K[Kl];if(void 0!==Pv)return Nt(Pv)}(Qi),ha=ms.message;void 0===Bi&&(Bi=rt.INTERNAL,ha="Unknown error status: "+Qi+" with message "+ms.message),pt=!0,$t.wo(new wt(Bi,ha)),Ie.close()}else kt(ua,`RPC '${e}' stream ${a} received:`,Zr),$t._o(Zr)}}),on(D,Ta.STAT_EVENT,gn=>{gn.stat===na.PROXY?kt(ua,`RPC '${e}' stream ${a} detected buffering proxy`):gn.stat===na.NOPROXY&&kt(ua,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{$t.fo()},0),$t}}function wg(){return typeof window<"u"?window:null}function Dh(){return typeof document<"u"?document:null}function Ch(r){return new Op(r,!0)}class Th{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&kt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class u_{constructor(e,t,s,a,c,p,D,k){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=D,this.listener=k,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Th(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,De.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,De.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,De.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(Rr(t.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===rt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new wt(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,De.Z)(function*(){e.state=0,e.start()}))}tu(e){return kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u0 extends u_{constructor(e,t,s,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Fp(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(k=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===k?1:"REMOVE"===k?2:"CURRENT"===k?3:"RESET"===k?4:Mt(),a=e.targetChange.targetIds||[],c=function(k,$){return k.useProto3Json?(yn(void 0===$||"string"==typeof $),As.fromBase64String($||"")):(yn(void 0===$||$ instanceof Uint8Array),As.fromUint8Array($||new Uint8Array))}(r,e.targetChange.resumeToken),p=e.targetChange.cause,D=p&&function(k){const $=void 0===k.code?rt.UNKNOWN:Nt(k.code);return new wt($,k.message||"")}(p);t=new ad(s,a,c,D||null)}else if("documentChange"in e){const s=e.documentChange,a=Ra(r,s.document.name),c=qs(s.document.updateTime),p=s.document.createTime?qs(s.document.createTime):Mn.min(),D=new vi({mapValue:{fields:s.document.fields}}),k=bi.newFoundDocument(a,c,p,D);t=new Gc(s.targetIds||[],s.removedTargetIds||[],k.key,k)}else if("documentDelete"in e){const s=e.documentDelete,a=Ra(r,s.document),c=s.readTime?qs(s.readTime):Mn.min(),p=bi.newNoDocument(a,c);t=new Gc([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=Ra(r,s.document);t=new Gc([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Mt();{const s=e.filter,{count:a=0,unchangedNames:c}=s,p=new V(a,c);t=new ph(s.targetId,p)}}var k;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return Mn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Mn.min():c.readTime?qs(c.readTime):Mn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=dd(this.serializer),t.addTarget=function(a,c){let p;const D=c.target;if(p=kc(D)?{documents:Bp(a,D)}:{query:gf(a,D)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=Vm(a,c.resumeToken);const k=hf(a,c.expectedCount);null!==k&&(p.expectedCount=k)}else if(c.snapshotVersion.compareTo(Mn.min())>0){p.readTime=ld(a,c.snapshotVersion.toTimestamp());const k=hf(a,c.expectedCount);null!==k&&(p.expectedCount=k)}return p}(this.serializer,e);const s=function Wv(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=dd(this.serializer),t.removeTarget=e,this.Wo(t)}}class c0 extends u_{constructor(e,t,s,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Up(r,e){return r&&r.length>0?(yn(void 0!==e),r.map(t=>function(s,a){let c=qs(s.updateTime?s.updateTime:a);return c.isEqual(Mn.min())&&(c=qs(a)),new lf(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=qs(e.commitTime);return this.listener.cu(s,t)}return yn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=dd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>pf(this.serializer,s))};this.Wo(t)}}class l0 extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new wt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new wt(rt.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.vo(e,t,s,c,p,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new wt(rt.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class h0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Rr(t),this.mu=!1):kt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class f0{constructor(e,t,s,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(D=>{s.enqueueAndForget((0,De.Z)(function*(){var k;Ia(p)&&(kt("RemoteStore","Restarting streams for network reachability change."),yield(k=(0,De.Z)(function*($){const J=Qt($);J.vu.add(4),yield Za(J),J.bu.set("Unknown"),J.vu.delete(4),yield Nf(J)}),function($){return k.apply(this,arguments)})(p))}))}),this.bu=new h0(s,a)}}function Nf(r){return vy.apply(this,arguments)}function vy(){return vy=(0,De.Z)(function*(r){if(Ia(r))for(const e of r.Ru)yield e(!0)}),vy.apply(this,arguments)}function Za(r){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,De.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),Ah.apply(this,arguments)}function kf(r,e){const t=Qt(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Ig(t)?xh(t):Id(t).Ko()&&Sh(t,e))}function _d(r,e){const t=Qt(r),s=Id(t);t.Au.delete(e),s.Ko()&&Eg(t,e),0===t.Au.size&&(s.Ko()?s.jo():Ia(t)&&t.bu.set("Unknown"))}function Sh(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Id(r).su(e)}function Eg(r,e){r.Vu.qt(e),Id(r).iu(e)}function xh(r){r.Vu=new df({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),Id(r).start(),r.bu.gu()}function Ig(r){return Ia(r)&&!Id(r).Uo()&&r.Au.size>0}function Ia(r){return 0===Qt(r).vu.size}function bg(r){r.Vu=void 0}function c_(r){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,De.Z)(function*(r){r.Au.forEach((e,t)=>{Sh(r,e)})}),Dg.apply(this,arguments)}function _y(r,e){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,De.Z)(function*(r,e){bg(r),Ig(r)?(r.bu.Iu(e),xh(r)):r.bu.set("Unknown")}),Cg.apply(this,arguments)}function l_(r,e,t){return wd.apply(this,arguments)}function wd(){return wd=(0,De.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof ad&&2===e.state&&e.cause)try{yield(s=(0,De.Z)(function*(a,c){const p=c.cause;for(const D of c.targetIds)a.Au.has(D)&&(yield a.remoteSyncer.rejectListen(D,p),a.Au.delete(D),a.Vu.removeTarget(D))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield hc(r,s)}else if(e instanceof Gc?r.Vu.Ht(e):e instanceof ph?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Mn.min()))try{const s=yield i_(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const p=a.Vu.ce(c);return p.targetChanges.forEach((D,k)=>{if(D.resumeToken.approximateByteSize()>0){const $=a.Au.get(k);$&&a.Au.set(k,$.withResumeToken(D.resumeToken,c))}}),p.targetMismatches.forEach((D,k)=>{const $=a.Au.get(D);if(!$)return;a.Au.set(D,$.withResumeToken(As.EMPTY_BYTE_STRING,$.snapshotVersion)),Eg(a,D);const J=new oc($.target,D,k,$.sequenceNumber);Sh(a,J)}),a.remoteSyncer.applyRemoteEvent(p)}(r,t))}catch(s){kt("RemoteStore","Failed to raise snapshot:",s),yield hc(r,s)}var s}),wd.apply(this,arguments)}function hc(r,e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,De.Z)(function*(r,e,t){if(!he(e))throw e;r.vu.add(1),yield Za(r),r.bu.set("Offline"),t||(t=()=>i_(r.localStore)),r.asyncQueue.enqueueRetryable((0,De.Z)(function*(){kt("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Nf(r)}))}),Mh.apply(this,arguments)}function Fl(r,e){return e().catch(t=>hc(r,t,e))}function Yc(r){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,De.Z)(function*(r){const e=Qt(r),t=Vl(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;wy(e);)try{const a=yield s0(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,Ey(e,a)}catch(a){yield hc(e,a)}Lf(e)&&Ff(e)}),Ed.apply(this,arguments)}function wy(r){return Ia(r)&&r.Eu.length<10}function Ey(r,e){r.Eu.push(e);const t=Vl(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function Lf(r){return Ia(r)&&!Vl(r).Uo()&&r.Eu.length>0}function Ff(r){Vl(r).start()}function Iy(r){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,De.Z)(function*(r){Vl(r).hu()}),Ph.apply(this,arguments)}function d_(r){return by.apply(this,arguments)}function by(){return by=(0,De.Z)(function*(r){const e=Vl(r);for(const t of r.Eu)e.uu(t.mutations)}),by.apply(this,arguments)}function h_(r,e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,De.Z)(function*(r,e,t){const s=r.Eu.shift(),a=d.from(s,e,t);yield Fl(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Yc(r)}),Vf.apply(this,arguments)}function f_(r,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,De.Z)(function*(r,e){var t;e&&Vl(r).ou&&(yield(t=(0,De.Z)(function*(s,a){if(Ze(c=a.code)&&c!==rt.ABORTED){const p=s.Eu.shift();Vl(s).Qo(),yield Fl(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield Yc(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),Lf(r)&&Ff(r)}),Uf.apply(this,arguments)}function Tg(r,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,De.Z)(function*(r,e){const t=Qt(r);t.asyncQueue.verifyOperationInProgress(),kt("RemoteStore","RemoteStore received new credentials");const s=Ia(t);t.vu.add(3),yield Za(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Nf(t)}),Ag.apply(this,arguments)}function ba(r,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,De.Z)(function*(r,e){const t=Qt(r);e?(t.vu.delete(2),yield Nf(t)):e||(t.vu.add(2),yield Za(t),t.bu.set("Unknown"))}),Bf.apply(this,arguments)}function Id(r){return r.Su||(r.Su=function(e,t,s){const a=Qt(e);return a.fu(),new u0(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:c_.bind(null,r),ao:_y.bind(null,r),nu:l_.bind(null,r)}),r.Ru.push(function(){var e=(0,De.Z)(function*(t){t?(r.Su.Qo(),Ig(r)?xh(r):r.bu.set("Unknown")):(yield r.Su.stop(),bg(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Vl(r){return r.Du||(r.Du=function(e,t,s){const a=Qt(e);return a.fu(),new c0(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:Iy.bind(null,r),ao:f_.bind(null,r),au:d_.bind(null,r),cu:h_.bind(null,r)}),r.Ru.push(function(){var e=(0,De.Z)(function*(t){t?(r.Du.Qo(),yield Yc(r)):(yield r.Du.stop(),r.Eu.length>0&&(kt("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Sg{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,c){const p=Date.now()+s,D=new Sg(e,t,p,a,c);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wt(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qc(r,e){if(Rr("AsyncQueue",`${e}: ${r}`),he(r))return new wt(rt.UNAVAILABLE,`${e}: ${r}`);throw r}class Ul{constructor(e){this.comparator=e?(t,s)=>e(t,s)||tn.comparator(t.key,s.key):(t,s)=>tn.comparator(t.key,s.key),this.keyedMap=Oa(),this.sortedSet=new oi(this.comparator)}static emptySet(e){return new Ul(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Ul;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Dy{constructor(){this.Cu=new oi(tn.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Mt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class bd{constructor(e,t,s,a,c,p,D,k,$){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=D,this.excludesMetadataChanges=k,this.hasCachedResults=$}static fromInitialDocuments(e,t,s,a,c){const p=[];return t.forEach(D=>{p.push({type:0,doc:D})}),new bd(e,t,Ul.emptySet(t),p,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class p_{constructor(){this.Nu=void 0,this.listeners=[]}}class Cy{constructor(){this.queries=new iu(e=>af(e),Lc),this.onlineState="Unknown",this.ku=new Set}}function xg(r,e){return jf.apply(this,arguments)}function jf(){return jf=(0,De.Z)(function*(r,e){const t=Qt(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new p_),a)try{c.Nu=yield t.onListen(s)}catch(p){const D=Qc(p,`Initialization of query '${El(e.query)}' failed`);return void e.onError(D)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&Og(t)}),jf.apply(this,arguments)}function Mg(r,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,De.Z)(function*(r,e){const t=Qt(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Pg.apply(this,arguments)}function Ty(r,e){const t=Qt(r);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const D of p.listeners)D.$u(a)&&(s=!0);p.Nu=a}}s&&Og(t)}function Ay(r,e,t){const s=Qt(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Og(r){r.ku.forEach(e=>{e.next()})}class uu{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new bd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=bd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Rg{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Sy{constructor(e){this.serializer=e}rr(e){return Ra(this.serializer,e)}ur(e){return e.metadata.exists?Lp(this.serializer,e.document,!1):bi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return qs(e)}}class g_{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=m_(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=Rn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new Sy(this.serializer);for(const a of e)if(a.metadata.queries){const c=s.rr(a.metadata.name);for(const p of a.metadata.queries){const D=(t.get(p)||yr()).add(c);t.set(p,D)}}return t}complete(){var e=this;return(0,De.Z)(function*(){const t=yield function mg(r,e,t,s){return Au.apply(this,arguments)}(e.localStore,new Sy(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield yg(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function m_(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Ng{constructor(e){this.key=e}}class xy{constructor(e){this.key=e}}class My{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=yr(),this.mutatedKeys=yr(),this.tc=ih(e),this.ec=new Ul(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new Dy,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,D=!1;const k="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,$="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((J,Ie)=>{const Je=a.get(J),pt=Gu(this.query,Ie)?Ie:null,$t=!!Je&&this.mutatedKeys.has(Je.key),on=!!pt&&(pt.hasLocalMutations||this.mutatedKeys.has(pt.key)&&pt.hasCommittedMutations);let gn=!1;Je&&pt?Je.data.isEqual(pt.data)?$t!==on&&(s.track({type:3,doc:pt}),gn=!0):this.rc(Je,pt)||(s.track({type:2,doc:pt}),gn=!0,(k&&this.tc(pt,k)>0||$&&this.tc(pt,$)<0)&&(D=!0)):!Je&&pt?(s.track({type:0,doc:pt}),gn=!0):Je&&!pt&&(s.track({type:1,doc:Je}),gn=!0,(k||$)&&(D=!0)),gn&&(pt?(p=p.add(pt),c=on?c.add(J):c.delete(J)):(p=p.delete(J),c=c.delete(J)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const J="F"===this.query.limitType?p.last():p.first();p=p.delete(J.key),c=c.delete(J.key),s.track({type:1,doc:J})}return{ec:p,ic:s,zi:D,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort(($,J)=>function(Ie,Je){const pt=$t=>{switch($t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return pt(Ie)-pt(Je)}($.type,J.type)||this.tc($.doc,J.doc)),this.oc(s);const p=t?this.uc():[],D=0===this.Zu.size&&this.current?1:0,k=D!==this.Xu;return this.Xu=D,0!==c.length||k?{snapshot:new bd(this.query,e.ec,a,c,e.mutatedKeys,0===D,k,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:p}:{cc:p}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Dy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=yr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new xy(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new Ng(s))}),t}hc(e){this.Yu=e.ir,this.Zu=yr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return bd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class y_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class kg{constructor(e){this.key=e,this.fc=!1}}class v_{constructor(e,t,s,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.dc={},this.wc=new iu(D=>af(D),Lc),this._c=new Map,this.mc=new Set,this.gc=new oi(tn.comparator),this.yc=new Map,this.Ic=new ug,this.Tc={},this.Ec=new Map,this.Ac=Pl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function __(r,e){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,De.Z)(function*(r,e){const t=cu(r);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const p=yield Tu(t.localStore,So(e)),D=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield Oh(t,e,s,"current"===D,p.resumeToken),t.isPrimaryClient&&kf(t.remoteStore,p)}return a}),Dd.apply(this,arguments)}function Oh(r,e,t,s,a){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,De.Z)(function*(r,e,t,s,a){r.Rc=(Ie,Je,pt)=>{return($t=(0,De.Z)(function*(on,gn,Ir,Zr){let br=gn.view.sc(Ir);br.zi&&(br=yield kl(on.localStore,gn.query,!1).then(({documents:Bi})=>gn.view.sc(Bi,br)));const ms=Zr&&Zr.targetChanges.get(gn.targetId),Qi=gn.view.applyChanges(br,on.isPrimaryClient,ms);return Oy(on,gn.targetId,Qi.cc),Qi.snapshot}),function(on,gn,Ir,Zr){return $t.apply(this,arguments)})(r,Ie,Je,pt);var $t};const c=yield kl(r.localStore,e,!0),p=new My(e,c.ir),D=p.sc(c.documents),k=Hc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),$=p.applyChanges(D,r.isPrimaryClient,k);Oy(r,t,$.cc);const J=new y_(e,t,p);return r.wc.set(e,J),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),$.snapshot}),Cd.apply(this,arguments)}function p0(r,e){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,De.Z)(function*(r,e){const t=Qt(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Lc(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Nl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),_d(t.remoteStore,s.targetId),qu(t,s.targetId)}).catch(Fo))):(qu(t,s.targetId),yield Nl(t.localStore,s.targetId,!0))}),Rh.apply(this,arguments)}function $f(){return $f=(0,De.Z)(function*(r,e,t){const s=Bl(r);try{const a=yield function(c,p){const D=Qt(c),k=Xr.now(),$=p.reduce((Je,pt)=>Je.add(pt.key),yr());let J,Ie;return D.persistence.runTransaction("Locally write mutations","readwrite",Je=>{let pt=jo(),$t=yr();return D.Zi.getEntries(Je,$).next(on=>{pt=on,pt.forEach((gn,Ir)=>{Ir.isValidDocument()||($t=$t.add(gn))})}).next(()=>D.localDocuments.getOverlayedDocuments(Je,pt)).next(on=>{J=on;const gn=[];for(const Ir of p){const Zr=Du(Ir,J.get(Ir.key).overlayedDocument);null!=Zr&&gn.push(new zu(Ir.key,Zr,ps(Zr.value.mapValue),Zi.exists(!0)))}return D.mutationQueue.addMutationBatch(Je,k,gn,p)}).next(on=>{Ie=on;const gn=on.applyToLocalDocumentSet(J,$t);return D.documentOverlayCache.saveOverlays(Je,on.batchId,gn)})}).then(()=>({batchId:Ie.batchId,changes:ah(J)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,p,D){let k=c.Tc[c.currentUser.toKey()];k||(k=new oi(Kt)),k=k.insert(p,D),c.Tc[c.currentUser.toKey()]=k}(s,a.batchId,t),yield fc(s,a.changes),yield Yc(s.remoteStore)}catch(a){const c=Qc(a,"Failed to persist write");t.reject(c)}}),$f.apply(this,arguments)}function Lg(r,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,De.Z)(function*(r,e){const t=Qt(r);try{const s=yield pg(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.yc.get(c);p&&(yn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.fc=!0:a.modifiedDocuments.size>0?yn(p.fc):a.removedDocuments.size>0&&(yn(p.fc),p.fc=!1))}),yield fc(t,s,e)}catch(s){yield Fo(s)}}),Hf.apply(this,arguments)}function Fg(r,e,t){const s=Qt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,p)=>{const D=p.view.Mu(e);D.snapshot&&a.push(D.snapshot)}),function(c,p){const D=Qt(c);D.onlineState=p;let k=!1;D.queries.forEach(($,J)=>{for(const Ie of J.listeners)Ie.Mu(p)&&(k=!0)}),k&&Og(D)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Vg(r,e,t){return Su.apply(this,arguments)}function Su(){return Su=(0,De.Z)(function*(r,e,t){const s=Qt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let p=new oi(tn.comparator);p=p.insert(c,bi.newNoDocument(c,Mn.min()));const D=yr().add(c),k=new $c(Mn.min(),new Map,new oi(Kt),p,D);yield Lg(s,k),s.gc=s.gc.remove(c),s.yc.delete(e),Ry(s)}else yield Nl(s.localStore,e,!1).then(()=>qu(s,e,t)).catch(Fo)}),Su.apply(this,arguments)}function Gf(r,e){return Td.apply(this,arguments)}function Td(){return Td=(0,De.Z)(function*(r,e){const t=Qt(r),s=e.batch.batchId;try{const a=yield fg(t.localStore,e);$g(t,s,null),jg(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield fc(t,a)}catch(a){yield Fo(a)}}),Td.apply(this,arguments)}function Nh(r,e,t){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,De.Z)(function*(r,e,t){const s=Qt(r);try{const a=yield function(c,p){const D=Qt(c);return D.persistence.runTransaction("Reject batch","readwrite-primary",k=>{let $;return D.mutationQueue.lookupMutationBatch(k,p).next(J=>(yn(null!==J),$=J.keys(),D.mutationQueue.removeMutationBatch(k,J))).next(()=>D.mutationQueue.performConsistencyCheck(k)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(k,$,p)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(k,$)).next(()=>D.localDocuments.getDocuments(k,$))})}(s.localStore,e);$g(s,e,t),jg(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield fc(s,a)}catch(a){yield Fo(a)}}),Ug.apply(this,arguments)}function zf(){return zf=(0,De.Z)(function*(r,e){const t=Qt(r);Ia(t.remoteStore)||kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const p=Qt(c);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>p.mutationQueue.getHighestUnacknowledgedBatchId(D))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=Qc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),zf.apply(this,arguments)}function jg(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function $g(r,e,t){const s=Qt(r);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function qu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||Py(r,s)})}function Py(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(_d(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Ry(r))}function Oy(r,e,t){for(const s of t)s instanceof Ng?(r.Ic.addReference(s.key,e),w_(r,s)):s instanceof xy?(kt("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||Py(r,s.key)):Mt()}function w_(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(kt("SyncEngine","New document in limbo: "+t),r.mc.add(s),Ry(r))}function Ry(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new tn(Rn.fromString(e)),s=r.Ac.next();r.yc.set(s,new kg(t)),r.gc=r.gc.insert(t,s),kf(r.remoteStore,new oc(So($u(t.path)),s,"TargetPurposeLimboResolution",Vr.ct))}}function fc(r,e,t){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,De.Z)(function*(r,e,t){const s=Qt(r),a=[],c=[],p=[];var D;s.wc.isEmpty()||(s.wc.forEach((D,k)=>{p.push(s.Rc(k,e,t).then($=>{if(($||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(k.targetId,$?.fromCache?"not-current":"current"),$){a.push($);const J=dg.Li(k.targetId,$);c.push(J)}}))}),yield Promise.all(p),s.dc.nu(a),yield(D=(0,De.Z)(function*(k,$){const J=Qt(k);try{yield J.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>y.forEach($,Je=>y.forEach(Je.Fi,pt=>J.persistence.referenceDelegate.addReference(Ie,Je.targetId,pt)).next(()=>y.forEach(Je.Bi,pt=>J.persistence.referenceDelegate.removeReference(Ie,Je.targetId,pt)))))}catch(Ie){if(!he(Ie))throw Ie;kt("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of $){const Je=Ie.targetId;if(!Ie.fromCache){const pt=J.Ji.get(Je),on=pt.withLastLimboFreeSnapshotVersion(pt.snapshotVersion);J.Ji=J.Ji.insert(Je,on)}}}),function(k,$){return D.apply(this,arguments)})(s.localStore,c))}),Hg.apply(this,arguments)}function E_(r,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,De.Z)(function*(r,e){const t=Qt(r);if(!t.currentUser.isEqual(e)){kt("SyncEngine","User change. New user:",e.toKey());const s=yield hg(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(p=>{p.forEach(D=>{D.reject(new wt(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield fc(t,s.er)}var a}),Wf.apply(this,arguments)}function Gg(r,e){const t=Qt(r),s=t.yc.get(e);if(s&&s.fc)return yr().add(s.key);{let a=yr();const c=t._c.get(e);if(!c)return a;for(const p of c){const D=t.wc.get(p);a=a.unionWith(D.view.nc)}return a}}function I_(r,e){return kh.apply(this,arguments)}function kh(){return kh=(0,De.Z)(function*(r,e){const t=Qt(r),s=yield kl(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&Oy(t,e.targetId,a.cc),a}),kh.apply(this,arguments)}function b_(r,e){return zg.apply(this,arguments)}function zg(){return zg=(0,De.Z)(function*(r,e){const t=Qt(r);return gg(t.localStore,e).then(s=>fc(t,s))}),zg.apply(this,arguments)}function D_(r,e,t,s){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,De.Z)(function*(r,e,t,s){const a=Qt(r),c=yield function(p,D){const k=Qt(p),$=Qt(k.mutationQueue);return k.persistence.runTransaction("Lookup mutation documents","readonly",J=>$.Sn(J,D).next(Ie=>Ie?k.localDocuments.getDocuments(J,Ie):y.resolve(null)))}(a.localStore,e);var D;null!==c?("pending"===t?yield Yc(a.remoteStore):"acknowledged"===t||"rejected"===t?($g(a,e,s||null),jg(a,e),D=e,Qt(Qt(a.localStore).mutationQueue).Cn(D)):Mt(),yield fc(a,c)):kt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Wg.apply(this,arguments)}function Kg(){return Kg=(0,De.Z)(function*(r,e){const t=Qt(r);if(cu(t),Bl(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Lh(t,s.toArray());t.vc=!0,yield ba(t.remoteStore,!0);for(const c of a)kf(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((c,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(qu(t,p),Nl(t.localStore,p,!0))),_d(t.remoteStore,p)}),yield a,yield Lh(t,s),function(c){const p=Qt(c);p.yc.forEach((D,k)=>{_d(p.remoteStore,k)}),p.Ic.Ts(),p.yc=new Map,p.gc=new oi(tn.comparator)}(t),t.vc=!1,yield ba(t.remoteStore,!1)}}),Kg.apply(this,arguments)}function Lh(r,e,t){return pc.apply(this,arguments)}function pc(){return pc=(0,De.Z)(function*(r,e,t){const s=Qt(r),a=[],c=[];for(const p of e){let D;const k=s._c.get(p);if(k&&0!==k.length){D=yield Tu(s.localStore,So(k[0]));for(const $ of k){const J=s.wc.get($),Ie=yield I_(s,J);Ie.snapshot&&c.push(Ie.snapshot)}}else{const $=yield au(s.localStore,p);D=yield Tu(s.localStore,$),yield Oh(s,T_($),p,!1,D.resumeToken)}a.push(D)}return s.dc.nu(c),a}),pc.apply(this,arguments)}function T_(r){return nh(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Fh(r){const e=Qt(r);return Qt(Qt(e.localStore).persistence).$i()}function A_(r,e,t,s){return qg.apply(this,arguments)}function qg(){return qg=(0,De.Z)(function*(r,e,t,s){const a=Qt(r);if(a.vc)return void kt("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const p=yield gg(a.localStore,uf(c[0])),D=$c.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,As.EMPTY_BYTE_STRING);yield fc(a,p,D);break}case"rejected":yield Nl(a.localStore,e,!0),qu(a,e,s);break;default:Mt()}}),qg.apply(this,arguments)}function Zg(r,e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,De.Z)(function*(r,e,t){const s=cu(r);if(s.vc){for(const a of e){if(s._c.has(a)){kt("SyncEngine","Adding an already active target "+a);continue}const c=yield au(s.localStore,a),p=yield Tu(s.localStore,c);yield Oh(s,T_(c),p.targetId,!1,p.resumeToken),kf(s.remoteStore,p)}for(const a of t)s._c.has(a)&&(yield Nl(s.localStore,a,!1).then(()=>{_d(s.remoteStore,a),qu(s,a)}).catch(Fo))}}),Yg.apply(this,arguments)}function cu(r){const e=Qt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vg.bind(null,e),e.dc.nu=Ty.bind(null,e.eventManager),e.dc.Pc=Ay.bind(null,e.eventManager),e}function Bl(r){const e=Qt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nh.bind(null,e),e}class xu{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.serializer=Ch(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return hy(this.persistence,new ly,e.initialUser,this.serializer)}createPersistence(e){return new uy(dc.zs,this.serializer)}createSharedClientState(e){return new o_}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Na extends xu{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,De.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Bl(s.Vc.syncEngine),yield Yc(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return hy(this.persistence,new ly,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Er(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new wr(t,this.persistence);return new dn(e.asyncQueue,s)}createPersistence(e){const t=lg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?aa.withCacheSize(this.cacheSizeBytes):aa.DEFAULT;return new Tf(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,wg(),Dh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new o_}}class qf extends Na{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,De.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof bh&&(s.sharedClientState.syncEngine={jr:D_.bind(null,a),zr:A_.bind(null,a),Wr:Zg.bind(null,a),$i:Fh.bind(null,a),Qr:b_.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var c=(0,De.Z)(function*(p){yield function C_(r,e){return Kg.apply(this,arguments)}(s.Vc.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=wg();if(!bh.D(t))throw new wt(rt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=lg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bh(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Mu{initialize(e,t){var s=this;return(0,De.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Fg(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=E_.bind(null,s.syncEngine),yield ba(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Cy}createDatastore(e){const t=Ch(e.databaseInfo.databaseId),s=new a0(e.databaseInfo);return new l0(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=D=>Fg(this.syncEngine,D,0),p=gy.D()?new gy:new a_,new f0(t,s,a,c,p);var t,s,a,c,p}createSyncEngine(e,t){return function(s,a,c,p,D,k,$){const J=new v_(s,a,c,p,D,k);return $&&(J.vc=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const s=Qt(t);kt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Za(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function jl(r,e=10240){let t=0;return{read:()=>(0,De.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class gc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ad{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new cr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,De.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const c=yield e.$c(a);return new Rg(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,De.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,De.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,De.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Sd{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new wt(rt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,De.Z)(function*(c,p){const D=Qt(c),k=dd(D.serializer)+"/documents",$={documents:p.map(pt=>ff(D.serializer,pt))},J=yield D.vo("BatchGetDocuments",k,$,p.length),Ie=new Map;J.forEach(pt=>{const $t=function Bm(r,e){return"found"in e?function(t,s){yn(!!s.found);const a=Ra(t,s.found.name),c=qs(s.found.updateTime),p=s.found.createTime?qs(s.found.createTime):Mn.min(),D=new vi({mapValue:{fields:s.found.fields}});return bi.newFoundDocument(a,c,p,D)}(r,e):"missing"in e?function(t,s){yn(!!s.missing),yn(!!s.readTime);const a=Ra(t,s.missing),c=qs(s.readTime);return bi.newNoDocument(a,c)}(r,e):Mt()}(D.serializer,pt);Ie.set($t.key.toString(),$t)});const Je=[];return p.forEach(pt=>{const $t=Ie.get(pt.toString());yn(!!$t),Je.push($t)}),Je}),function(c,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ic(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=tn.fromPath(a);e.mutations.push(new hh(c,e.precondition(c)))}),yield(s=(0,De.Z)(function*(a,c){const p=Qt(a),D=dd(p.serializer)+"/documents",k={writes:c.map($=>pf(p.serializer,$))};yield p.Io("Commit",D,k)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mt();t=Mn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new wt(rt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mn.min())?Zi.exists(!1):Zi.updateTime(t):Zi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mn.min()))throw new wt(rt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zi.updateTime(t)}return Zi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xd{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.Bc=s.maxAttempts,this.qo=new Th(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,De.Z)(function*(){const t=new Sd(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Uc(c)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!li(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ze(t)}return!1}}class Md{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Si.UNAUTHENTICATED,this.clientId=Vn.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,De.Z)(function*(D){kt("FirestoreClient","Received user=",D.uid),yield c.authCredentialListener(D),c.user=D});return function(D){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(kt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Qc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function mc(r,e){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,De.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),kt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,De.Z)(function*(c){s.isEqual(c)||(yield hg(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Jc.apply(this,arguments)}function Zf(r,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,De.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Qf(r);kt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>Tg(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>Tg(e.remoteStore,c)),r._onlineComponents=e}),Yf.apply(this,arguments)}function Qg(r){return"FirebaseError"===r.name?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Qf(r){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,De.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){kt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mc(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Qg(t))throw t;Ei("Error using user provided cache. Falling back to memory cache: "+t),yield mc(r,new xu)}}else kt("FirestoreClient","Using default OfflineComponentProvider"),yield mc(r,new xu);return r._offlineComponents}),Jf.apply(this,arguments)}function Vh(r){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,De.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(kt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Zf(r,r._uninitializedComponentsProvider._online)):(kt("FirestoreClient","Using default OnlineComponentProvider"),yield Zf(r,new Mu))),r._onlineComponents}),Xf.apply(this,arguments)}function Jg(r){return Qf(r).then(e=>e.persistence)}function Uh(r){return Qf(r).then(e=>e.localStore)}function Ny(r){return Vh(r).then(e=>e.remoteStore)}function Xg(r){return Vh(r).then(e=>e.syncEngine)}function Pd(r){return tm.apply(this,arguments)}function tm(){return tm=(0,De.Z)(function*(r){const e=yield Vh(r),t=e.eventManager;return t.onListen=__.bind(null,e.syncEngine),t.onUnlisten=p0.bind(null,e.syncEngine),t}),tm.apply(this,arguments)}function Bh(r,e,t={}){const s=new cr;return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(a,c,p,D,k){const $=new gc({next:Ie=>{c.enqueueAndForget(()=>Mg(a,J));const Je=Ie.docs.has(p);!Je&&Ie.fromCache?k.reject(new wt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):Je&&Ie.fromCache&&D&&"server"===D.source?k.reject(new wt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):k.resolve(Ie)},error:Ie=>k.reject(Ie)}),J=new uu($u(p.path),$,{includeMetadataChanges:!0,Ku:!0});return xg(a,J)}(yield Pd(r),r.asyncQueue,e,t,s)})),s.promise}function tp(r,e,t={}){const s=new cr;return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(a,c,p,D,k){const $=new gc({next:Ie=>{c.enqueueAndForget(()=>Mg(a,J)),Ie.fromCache&&"server"===D.source?k.reject(new wt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):k.resolve(Ie)},error:Ie=>k.reject(Ie)}),J=new uu(p,$,{includeMetadataChanges:!0,Ku:!0});return xg(a,J)}(yield Pd(r),r.asyncQueue,e,t,s)})),s.promise}function om(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const np=new Map;function rp(r,e,t){if(!t)throw new wt(rt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function am(r,e,t,s){if(!0===e&&!0===s)throw new wt(rt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function ip(r){if(!tn.isDocumentKey(r))throw new wt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function um(r){if(tn.isDocumentKey(r))throw new wt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sp(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Mt()}function qr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new wt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sp(r);throw new wt(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function cm(r,e){if(e<=0)throw new wt(rt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class lm{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new wt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}am("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=om(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new wt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new wt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new wt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new wt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new fs;switch(t.type){case"firstParty":return new S(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new wt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=np.get(e);t&&(kt("ComponentProvider","Removing Datastore"),np.delete(e),t.terminate())}(this),Promise.resolve()}}class cs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cs(this.firestore,e,this._key)}}class Ho{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class Pu extends Ho{constructor(e,t,s){super(e,t,$u(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cs(this.firestore,null,new tn(e))}withConverter(e){return new Pu(this.firestore,e,this._path)}}function op(r,e,...t){if(r=(0,Ne.m9)(r),rp("collection","path",e),r instanceof Od){const s=Rn.fromString(e,...t);return um(s),new Pu(r,null,s)}{if(!(r instanceof cs||r instanceof Pu))throw new wt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Rn.fromString(e,...t));return um(s),new Pu(r.firestore,null,s)}}function jh(r,e,...t){if(r=(0,Ne.m9)(r),1===arguments.length&&(e=Vn.A()),rp("doc","path",e),r instanceof Od){const s=Rn.fromString(e,...t);return ip(s),new cs(r,null,new tn(s))}{if(!(r instanceof cs||r instanceof Pu))throw new wt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Rn.fromString(e,...t));return ip(s),new cs(r.firestore,r instanceof Pu?r.converter:null,new tn(s))}}function dm(r,e){return r=(0,Ne.m9)(r),e=(0,Ne.m9)(e),(r instanceof cs||r instanceof Pu)&&(e instanceof cs||e instanceof Pu)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function ap(r,e){return r=(0,Ne.m9)(r),e=(0,Ne.m9)(e),r instanceof Ho&&e instanceof Ho&&r.firestore===e.firestore&&Lc(r._query,e._query)&&r.converter===e.converter}class Vy{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Th(this,"async_queue_retry"),this.Xc=()=>{const t=Dh();t&&kt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Dh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Dh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new cr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,De.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!he(t))throw t;kt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Rr("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Sg.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&Mt()}verifyOperationInProgress(){}sa(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function up(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Uy{constructor(){this._progressObserver={},this._taskCompletionResolver=new cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class gs extends Od{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Vy,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jy(this),this._firestoreClient.terminate()}}function Us(r){return r._firestoreClient||jy(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function jy(r){var e,t,s;const a=r._freezeSettings(),c=(D=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Cp(r._databaseId,D,r._persistenceKey,($=a).host,$.ssl,$.experimentalForceLongPolling,$.experimentalAutoDetectLongPolling,om($.experimentalLongPollingOptions),$.useFetchStreams));var D,$;r._firestoreClient=new Md(r._authCredentials,r._appCheckCredentials,r._queue,c),(null===(t=a.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(s=a.cache)||void 0===s?void 0:s._onlineComponentProvider)&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Hy(r,e,t){const s=new cr;return r.asyncQueue.enqueue((0,De.Z)(function*(){try{yield mc(r,t),yield Zf(r,e),s.resolve()}catch(a){const c=a;if(!Qg(c))throw c;Ei("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function Wy(r){if(r._initialized||r._terminated)throw new wt(rt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ou(As.fromBase64String(e))}catch(t){throw new wt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ou(As.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new wt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yc{constructor(e){this._methodName=e}}class Ya{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const L_=/^__.*__$/;class F_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new zu(e,this.data,this.fieldMask,t,this.fieldTransforms):new jc(e,this.data,t,this.fieldTransforms)}}class Ru{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new zu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lu(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class ka{constructor(e,t,s,a,c,p){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ka(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return zh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(lu(this.ca)&&L_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Ky{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ch(e)}ya(e,t,s,a=!1){return new ka({ca:e,methodName:t,ga:s,path:yi.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function el(r){const e=r._freezeSettings(),t=Ch(r._databaseId);return new Ky(r._databaseId,!!e.ignoreUndefinedProperties,t)}function cp(r,e,t,s,a,c={}){const p=r.ya(c.merge||c.mergeFields?2:0,e,t,a);dp("Data must be an object, but it was:",p,s);const D=Gh(s,p);let k,$;if(c.merge)k=new Vo(p.fieldMask),$=p.fieldTransforms;else if(c.mergeFields){const J=[];for(const Ie of c.mergeFields){const Je=kd(e,Ie,t);if(!p.contains(Je))throw new wt(rt.INVALID_ARGUMENT,`Field '${Je}' is specified in your field mask but missing from your input data.`);ym(J,Je)||J.push(Je)}k=new Vo(J),$=p.fieldTransforms.filter(Ie=>k.covers(Ie.field))}else k=null,$=p.fieldTransforms;return new F_(new vi(D),k,$)}class $h extends yc{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function qy(r,e,t){return new ka({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hm extends yc{_toFieldTransform(e){return new Uc(e.path,new Tl)}isEqual(e){return e instanceof hm}}class fm extends yc{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=qy(this,e,!0),s=this.pa.map(c=>tl(c,t)),a=new Iu(s);return new Uc(e.path,a)}isEqual(e){return this===e}}class Hh extends yc{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=qy(this,e,!0),s=this.pa.map(c=>tl(c,t)),a=new rc(s);return new Uc(e.path,a)}isEqual(e){return this===e}}class V_ extends yc{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new bu(e.serializer,nc(e.serializer,this.Ia));return new Uc(e.path,t)}isEqual(e){return this===e}}function lp(r,e,t,s){const a=r.ya(1,e,t);dp("Data must be an object, but it was:",a,s);const c=[],p=vi.empty();_a(s,(k,$)=>{const J=$l(e,k,t);$=(0,Ne.m9)($);const Ie=a.da(J);if($ instanceof $h)c.push(J);else{const Je=tl($,Ie);null!=Je&&(c.push(J),p.set(J,Je))}});const D=new Vo(c);return new Ru(p,D,a.fieldTransforms)}function pm(r,e,t,s,a,c){const p=r.ya(1,e,t),D=[kd(e,s,t)],k=[a];if(c.length%2!=0)throw new wt(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Je=0;Je<c.length;Je+=2)D.push(kd(e,c[Je])),k.push(c[Je+1]);const $=[],J=vi.empty();for(let Je=D.length-1;Je>=0;--Je)if(!ym($,D[Je])){const pt=D[Je];let $t=k[Je];$t=(0,Ne.m9)($t);const on=p.da(pt);if($t instanceof $h)$.push(pt);else{const gn=tl($t,on);null!=gn&&($.push(pt),J.set(pt,gn))}}const Ie=new Vo($);return new Ru(J,Ie,p.fieldTransforms)}function gm(r,e,t,s=!1){return tl(t,r.ya(s?4:3,e))}function tl(r,e){if(Zy(r=(0,Ne.m9)(r)))return dp("Unsupported field value:",e,r),Gh(r,e);if(r instanceof yc)return function(t,s){if(!lu(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const p of t){let D=tl(p,s.wa(c));null==D&&(D={nullValue:"NULL_VALUE"}),a.push(D),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,Ne.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return nc(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Xr.fromDate(t);return{timestampValue:ld(s.serializer,a)}}if(t instanceof Xr){const a=new Xr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ld(s.serializer,a)}}if(t instanceof Ya)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ou)return{bytesValue:Vm(s.serializer,t._byteString)};if(t instanceof cs){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Rp(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${sp(t)}`)}(r,e)}function Gh(r,e){const t={};return xc(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(r,(s,a)=>{const c=tl(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function Zy(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Xr||r instanceof Ya||r instanceof Ou||r instanceof cs||r instanceof yc)}function dp(r,e,t){if(!Zy(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=sp(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function kd(r,e,t){if((e=(0,Ne.m9)(e))instanceof Xc)return e._internalPath;if("string"==typeof e)return $l(r,e);throw zh("Field path arguments must be of type string or ",r,!1,void 0,t)}const mm=new RegExp("[~\\*/\\[\\]]");function $l(r,e,t){if(e.search(mm)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Xc(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function zh(r,e,t,s,a){const c=s&&!s.isEmpty(),p=void 0!==a;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let k="";return(c||p)&&(k+=" (found",c&&(k+=` in field ${s}`),p&&(k+=` in document ${a}`),k+=")"),new wt(rt.INVALID_ARGUMENT,D+r+k)}function ym(r,e){return r.some(t=>t.isEqual(e))}class Ld{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new cs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Yy extends Ld{data(){return super.data()}}function Wh(r,e){return"string"==typeof e?$l(r,e):e instanceof Xc?e._internalPath:e._delegate._internalPath}function vm(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new wt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hp{}class Fd extends hp{}function nl(r,e,...t){let s=[];e instanceof hp&&s.push(e),s=s.concat(t),function(a){const c=a.filter(D=>D instanceof Vd).length,p=a.filter(D=>D instanceof Kh).length;if(c>1||c>0&&p>0)throw new wt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class Kh extends Fd{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Kh(e,t,s)}_apply(e){const t=this._parse(e);return Im(e._query,t),new Ho(e.firestore,e.converter,Ka(e._query,t))}_parse(e){const t=el(e.firestore);return function(a,c,p,D,k,$,J){let Ie;if(k.isKeyField()){if("array-contains"===$||"array-contains-any"===$)throw new wt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${$}' queries on documentId().`);if("in"===$||"not-in"===$){Em(J,$);const Je=[];for(const pt of J)Je.push(wm(D,a,pt));Ie={arrayValue:{values:Je}}}else Ie=wm(D,a,J)}else"in"!==$&&"not-in"!==$&&"array-contains-any"!==$||Em(J,$),Ie=gm(p,"where",J,"in"===$||"not-in"===$);return Kr.create(k,$,Ie)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Vd extends hp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vd(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const p=a.getFlattenedFilters();for(const D of p)Im(c,D),c=Ka(c,D)}(e._query,t),new Ho(e.firestore,e.converter,Ka(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _m extends Fd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _m(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new wt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new wt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Ju(a,c);return function(D,k){if(null===vl(D)){const $=_l(D);null!==$&&bm(0,$,k.field)}}(s,p),p}(e._query,this._field,this._direction);return new Ho(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Eu(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class fp extends Fd{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new fp(e,t,s)}_apply(e){return new Ho(e.firestore,e.converter,ec(e._query,this._limit,this._limitType))}}class pp extends Fd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new pp(e,t,s)}_apply(e){const t=Qy(e,this.type,this._docOrFields,this._inclusive);return new Ho(e.firestore,e.converter,(a=t,new Eu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class gp extends Fd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new gp(e,t,s)}_apply(e){const t=Qy(e,this.type,this._docOrFields,this._inclusive);return new Ho(e.firestore,e.converter,(a=t,new Eu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function Qy(r,e,t,s){if(t[0]=(0,Ne.m9)(t[0]),t[0]instanceof Ld)return function(a,c,p,D,k){if(!D)throw new wt(rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const $=[];for(const J of Hu(a))if(J.field.isKeyField())$.push(ct(c,D.key));else{const Ie=D.data.field(J.field);if(sa(Ie))throw new wt(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+J.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ie){const Je=J.field.canonicalString();throw new wt(rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Je}' (used as the orderBy) does not exist.`)}$.push(Ie)}return new Wa($,k)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=el(r.firestore);return function(c,p,D,k,$,J){const Ie=c.explicitOrderBy;if($.length>Ie.length)throw new wt(rt.INVALID_ARGUMENT,`Too many arguments provided to ${k}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Je=[];for(let pt=0;pt<$.length;pt++){const $t=$[pt];if(Ie[pt].field.isKeyField()){if("string"!=typeof $t)throw new wt(rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${k}(), but got a ${typeof $t}`);if(!wl(c)&&-1!==$t.indexOf("/"))throw new wt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${k}() must be a plain document ID, but '${$t}' contains a slash.`);const on=c.path.child(Rn.fromString($t));if(!tn.isDocumentKey(on))throw new wt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${k}() must result in a valid document path, but '${on}' is not because it contains an odd number of segments.`);const gn=new tn(on);Je.push(ct(p,gn))}else{const on=gm(D,k,$t);Je.push(on)}}return new Wa(Je,J)}(r._query,r.firestore._databaseId,a,e,t,s)}}function wm(r,e,t){if("string"==typeof(t=(0,Ne.m9)(t))){if(""===t)throw new wt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wl(e)&&-1!==t.indexOf("/"))throw new wt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Rn.fromString(t));if(!tn.isDocumentKey(s))throw new wt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ct(r,new tn(s))}if(t instanceof cs)return ct(r,t._key);throw new wt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sp(t)}.`)}function Em(r,e){if(!Array.isArray(r)||0===r.length)throw new wt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Im(r,e){if(e.isInequality()){const s=_l(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new wt(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=vl(r);null!==c&&bm(0,a,c)}const t=function(s,a){for(const c of s)for(const p of c.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new wt(rt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function bm(r,e,t){if(!t.isEqual(e))throw new wt(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class mp{convertValue(e,t="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return us(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return _a(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Ya(us(e.latitude),us(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Qu(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){const t=Uo(e);return new Xr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Rn.fromString(e);yn(jm(s));const a=new vu(s.get(1),s.get(3)),c=new tn(s.popFirst(5));return a.isEqual(t)||Rr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function qh(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Jy extends mp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ou(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cs(this.firestore,null,t)}}class Hl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class La extends Ld{constructor(e,t,s,a,c,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Wh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class yp extends La{data(e={}){return super.data(e)}}class Zu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Hl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new yp(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new yp(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Hl(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const D=new yp(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Hl(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let k=-1,$=-1;return 0!==p.type&&(k=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),$=c.indexOf(p.doc.key)),{type:E0(p.type),doc:D,oldIndex:k,newIndex:$}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function E0(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}function Cm(r,e){return r instanceof La&&e instanceof La?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Zu&&e instanceof Zu&&r._firestore===e._firestore&&ap(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Gl extends mp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ou(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cs(this.firestore,null,t)}}function tv(r,e,t){r=qr(r,cs);const s=qr(r.firestore,gs),a=qh(r.converter,e,t);return zl(s,[cp(el(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Zi.none())])}function Zh(r,e,t,...s){r=qr(r,cs);const a=qr(r.firestore,gs),c=el(a);let p;return p="string"==typeof(e=(0,Ne.m9)(e))||e instanceof Xc?pm(c,"updateDoc",r._key,e,t,s):lp(c,"updateDoc",r._key,e),zl(a,[p.toMutation(r._key,Zi.exists(!0))])}function J_(r,...e){var t,s,a;r=(0,Ne.m9)(r);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||up(e[p])||(c=e[p],p++);const D={includeMetadataChanges:c.includeMetadataChanges};if(up(e[p])){const Ie=e[p];e[p]=null===(t=Ie.next)||void 0===t?void 0:t.bind(Ie),e[p+1]=null===(s=Ie.error)||void 0===s?void 0:s.bind(Ie),e[p+2]=null===(a=Ie.complete)||void 0===a?void 0:a.bind(Ie)}let k,$,J;if(r instanceof cs)$=qr(r.firestore,gs),J=$u(r._key.path),k={next:Ie=>{e[p]&&e[p](Tm($,r,Ie))},error:e[p+1],complete:e[p+2]};else{const Ie=qr(r,Ho);$=qr(Ie.firestore,gs),J=Ie._query;const Je=new Gl($);k={next:pt=>{e[p]&&e[p](new Zu($,Je,Ie,pt))},error:e[p+1],complete:e[p+2]},vm(r._query)}return function(Ie,Je,pt,$t){const on=new gc($t),gn=new uu(Je,on,pt);return Ie.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return xg(yield Pd(Ie),gn)})),()=>{on.Dc(),Ie.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return Mg(yield Pd(Ie),gn)}))}}(Us($),J,D,k)}function zl(r,e){return function(t,s){const a=new cr;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function g0(r,e,t){return $f.apply(this,arguments)}(yield Xg(t),s,a)})),a.promise}(Us(r),e)}function Tm(r,e,t){const s=t.docs.get(e._key),a=new Gl(r);return new La(r,a,e._key,s,new Hl(t.hasPendingWrites,t.fromCache),e.converter)}const av={maxAttempts:5};class uv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=el(e)}set(e,t,s){this._verifyNotCommitted();const a=du(e,this._firestore),c=qh(a.converter,t,s),p=cp(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,Zi.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=du(e,this._firestore);let p;return p="string"==typeof(t=(0,Ne.m9)(t))||t instanceof Xc?pm(this._dataReader,"WriteBatch.update",c._key,t,s,a):lp(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(p.toMutation(c._key,Zi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=du(e,this._firestore);return this._mutations=this._mutations.concat(new ic(t._key,Zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new wt(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function du(r,e){if((r=(0,Ne.m9)(r)).firestore!==e)throw new wt(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Yh extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=el(e)}get(e){const t=du(e,this._firestore),s=new Jy(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Mt();const c=a[0];if(c.isFoundDocument())return new Ld(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new Ld(this._firestore,s,t._key,null,t.converter);throw Mt()})}set(e,t,s){const a=du(e,this._firestore),c=qh(a.converter,t,s),p=cp(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const c=du(e,this._firestore);let p;return p="string"==typeof(t=(0,Ne.m9)(t))||t instanceof Xc?pm(this._dataReader,"Transaction.update",c._key,t,s,a):lp(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,p),this}delete(e){const t=du(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=du(e,this._firestore),s=new Gl(this._firestore);return super.get(e).then(a=>new La(this._firestore,s,t._key,a._document,new Hl(!1,!1),t.converter))}}function fv(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new wt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function cw(){if(typeof Uint8Array>"u")throw new wt("unimplemented","Uint8Arrays are not available in this environment.")}function lw(){if(!function qd(){return typeof atob<"u"}())throw new wt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){Va=Pt.SDK_VERSION,(0,Pt._registerComponent)(new at.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),p=new gs(new G(t.getProvider("auth-internal")),new ve(t.getProvider("app-check-internal")),function(D,k){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new wt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(D.options.projectId,k)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,Pt.registerVersion)(Aa,"3.13.0",r),(0,Pt.registerVersion)(Aa,"3.13.0","esm2017")}();class jd{constructor(e){this._delegate=e}static fromBase64String(e){return lw(),new jd(Ou.fromBase64String(e))}static fromUint8Array(e){return cw(),new jd(Ou.fromUint8Array(e))}toBase64(){return lw(),this._delegate.toBase64()}toUint8Array(){return cw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $d(r){return function dw(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class hw{enableIndexedDbPersistence(e,t){return function po(r,e){Wy(r=qr(r,gs));const t=Us(r);if(t._uninitializedComponentsProvider)throw new wt(rt.FAILED_PRECONDITION,"SDK cache is already specified.");Ei("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),a=new Mu;return Hy(t,a,new Na(a,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function $y(r){Wy(r=qr(r,gs));const e=Us(r);if(e._uninitializedComponentsProvider)throw new wt(rt.FAILED_PRECONDITION,"SDK cache is already specified.");Ei("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new Mu;return Hy(e,s,new qf(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function M_(r){if(r._initialized&&!r._terminated)throw new wt(rt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(t=(0,De.Z)(function*(s){if(!A.D())return Promise.resolve();const a=s+"main";yield A.delete(a)}),function(s){return t.apply(this,arguments)})(lg(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Am{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof vu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ei("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Ly(r,e,t,s={}){var a;const c=(r=qr(r,Od))._getSettings(),p=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==p&&Ei("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),s.mockUserToken){let D,k;if("string"==typeof s.mockUserToken)D=s.mockUserToken,k=Si.MOCK_USER;else{D=(0,Ne.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const $=s.mockUserToken.sub||s.mockUserToken.user_id;if(!$)throw new wt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new Si($)}r._authCredentials=new ia(new To(D,k))}}(this._delegate,e,t,s)}enableNetwork(){return function P_(r){return function nm(r){return r.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield Jg(r),t=yield Ny(r);return e.setNetworkEnabled(!0),function(s){const a=Qt(s);return a.vu.delete(0),Nf(a)}(t)}))}(Us(r=qr(r,gs)))}(this._delegate)}disableNetwork(){return function zy(r){return function rm(r){return r.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield Jg(r),t=yield Ny(r);return e.setNetworkEnabled(!1),(s=(0,De.Z)(function*(a){const c=Qt(a);c.vu.add(0),yield Za(c),c.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Us(r=qr(r,gs)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,am("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Gy(r){return function(e){const t=new cr;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function Bg(r,e){return zf.apply(this,arguments)}(yield Xg(e),t)})),t.promise}(Us(r=qr(r,gs)))}(this._delegate)}onSnapshotsInSync(e){return function nv(r,e){return function x_(r,e){const t=new gc(e);return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return s=yield Pd(r),a=t,Qt(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return s=yield Pd(r),a=t,void Qt(s).ku.delete(a);var s,a}))}}(Us(r=qr(r,gs)),up(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new wt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hd(this,op(this._delegate,e))}catch(t){throw la(t,"collection()","Firestore.collection()")}}doc(e){try{return new hu(this,jh(this._delegate,e))}catch(t){throw la(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new da(this,function Fy(r,e){if(r=qr(r,Od),rp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new wt(rt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ho(r,null,(t=e,new Eu(Rn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw la(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function iw(r,e,t){r=qr(r,gs);const s=Object.assign(Object.assign({},av),t);return function(a){if(a.maxAttempts<1)throw new wt(rt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,p){const D=new cr;return a.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const k=yield function em(r){return Vh(r).then(e=>e.datastore)}(a);new xd(a.asyncQueue,k,p,c,D).run()})),D.promise}(Us(r),a=>e(new Yh(r,a)),s)}(this._delegate,t=>e(new pv(this,t)))}batch(){return Us(this._delegate),new gv(new uv(this._delegate,e=>zl(this._delegate,e)))}loadBundle(e){return function Rd(r,e){const t=Us(r=qr(r,gs)),s=new Uy;return function im(r,e,t,s){const a=function(c,p){let D;return D="string"==typeof c?vn().encode(c):c,k=function(k,$){if(k instanceof Uint8Array)return jl(k,$);if(k instanceof ArrayBuffer)return jl(new Uint8Array(k),$);if(k instanceof ReadableStream)return k.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new Ad(k,p);var k}(t,Ch(e));r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function ca(r,e,t){const s=Qt(r);var a;(a=(0,De.Z)(function*(c,p,D){try{const k=yield p.getMetadata();if(yield function(Je,pt){const $t=Qt(Je),on=qs(pt.createTime);return $t.persistence.runTransaction("hasNewerBundle","readonly",gn=>$t.qs.getBundleMetadata(gn,pt.id)).then(gn=>!!gn&&gn.createTime.compareTo(on)>=0)}(c.localStore,k))return yield p.close(),D._completeWith({taskState:"Success",documentsLoaded:(Je=k).totalDocuments,bytesLoaded:Je.totalBytes,totalDocuments:Je.totalDocuments,totalBytes:Je.totalBytes}),Promise.resolve(new Set);D._updateProgress(m_(k));const $=new g_(k,c.localStore,p.serializer);let J=yield p.bc();for(;J;){const Je=yield $.zu(J);Je&&D._updateProgress(Je),J=yield p.bc()}const Ie=yield $.complete();return yield fc(c,Ie.Ju,void 0),yield function(Je,pt){const $t=Qt(Je);return $t.persistence.runTransaction("Save bundle","readwrite",on=>$t.qs.saveBundleMetadata(on,pt))}(c.localStore,k),D._completeWith(Ie.progress),Promise.resolve(Ie.Hu)}catch(k){return Ei("SyncEngine",`Loading bundle failed with ${k}`),D._failWith(k),Promise.resolve(new Set)}var Je}),function(c,p,D){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Xg(r),a,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function R_(r,e){return function sm(r,e){return r.asyncQueue.enqueue((0,De.Z)(function*(){return function(t,s){const a=Qt(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.qs.getNamedQuery(c,s))}(yield Uh(r),e)}))}(Us(r=qr(r,gs)),e).then(t=>t?new Ho(r,null,t.query):null)}(this._delegate,e).then(t=>t?new da(this,t):null)}}class rl extends mp{constructor(e){super(),this.firestore=e}convertBytes(e){return new jd(new Ou(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return hu.forKey(t,this.firestore,null)}}class pv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rl(e)}get(e){const t=il(e);return this._delegate.get(t).then(s=>new vc(this._firestore,new La(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=il(e);return s?(fv("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const c=il(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,s,...a),this}delete(e){const t=il(e);return this._delegate.delete(t),this}}class gv{constructor(e){this._delegate=e}set(e,t,s){const a=il(e);return s?(fv("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const c=il(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,s,...a),this}delete(e){const t=il(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wl{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new yp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qh(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Wl.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let c=a.get(t);return c||(c=new Wl(e,new rl(e),t),a.set(t,c)),c}}Wl.INSTANCES=new WeakMap;class hu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rl(e)}static forPath(e,t,s){if(e.length%2!=0)throw new wt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new hu(t,new cs(t._delegate,s,new tn(e)))}static forKey(e,t,s){return new hu(t,new cs(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Hd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hd(this.firestore,op(this._delegate,e))}catch(t){throw la(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ne.m9)(e))instanceof cs&&dm(this._delegate,e)}set(e,t){t=fv("DocumentReference.set",t);try{return t?tv(this._delegate,e,t):tv(this._delegate,e)}catch(s){throw la(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Zh(this._delegate,e):Zh(this._delegate,e,t,...s)}catch(a){throw la(a,"updateDoc()","DocumentReference.update()")}}delete(){return function vp(r){return zl(qr(r.firestore,gs),[new ic(r._key,Zi.none())])}(this._delegate)}onSnapshot(...e){const t=mv(e),s=yv(e,a=>new vc(this.firestore,new La(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return J_(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function Xn(r){r=qr(r,cs);const e=qr(r.firestore,gs),t=Us(e),s=new Gl(e);return function S_(r,e){const t=new cr;return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(s=(0,De.Z)(function*(a,c,p){try{const D=yield function(k,$){const J=Qt(k);return J.persistence.runTransaction("read document","readonly",Ie=>J.localDocuments.getDocument(Ie,$))}(a,c);D.isFoundDocument()?p.resolve(D):D.isNoDocument()?p.resolve(null):p.reject(new wt(rt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const k=Qc(D,`Failed to get document '${c} from cache`);p.reject(k)}}),function(a,c,p){return s.apply(this,arguments)})(yield Uh(r),e,t);var s})),t.promise}(t,r._key).then(a=>new La(e,s,r._key,a,new Hl(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function Z_(r){r=qr(r,cs);const e=qr(r.firestore,gs);return Bh(Us(e),r._key,{source:"server"}).then(t=>Tm(e,r,t))}(this._delegate):function ev(r){r=qr(r,cs);const e=qr(r.firestore,gs);return Bh(Us(e),r._key).then(t=>Tm(e,r,t))}(this._delegate),t.then(s=>new vc(this.firestore,new La(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new hu(this.firestore,this._delegate.withConverter(e?Wl.getInstance(this.firestore,e):null))}}function la(r,e,t){return r.message=r.message.replace(e,t),r}function mv(r){for(const e of r)if("object"==typeof e&&!$d(e))return e;return{}}function yv(r,e){var t,s;let a;return a=$d(r[0])?r[0]:$d(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class vc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new hu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Cm(this._delegate,e._delegate)}}class Qh extends vc{data(e){const t=this._delegate.data(e);return function Xa(r,e){r||Mt()}(void 0!==t),t}}class da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rl(e)}where(e,t,s){try{return new da(this.firestore,nl(this._delegate,function U_(r,e,t){const s=e,a=Wh("where",r);return Kh._create(a,s,t)}(e,t,s)))}catch(a){throw la(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new da(this.firestore,nl(this._delegate,function B_(r,e="asc"){const t=e,s=Wh("orderBy",r);return _m._create(s,t)}(e,t)))}catch(s){throw la(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new da(this.firestore,nl(this._delegate,function j_(r){return cm("limit",r),fp._create("limit",r,"F")}(e)))}catch(t){throw la(t,"limit()","Query.limit()")}}limitToLast(e){try{return new da(this.firestore,nl(this._delegate,function $_(r){return cm("limitToLast",r),fp._create("limitToLast",r,"L")}(e)))}catch(t){throw la(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new da(this.firestore,nl(this._delegate,function H_(...r){return pp._create("startAt",r,!0)}(...e)))}catch(t){throw la(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new da(this.firestore,nl(this._delegate,function G_(...r){return pp._create("startAfter",r,!1)}(...e)))}catch(t){throw la(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new da(this.firestore,nl(this._delegate,function z_(...r){return gp._create("endBefore",r,!1)}(...e)))}catch(t){throw la(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new da(this.firestore,nl(this._delegate,function W_(...r){return gp._create("endAt",r,!0)}(...e)))}catch(t){throw la(t,"endAt()","Query.endAt()")}}isEqual(e){return ap(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Q_(r){r=qr(r,Ho);const e=qr(r.firestore,gs),t=Us(e),s=new Gl(e);return function ep(r,e){const t=new cr;return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(s=(0,De.Z)(function*(a,c,p){try{const D=yield kl(a,c,!0),k=new My(c,D.ir),$=k.sc(D.documents),J=k.applyChanges($,!1);p.resolve(J.snapshot)}catch(D){const k=Qc(D,`Failed to execute query '${c} against cache`);p.reject(k)}}),function(a,c,p){return s.apply(this,arguments)})(yield Uh(r),e,t);var s})),t.promise}(t,r._query).then(a=>new Zu(e,s,r,a))}(this._delegate):"server"===e?.source?function Bd(r){r=qr(r,Ho);const e=qr(r.firestore,gs),t=Us(e),s=new Gl(e);return tp(t,r._query,{source:"server"}).then(a=>new Zu(e,s,r,a))}(this._delegate):function Y_(r){r=qr(r,Ho);const e=qr(r.firestore,gs),t=Us(e),s=new Gl(e);return vm(r._query),tp(t,r._query).then(a=>new Zu(e,s,r,a))}(this._delegate),t.then(s=>new Ep(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=mv(e),s=yv(e,a=>new Ep(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return J_(this._delegate,t,s)}withConverter(e){return new da(this.firestore,this._delegate.withConverter(e?Wl.getInstance(this.firestore,e):null))}}class pw{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ep{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new da(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Qh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new pw(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Qh(this._firestore,s))})}isEqual(e){return Cm(this._delegate,e._delegate)}}class Hd extends da{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new hu(this.firestore,e):null}doc(e){try{return new hu(this.firestore,void 0===e?jh(this._delegate):jh(this._delegate,e))}catch(t){throw la(t,"doc()","CollectionReference.doc()")}}add(e){return function Bs(r,e){const t=qr(r.firestore,gs),s=jh(r),a=qh(r.converter,e);return zl(t,[cp(el(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,Zi.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new hu(this.firestore,t))}isEqual(e){return dm(this._delegate,e._delegate)}withConverter(e){return new Hd(this.firestore,this._delegate.withConverter(e?Wl.getInstance(this.firestore,e):null))}}function il(r){return qr(r,cs)}class Sm{constructor(...e){this._delegate=new Xc(...e)}static documentId(){return new Sm(yi.keyField().canonicalString())}isEqual(e){return(e=(0,Ne.m9)(e))instanceof Xc&&this._delegate._internalPath.isEqual(e._internalPath)}}class _c{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ow(){return new hm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new _c(e)}static delete(){const e=function sw(){return new $h("deleteField")}();return e._methodName="FieldValue.delete",new _c(e)}static arrayUnion(...e){const t=function cv(...r){return new fm("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new _c(t)}static arrayRemove(...e){const t=function lv(...r){return new Hh("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new _c(t)}static increment(e){const t=function dv(r){return new V_("increment",r)}(e);return t._methodName="FieldValue.increment",new _c(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const gw={Firestore:Am,GeoPoint:Ya,Timestamp:Xr,Blob:jd,Transaction:pv,WriteBatch:gv,DocumentReference:hu,DocumentSnapshot:vc,Query:da,QueryDocumentSnapshot:Qh,QuerySnapshot:Ep,CollectionReference:Hd,FieldPath:Sm,FieldValue:_c,setLogLevel:function fw(r){!function ma(r){Li.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function _v(r){(function vv(r,e){r.INTERNAL.registerComponent(new at.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},gw)))})(r,(e,t)=>new Am(e,t,new hw)),r.registerVersion("@firebase/firestore-compat","0.3.12")}($e.Z);var sl=O(1041),mw=O(6217),yw=O(9260);function wv(r,e){return function xm(r,e=F.z){return new z.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(r,e)}function Mm(r,e){return wv(r,e).pipe((0,re.U)(t=>({payload:t,type:"query"})))}function Ip(r,e){return Mm(r,e).pipe((0,ye.O)(void 0),ne(),(0,re.U)(([t,s])=>{const a=s.payload.docChanges(),c=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((p,D)=>{const k=a.find(J=>J.doc.ref.isEqual(p.ref)),$=t?.payload.docs.find(J=>J.ref.isEqual(p.ref));k&&JSON.stringify(k.doc.metadata)===JSON.stringify(p.metadata)||!k&&$&&JSON.stringify($.metadata)===JSON.stringify(p.metadata)||c.push({type:"modified",payload:{oldIndex:D,newIndex:D,type:"modified",doc:p}})}),c}))}function Iv(r,e,t){return Ip(r,t).pipe((0,ae.R)((s,a)=>function vw(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function _w(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Pm(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Pm(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Pm(r,e.oldIndex,1)}return r}(r,s))}),r}(s,a.map(c=>c.payload),e),[]),(0,Ge.x)(),(0,re.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function Pm(r,e,t,...s){const a=r.slice();return a.splice(e,t,...s),a}function bv(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Dv{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Ip(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,re.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,ye.O)(void 0),ne(),(0,We.h)(([s,a])=>a.length>0||!s),(0,re.U)(([s,a])=>a),pe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ae.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=bv(e);return Iv(this.query,t,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(e={}){return Mm(this.query,this.afs.schedulers.outsideAngular).pipe((0,re.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),pe.iC)}get(e){return(0,ue.D)(this.query.get(e)).pipe(pe.iC)}add(e){return this.ref.add(e)}doc(e){return new Om(this.ref.doc(e),this.afs)}}class Om{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:c}=xv(s,t);return new Dv(a,c,this.afs)}snapshotChanges(){return function Ev(r,e){return wv(r,e).pipe((0,ye.O)(void 0),ne(),(0,re.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,re.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ue.D)(this.ref.get(e)).pipe(pe.iC)}}class Cv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Ip(this.query,this.afs.schedulers.outsideAngular).pipe((0,re.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,We.h)(t=>t.length>0),pe.iC):Ip(this.query,this.afs.schedulers.outsideAngular).pipe(pe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ae.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=bv(e);return Iv(this.query,t,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(e={}){return Mm(this.query,this.afs.schedulers.outsideAngular).pipe((0,re.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),pe.iC)}get(e){return(0,ue.D)(this.query.get(e)).pipe(pe.iC)}}const Tv=new g.OlP("angularfire2.enableFirestorePersistence"),Av=new g.OlP("angularfire2.firestore.persistenceSettings"),Sv=new g.OlP("angularfire2.firestore.settings"),ww=new g.OlP("angularfire2.firestore.use-emulator");function xv(r,e=(t=>t)){return{query:e(r),ref:r}}let Mv=(()=>{class r{constructor(t,s,a,c,p,D,k,$,J,Ie,Je,pt,$t,on,gn,Ir,Zr){this.schedulers=k;const br=(0,Ue.on)(t,D,s),ms=J;Ie&&(0,sl.nw)(br,D,Je,$t,on,gn,pt,Ir),[this.firestore,this.persistenceEnabled$]=(0,Ue.cc)(`${br.name}.firestore`,"AngularFirestore",br.name,()=>{const Qi=D.runOutsideAngular(()=>br.firestore());if(c&&Qi.settings(c),ms&&Qi.useEmulator(...ms),a&&!(0,St.PM)(p)){const Bi=()=>{try{return(0,ue.D)(Qi.enablePersistence($||void 0).then(()=>!0,()=>!1))}catch(ha){return typeof console<"u"&&console.warn(ha),(0,ee.of)(!1)}};return[Qi,D.runOutsideAngular(Bi)]}return[Qi,(0,ee.of)(!1)]},[c,ms,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:p}=xv(a,s),D=this.schedulers.ngZone.run(()=>c);return new Dv(D,p,this)}collectionGroup(t,s){const a=s||(p=>p),c=this.firestore.collectionGroup(t);return new Cv(a(c),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new Om(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(g.LFG(Ue.Dh),g.LFG(Ue.xv,8),g.LFG(Tv,8),g.LFG(Sv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(pe.HU),g.LFG(Av,8),g.LFG(ww,8),g.LFG(sl.zQ,8),g.LFG(sl.Qv,8),g.LFG(sl.L6,8),g.LFG(sl._Q,8),g.LFG(sl.rT,8),g.LFG(sl.lh,8),g.LFG(sl.f7,8),g.LFG(mw.nm,8))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Rm=(()=>{class r{constructor(){yw.Z.registerVersion("angularfire",pe.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Tv,useValue:!0},{provide:Av,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({providers:[Mv]}),r})()},2011:(xe,le,O)=>{"use strict";O.d(le,{Dh:()=>we,GT:()=>pe,cc:()=>We,hO:()=>Ge,on:()=>ne,pX:()=>ee,xv:()=>fe});var g=O(4650),F=O(9260),z=O(8405);xe=O.hmd(xe);const ue=["ngOnDestroy"],ee=($e,De,Pt,at={})=>new Proxy($e,{get:(Ye,Ne)=>Pt.runOutsideAngular(()=>{var Ct;if($e[Ne])return!(null===(Ct=at?.spy)||void 0===Ct)&&Ct.get&&at.spy.get(Ne,$e[Ne]),$e[Ne];if(ue.indexOf(Ne)>-1)return()=>{};const lt=De.toPromise().then(Ke=>{const Be=Ke&&Ke[Ne];return"function"==typeof Be?Be.bind(Ke):Be&&Be.then?Be.then(vt=>Pt.run(()=>vt)):Pt.run(()=>Be)});return new Proxy(()=>{},{get:(Ke,Be)=>lt[Be],apply:(Ke,Be,vt)=>lt.then(Tt=>{var jt;const Ut=Tt&&Tt(...vt);return!(null===(jt=at?.spy)||void 0===jt)&&jt.apply&&at.spy.apply(Ne,vt,Ut),Ut})})})}),pe=($e,De)=>{De.forEach(Pt=>{Object.getOwnPropertyNames(Pt.prototype||Pt).forEach(at=>{Object.defineProperty($e.prototype,at,Object.getOwnPropertyDescriptor(Pt.prototype||Pt,at))})})};class ye{constructor(De){return De}}const we=new g.OlP("angularfire2.app.options"),fe=new g.OlP("angularfire2.app.name");function ne($e,De,Pt){const Ye="object"==typeof Pt&&Pt||{};Ye.name=Ye.name||"string"==typeof Pt&&Pt||"[DEFAULT]";const Ct=F.Z.apps.filter(lt=>lt&&lt.name===Ye.name)[0]||De.runOutsideAngular(()=>F.Z.initializeApp($e,Ye));try{JSON.stringify($e)!==JSON.stringify(Ct.options)&&re("error",`${Ct.name} Firebase App already initialized with different options${xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(Ct)}const re=($e,...De)=>{(0,g.X6Q)()&&typeof console<"u"&&console[$e](...De)},ae={provide:ye,useFactory:ne,deps:[we,g.R0b,[new g.FiY,fe]]};let Ge=(()=>{class $e{constructor(Pt){F.Z.registerVersion("angularfire",z.q4.full,"core"),F.Z.registerVersion("angularfire",z.q4.full,"app-compat"),F.Z.registerVersion("angular",g.q4F.full,Pt.toString())}static initializeApp(Pt,at){return{ngModule:$e,providers:[{provide:we,useValue:Pt},{provide:fe,useValue:at}]}}}return $e.\u0275fac=function(Pt){return new(Pt||$e)(g.LFG(g.Lbi))},$e.\u0275mod=g.oAB({type:$e}),$e.\u0275inj=g.cJS({providers:[ae]}),$e})();function We($e,De,Pt,at,Ye){const[,Ne,Ct]=globalThis.\u0275AngularfireInstanceCache.find(lt=>lt[0]===$e)||[];if(Ne)return function Ue($e,De){try{return $e.toString()===De.toString()}catch{return $e===De}}(Ye,Ct)||(it("error",`${De} was already initialized on the ${Pt} Firebase App with different settings.${St?" You may need to reload as Firebase is not HMR aware.":""}`),it("warn",{is:Ye,was:Ct})),Ne;{const lt=at();return globalThis.\u0275AngularfireInstanceCache.push([$e,lt,Ye]),lt}}const St=!!xe.hot,it=($e,...De)=>{(0,g.X6Q)()&&typeof console<"u"&&console[$e](...De)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8405:(xe,le,O)=>{"use strict";O.d(le,{q4:()=>Ql,iC:()=>nu,HU:()=>tu,vb:()=>As,JM:()=>qd});var g=O(4650),F=O(259),z=O(5861),ue=O(6881),ee=O(2090),pe=O(4859),ye=O(1877);let fe,ne;const Ge=new WeakMap,We=new WeakMap,Ue=new WeakMap,St=new WeakMap,it=new WeakMap;let Pt={get(b,P,W){if(b instanceof IDBTransaction){if("done"===P)return We.get(b);if("objectStoreNames"===P)return b.objectStoreNames||Ue.get(b);if("store"===P)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Ct(b[P])},set:(b,P,W)=>(b[P]=W,!0),has:(b,P)=>b instanceof IDBTransaction&&("done"===P||"store"===P)||P in b};function Ne(b){return"function"==typeof b?function Ye(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...P){return b.apply(lt(this),P),Ct(Ge.get(this))}:function(...P){return Ct(b.apply(lt(this),P))}:function(P,...W){const ie=b.call(lt(this),P,...W);return Ue.set(ie,P.sort?P.sort():[P]),Ct(ie)}}(b):(b instanceof IDBTransaction&&function De(b){if(We.has(b))return;const P=new Promise((W,ie)=>{const Se=()=>{b.removeEventListener("complete",je),b.removeEventListener("error",ct),b.removeEventListener("abort",ct)},je=()=>{W(),Se()},ct=()=>{ie(b.error||new DOMException("AbortError","AbortError")),Se()};b.addEventListener("complete",je),b.addEventListener("error",ct),b.addEventListener("abort",ct)});We.set(b,P)}(b),((b,P)=>P.some(W=>b instanceof W))(b,function re(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Pt):b)}function Ct(b){if(b instanceof IDBRequest)return function $e(b){const P=new Promise((W,ie)=>{const Se=()=>{b.removeEventListener("success",je),b.removeEventListener("error",ct)},je=()=>{W(Ct(b.result)),Se()},ct=()=>{ie(b.error),Se()};b.addEventListener("success",je),b.addEventListener("error",ct)});return P.then(W=>{W instanceof IDBCursor&&Ge.set(W,b)}).catch(()=>{}),it.set(P,b),P}(b);if(St.has(b))return St.get(b);const P=Ne(b);return P!==b&&(St.set(b,P),it.set(P,b)),P}const lt=b=>it.get(b),vt=["get","getKey","getAll","getAllKeys","count"],Tt=["put","add","delete","clear"],jt=new Map;function Ut(b,P){if(!(b instanceof IDBDatabase)||P in b||"string"!=typeof P)return;if(jt.get(P))return jt.get(P);const W=P.replace(/FromIndex$/,""),ie=P!==W,Se=Tt.includes(W);if(!(W in(ie?IDBIndex:IDBObjectStore).prototype)||!Se&&!vt.includes(W))return;const je=function(){var ct=(0,z.Z)(function*(nn,...zt){const Cn=this.transaction(nn,Se?"readwrite":"readonly");let ir=Cn.store;return ie&&(ir=ir.index(zt.shift())),(yield Promise.all([ir[W](...zt),Se&&Cn.done]))[0]});return function(zt){return ct.apply(this,arguments)}}();return jt.set(P,je),je}!function at(b){Pt=b(Pt)}(b=>({...b,get:(P,W,ie)=>Ut(P,W)||b.get(P,W,ie),has:(P,W)=>!!Ut(P,W)||b.has(P,W)}));const Dr="@firebase/installations",Nn="w:0.6.4",Me="FIS_v2",Qe=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function It(b){return b instanceof ee.ZR&&b.code.includes("request-failed")}function At({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function Vt(b){return{token:b.token,requestStatus:2,expiresIn:On(b.expiresIn),creationTime:Date.now()}}function rn(b,P){return xn.apply(this,arguments)}function xn(){return(xn=(0,z.Z)(function*(b,P){const ie=(yield P.json()).error;return Qe.create("request-failed",{requestName:b,serverCode:ie.code,serverMessage:ie.message,serverStatus:ie.status})})).apply(this,arguments)}function _n({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function tr(b,{refreshToken:P}){const W=_n(b);return W.append("Authorization",function En(b){return`${Me} ${b}`}(P)),W}function Xt(b){return nr.apply(this,arguments)}function nr(){return(nr=(0,z.Z)(function*(b){const P=yield b();return P.status>=500&&P.status<600?b():P})).apply(this,arguments)}function On(b){return Number(b.replace("s","000"))}function Lt(b,P){return un.apply(this,arguments)}function un(){return(un=(0,z.Z)(function*({appConfig:b,heartbeatServiceProvider:P},{fid:W}){const ie=At(b),Se=_n(b),je=P.getImmediate({optional:!0});if(je){const Cn=yield je.getHeartbeatsHeader();Cn&&Se.append("x-firebase-client",Cn)}const nn={method:"POST",headers:Se,body:JSON.stringify({fid:W,authVersion:Me,appId:b.appId,sdkVersion:Nn})},zt=yield Xt(()=>fetch(ie,nn));if(zt.ok){const Cn=yield zt.json();return{fid:Cn.fid||W,registrationStatus:2,refreshToken:Cn.refreshToken,authToken:Vt(Cn.authToken)}}throw yield rn("Create Installation",zt)})).apply(this,arguments)}function Ln(b){return new Promise(P=>{setTimeout(P,b)})}const Ci=/^[cdef][\w-]{21}$/;function jr(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const W=function An(b){return function Cr(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Ci.test(W)?W:""}catch{return""}}function Sn(b){return`${b.appName}!${b.appId}`}const Bt=new Map;function sn(b,P){const W=Sn(b);sr(W,P),function Tr(b,P){const W=function Pr(){return!hn&&"BroadcastChannel"in self&&(hn=new BroadcastChannel("[Firebase] FID Change"),hn.onmessage=b=>{sr(b.data.key,b.data.fid)}),hn}();W&&W.postMessage({key:b,fid:P}),function Wn(){0===Bt.size&&hn&&(hn.close(),hn=null)}()}(W,P)}function sr(b,P){const W=Bt.get(b);if(W)for(const ie of W)ie(P)}let hn=null;const vr="firebase-installations-store";let cn=null;function Hr(){return cn||(cn=function Ke(b,P,{blocked:W,upgrade:ie,blocking:Se,terminated:je}={}){const ct=indexedDB.open(b,P),nn=Ct(ct);return ie&&ct.addEventListener("upgradeneeded",zt=>{ie(Ct(ct.result),zt.oldVersion,zt.newVersion,Ct(ct.transaction))}),W&&ct.addEventListener("blocked",()=>W()),nn.then(zt=>{je&&zt.addEventListener("close",()=>je()),Se&&zt.addEventListener("versionchange",()=>Se())}).catch(()=>{}),nn}("firebase-installations-database",1,{upgrade:(b,P)=>{0===P&&b.createObjectStore(vr)}})),cn}function Kn(b,P){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,z.Z)(function*(b,P){const W=Sn(b),Se=(yield Hr()).transaction(vr,"readwrite"),je=Se.objectStore(vr),ct=yield je.get(W);return yield je.put(P,W),yield Se.done,(!ct||ct.fid!==P.fid)&&sn(b,P.fid),P})).apply(this,arguments)}function hi(b){return $n.apply(this,arguments)}function $n(){return($n=(0,z.Z)(function*(b){const P=Sn(b),ie=(yield Hr()).transaction(vr,"readwrite");yield ie.objectStore(vr).delete(P),yield ie.done})).apply(this,arguments)}function Ar(b,P){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,z.Z)(function*(b,P){const W=Sn(b),Se=(yield Hr()).transaction(vr,"readwrite"),je=Se.objectStore(vr),ct=yield je.get(W),nn=P(ct);return void 0===nn?yield je.delete(W):yield je.put(nn,W),yield Se.done,nn&&(!ct||ct.fid!==nn.fid)&&sn(b,nn.fid),nn})).apply(this,arguments)}function _e(b){return se.apply(this,arguments)}function se(){return(se=(0,z.Z)(function*(b){let P;const W=yield Ar(b.appConfig,ie=>{const Se=Ce(ie),je=qe(b,Se);return P=je.registrationPromise,je.installationEntry});return""===W.fid?{installationEntry:yield P}:{installationEntry:W,registrationPromise:P}})).apply(this,arguments)}function Ce(b){return de(b||{fid:jr(),registrationStatus:0})}function qe(b,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(Qe.create("app-offline"))};const W={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},ie=function ke(b,P){return xt.apply(this,arguments)}(b,W);return{installationEntry:W,registrationPromise:ie}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:qt(b)}:{installationEntry:P}}function xt(){return(xt=(0,z.Z)(function*(b,P){try{const W=yield Lt(b,P);return Kn(b.appConfig,W)}catch(W){throw It(W)&&409===W.customData.serverCode?yield hi(b.appConfig):yield Kn(b.appConfig,{fid:P.fid,registrationStatus:0}),W}})).apply(this,arguments)}function qt(b){return In.apply(this,arguments)}function In(){return(In=(0,z.Z)(function*(b){let P=yield rr(b.appConfig);for(;1===P.registrationStatus;)yield Ln(100),P=yield rr(b.appConfig);if(0===P.registrationStatus){const{installationEntry:W,registrationPromise:ie}=yield _e(b);return ie||W}return P})).apply(this,arguments)}function rr(b){return Ar(b,P=>{if(!P)throw Qe.create("installation-not-found");return de(P)})}function de(b){return function oe(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function X(b,P){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,z.Z)(function*({appConfig:b,heartbeatServiceProvider:P},W){const ie=ft(b,W),Se=tr(b,W),je=P.getImmediate({optional:!0});if(je){const Cn=yield je.getHeartbeatsHeader();Cn&&Se.append("x-firebase-client",Cn)}const nn={method:"POST",headers:Se,body:JSON.stringify({installation:{sdkVersion:Nn,appId:b.appId}})},zt=yield Xt(()=>fetch(ie,nn));if(zt.ok)return Vt(yield zt.json());throw yield rn("Generate Auth Token",zt)})).apply(this,arguments)}function ft(b,{fid:P}){return`${At(b)}/${P}/authTokens:generate`}function Wt(b){return wn.apply(this,arguments)}function wn(){return(wn=(0,z.Z)(function*(b,P=!1){let W;const ie=yield Ar(b.appConfig,je=>{if(!mn(je))throw Qe.create("not-registered");const ct=je.authToken;if(!P&&qn(ct))return je;if(1===ct.requestStatus)return W=Le(b,P),je;{if(!navigator.onLine)throw Qe.create("app-offline");const nn=Hn(je);return W=_t(b,nn),nn}});return W?yield W:ie.authToken})).apply(this,arguments)}function Le(b,P){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,z.Z)(function*(b,P){let W=yield yt(b.appConfig);for(;1===W.authToken.requestStatus;)yield Ln(100),W=yield yt(b.appConfig);const ie=W.authToken;return 0===ie.requestStatus?Wt(b,P):ie})).apply(this,arguments)}function yt(b){return Ar(b,P=>{if(!mn(P))throw Qe.create("not-registered");return function Ur(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function _t(b,P){return ln.apply(this,arguments)}function ln(){return(ln=(0,z.Z)(function*(b,P){try{const W=yield X(b,P),ie=Object.assign(Object.assign({},P),{authToken:W});return yield Kn(b.appConfig,ie),W}catch(W){if(!It(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const ie=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield Kn(b.appConfig,ie)}else yield hi(b.appConfig);throw W}})).apply(this,arguments)}function mn(b){return void 0!==b&&2===b.registrationStatus}function qn(b){return 2===b.requestStatus&&!function kr(b){const P=Date.now();return P<b.creationTime||b.creationTime+b.expiresIn<P+36e5}(b)}function Hn(b){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:P})}function ii(){return(ii=(0,z.Z)(function*(b){const P=b,{installationEntry:W,registrationPromise:ie}=yield _e(P);return ie?ie.catch(console.error):Wt(P).catch(console.error),W.fid})).apply(this,arguments)}function ls(){return(ls=(0,z.Z)(function*(b,P=!1){const W=b;return yield or(W),(yield Wt(W,P)).token})).apply(this,arguments)}function or(b){return Di.apply(this,arguments)}function Di(){return(Di=(0,z.Z)(function*(b){const{registrationPromise:P}=yield _e(b);P&&(yield P)})).apply(this,arguments)}function Et(b){return Qe.create("missing-app-config-values",{valueName:b})}const Ot="installations",Sr=b=>{const P=b.getProvider("app").getImmediate(),W=function nt(b){if(!b||!b.options)throw Et("App Configuration");if(!b.name)throw Et("App Name");const P=["projectId","apiKey","appId"];for(const W of P)if(!b.options[W])throw Et(W);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(P);return{app:P,appConfig:W,heartbeatServiceProvider:(0,ue._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},dr=b=>{const P=b.getProvider("app").getImmediate(),W=(0,ue._getProvider)(P,Ot).getImmediate();return{getId:()=>function fi(b){return ii.apply(this,arguments)}(W),getToken:Se=>function _i(b){return ls.apply(this,arguments)}(W,Se)}};(function ar(){(0,ue._registerComponent)(new pe.wA(Ot,Sr,"PUBLIC")),(0,ue._registerComponent)(new pe.wA("installations-internal",dr,"PRIVATE"))})(),(0,ue.registerVersion)(Dr,"0.6.4"),(0,ue.registerVersion)(Dr,"0.6.4","esm2017");const bn="@firebase/remote-config",Lr=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ui{constructor(P,W,ie,Se){this.client=P,this.storage=W,this.storageCache=ie,this.logger=Se}isCachedDataFresh(P,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ie=Date.now()-W,Se=ie<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${Se}.`),Se}fetch(P){var W=this;return(0,z.Z)(function*(){const[ie,Se]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(Se&&W.isCachedDataFresh(P.cacheMaxAgeMillis,ie))return Se;P.eTag=Se&&Se.eTag;const je=yield W.client.fetch(P),ct=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===je.status&&ct.push(W.storage.setLastSuccessfulFetchResponse(je)),yield Promise.all(ct),je})()}}function Hi(b=navigator){return b.languages&&b.languages[0]||b.language}class ds{constructor(P,W,ie,Se,je,ct){this.firebaseInstallations=P,this.sdkVersion=W,this.namespace=ie,this.projectId=Se,this.apiKey=je,this.appId=ct}fetch(P){var W=this;return(0,z.Z)(function*(){const[ie,Se]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,nn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},zt={sdk_version:W.sdkVersion,app_instance_id:ie,app_instance_id_token:Se,app_id:W.appId,language_code:Hi()},Cn={method:"POST",headers:nn,body:JSON.stringify(zt)},ir=fetch(ct,Cn),Jn=new Promise((Bo,vi)=>{P.signal.addEventListener(()=>{const ps=new Error("The operation was aborted.");ps.name="AbortError",vi(ps)})});let ks;try{yield Promise.race([ir,Jn]),ks=yield ir}catch(Bo){let vi="fetch-client-network";throw"AbortError"===Bo?.name&&(vi="fetch-timeout"),Lr.create(vi,{originalErrorMessage:Bo?.message})}let Ls=ks.status;const Mc=ks.headers.get("ETag")||void 0;let Ws,ru;if(200===ks.status){let Bo;try{Bo=yield ks.json()}catch(vi){throw Lr.create("fetch-client-parse",{originalErrorMessage:vi?.message})}Ws=Bo.entries,ru=Bo.state}if("INSTANCE_STATE_UNSPECIFIED"===ru?Ls=500:"NO_CHANGE"===ru?Ls=304:("NO_TEMPLATE"===ru||"EMPTY_CONFIG"===ru)&&(Ws={}),304!==Ls&&200!==Ls)throw Lr.create("fetch-status",{httpStatus:Ls});return{status:Ls,eTag:Mc,config:Ws}})()}}class Go{constructor(P,W){this.client=P,this.storage=W}fetch(P){var W=this;return(0,z.Z)(function*(){const ie=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(P,ie)})()}attemptFetch(P,{throttleEndTimeMillis:W,backoffCount:ie}){var Se=this;return(0,z.Z)(function*(){yield function xs(b,P){return new Promise((W,ie)=>{const Se=Math.max(P-Date.now(),0),je=setTimeout(W,Se);b.addEventListener(()=>{clearTimeout(je),ie(Lr.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,W);try{const je=yield Se.client.fetch(P);return yield Se.storage.deleteThrottleMetadata(),je}catch(je){if(!function Ys(b){if(!(b instanceof ee.ZR&&b.customData))return!1;const P=Number(b.customData.httpStatus);return 429===P||500===P||503===P||504===P}(je))throw je;const ct={throttleEndTimeMillis:Date.now()+(0,ee.$s)(ie),backoffCount:ie+1};return yield Se.storage.setThrottleMetadata(ct),Se.attemptFetch(P,ct)}})()}}class zo{constructor(P,W,ie,Se,je){this.app=P,this._client=W,this._storageCache=ie,this._storage=Se,this._logger=je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ni(b,P){const W=b.target.error||void 0;return Lr.create(P,{originalErrorMessage:W&&W?.message})}const Or="app_namespace_store";class Yr{constructor(P,W,ie,Se=function Qs(){return new Promise((b,P)=>{try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=ie=>{P(ni(ie,"storage-open"))},W.onsuccess=ie=>{b(ie.target.result)},W.onupgradeneeded=ie=>{0===ie.oldVersion&&ie.target.result.createObjectStore(Or,{keyPath:"compositeKey"})}}catch(W){P(Lr.create("storage-open",{originalErrorMessage:W?.message}))}})}()){this.appId=P,this.appName=W,this.namespace=ie,this.openDbPromise=Se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var W=this;return(0,z.Z)(function*(){const ie=yield W.openDbPromise;return new Promise((Se,je)=>{const nn=ie.transaction([Or],"readonly").objectStore(Or),zt=W.createCompositeKey(P);try{const Cn=nn.get(zt);Cn.onerror=ir=>{je(ni(ir,"storage-get"))},Cn.onsuccess=ir=>{const Jn=ir.target.result;Se(Jn?Jn.value:void 0)}}catch(Cn){je(Lr.create("storage-get",{originalErrorMessage:Cn?.message}))}})})()}set(P,W){var ie=this;return(0,z.Z)(function*(){const Se=yield ie.openDbPromise;return new Promise((je,ct)=>{const zt=Se.transaction([Or],"readwrite").objectStore(Or),Cn=ie.createCompositeKey(P);try{const ir=zt.put({compositeKey:Cn,value:W});ir.onerror=Jn=>{ct(ni(Jn,"storage-set"))},ir.onsuccess=()=>{je()}}catch(ir){ct(Lr.create("storage-set",{originalErrorMessage:ir?.message}))}})})()}delete(P){var W=this;return(0,z.Z)(function*(){const ie=yield W.openDbPromise;return new Promise((Se,je)=>{const nn=ie.transaction([Or],"readwrite").objectStore(Or),zt=W.createCompositeKey(P);try{const Cn=nn.delete(zt);Cn.onerror=ir=>{je(ni(ir,"storage-delete"))},Cn.onsuccess=()=>{Se()}}catch(Cn){je(Lr.create("storage-delete",{originalErrorMessage:Cn?.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class zr{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,z.Z)(function*(){const W=P.storage.getLastFetchStatus(),ie=P.storage.getLastSuccessfulFetchTimestampMillis(),Se=P.storage.getActiveConfig(),je=yield W;je&&(P.lastFetchStatus=je);const ct=yield ie;ct&&(P.lastSuccessfulFetchTimestampMillis=ct);const nn=yield Se;nn&&(P.activeConfig=nn)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function pi(){return hs.apply(this,arguments)}function hs(){return(hs=(0,z.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}let ao,Gr;!function Pi(){(0,ue._registerComponent)(new pe.wA("remote-config",function b(P,{instanceIdentifier:W}){const ie=P.getProvider("app").getImmediate(),Se=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Lr.create("registration-window");if(!(0,ee.hl)())throw Lr.create("indexed-db-unavailable");const{projectId:je,apiKey:ct,appId:nn}=ie.options;if(!je)throw Lr.create("registration-project-id");if(!ct)throw Lr.create("registration-api-key");if(!nn)throw Lr.create("registration-app-id");const zt=new Yr(nn,ie.name,W=W||"firebase"),Cn=new zr(zt),ir=new ye.Yd(bn);ir.logLevel=ye.in.ERROR;const Jn=new ds(Se,ue.SDK_VERSION,W,je,ct,nn),ks=new Go(Jn,zt),Ls=new ui(ks,zt,Cn,ir),Mc=new zo(ie,Ls,Cn,zt,ir);return function gr(b){const P=(0,ee.m9)(b);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(Mc),Mc},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(bn,"0.4.4"),(0,ue.registerVersion)(bn,"0.4.4","esm2017")}();const Wo=new WeakMap,zi=new WeakMap,Oi=new WeakMap,gi=new WeakMap,Dn=new WeakMap;let Oo={get(b,P,W){if(b instanceof IDBTransaction){if("done"===P)return zi.get(b);if("objectStoreNames"===P)return b.objectStoreNames||Oi.get(b);if("store"===P)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Ri(b[P])},set:(b,P,W)=>(b[P]=W,!0),has:(b,P)=>b instanceof IDBTransaction&&("done"===P||"store"===P)||P in b};function _s(b){return"function"==typeof b?function Wi(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gi(){return Gr||(Gr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...P){return b.apply(qo(this),P),Ri(Wo.get(this))}:function(...P){return Ri(b.apply(qo(this),P))}:function(P,...W){const ie=b.call(qo(this),P,...W);return Oi.set(ie,P.sort?P.sort():[P]),Ri(ie)}}(b):(b instanceof IDBTransaction&&function Ko(b){if(zi.has(b))return;const P=new Promise((W,ie)=>{const Se=()=>{b.removeEventListener("complete",je),b.removeEventListener("error",ct),b.removeEventListener("abort",ct)},je=()=>{W(),Se()},ct=()=>{ie(b.error||new DOMException("AbortError","AbortError")),Se()};b.addEventListener("complete",je),b.addEventListener("error",ct),b.addEventListener("abort",ct)});zi.set(b,P)}(b),((b,P)=>P.some(W=>b instanceof W))(b,function uo(){return ao||(ao=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Oo):b)}function Ri(b){if(b instanceof IDBRequest)return function yo(b){const P=new Promise((W,ie)=>{const Se=()=>{b.removeEventListener("success",je),b.removeEventListener("error",ct)},je=()=>{W(Ri(b.result)),Se()},ct=()=>{ie(b.error),Se()};b.addEventListener("success",je),b.addEventListener("error",ct)});return P.then(W=>{W instanceof IDBCursor&&Wo.set(W,b)}).catch(()=>{}),Dn.set(P,b),P}(b);if(gi.has(b))return gi.get(b);const P=_s(b);return P!==b&&(gi.set(b,P),Dn.set(P,b)),P}const qo=b=>Dn.get(b);function bt(b,P,{blocked:W,upgrade:ie,blocking:Se,terminated:je}={}){const ct=indexedDB.open(b,P),nn=Ri(ct);return ie&&ct.addEventListener("upgradeneeded",zt=>{ie(Ri(ct.result),zt.oldVersion,zt.newVersion,Ri(ct.transaction))}),W&&ct.addEventListener("blocked",()=>W()),nn.then(zt=>{je&&zt.addEventListener("close",()=>je()),Se&&zt.addEventListener("versionchange",()=>Se())}).catch(()=>{}),nn}function Yn(b,{blocked:P}={}){const W=indexedDB.deleteDatabase(b);return P&&W.addEventListener("blocked",()=>P()),Ri(W).then(()=>{})}const _o=["get","getKey","getAll","getAllKeys","count"],Zo=["put","add","delete","clear"],ri=new Map;function ws(b,P){if(!(b instanceof IDBDatabase)||P in b||"string"!=typeof P)return;if(ri.get(P))return ri.get(P);const W=P.replace(/FromIndex$/,""),ie=P!==W,Se=Zo.includes(W);if(!(W in(ie?IDBIndex:IDBObjectStore).prototype)||!Se&&!_o.includes(W))return;const je=function(){var ct=(0,z.Z)(function*(nn,...zt){const Cn=this.transaction(nn,Se?"readwrite":"readonly");let ir=Cn.store;return ie&&(ir=ir.index(zt.shift())),(yield Promise.all([ir[W](...zt),Se&&Cn.done]))[0]});return function(zt){return ct.apply(this,arguments)}}();return ri.set(P,je),je}!function vo(b){Oo=b(Oo)}(b=>({...b,get:(P,W,ie)=>ws(P,W)||b.get(P,W,ie),has:(P,W)=>!!ws(P,W)||b.has(P,W)}));const Ji="/firebase-messaging-sw.js",Ti="/firebase-cloud-messaging-push-scope",Gs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ss="google.c.a.c_id",Wr="google.c.a.c_l",U="google.c.a.ts",N="google.c.a.e";var Y=(()=>{return(b=Y||(Y={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",Y;var b})();function et(b){const P=new Uint8Array(b);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jt(b){const W=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ie=atob(W),Se=new Uint8Array(ie.length);for(let je=0;je<ie.length;++je)Se[je]=ie.charCodeAt(je);return Se}const ur="fcm_token_details_db",mi="fcm_token_object_Store";function os(b){return Es.apply(this,arguments)}function Es(){return Es=(0,z.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(je=>je.name).includes(ur))return null;let P=null;return(yield bt(ur,5,{upgrade:(ie=(0,z.Z)(function*(Se,je,ct,nn){var zt;if(je<2||!Se.objectStoreNames.contains(mi))return;const Cn=nn.objectStore(mi),ir=yield Cn.index("fcmSenderId").get(b);if(yield Cn.clear(),ir)if(2===je){const Jn=ir;if(!Jn.auth||!Jn.p256dh||!Jn.endpoint)return;P={token:Jn.fcmToken,createTime:null!==(zt=Jn.createTime)&&void 0!==zt?zt:Date.now(),subscriptionOptions:{auth:Jn.auth,p256dh:Jn.p256dh,endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:"string"==typeof Jn.vapidKey?Jn.vapidKey:et(Jn.vapidKey)}}}else if(3===je){const Jn=ir;P={token:Jn.fcmToken,createTime:Jn.createTime,subscriptionOptions:{auth:et(Jn.auth),p256dh:et(Jn.p256dh),endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:et(Jn.vapidKey)}}}else if(4===je){const Jn=ir;P={token:Jn.fcmToken,createTime:Jn.createTime,subscriptionOptions:{auth:et(Jn.auth),p256dh:et(Jn.p256dh),endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:et(Jn.vapidKey)}}}}),function(je,ct,nn,zt){return ie.apply(this,arguments)})})).close(),yield Yn(ur),yield Yn("fcm_vapid_details_db"),yield Yn("undefined"),Ki(P)?P:null;var ie}),Es.apply(this,arguments)}function Ki(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:P}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const qi="firebase-messaging-store";let Yo=null;function Xs(){return Yo||(Yo=bt("firebase-messaging-database",1,{upgrade:(b,P)=>{0===P&&b.createObjectStore(qi)}})),Yo}function Ro(b){return eo.apply(this,arguments)}function eo(){return(eo=(0,z.Z)(function*(b){const P=wo(b),ie=yield(yield Xs()).transaction(qi).objectStore(qi).get(P);if(ie)return ie;{const Se=yield os(b.appConfig.senderId);if(Se)return yield Ms(b,Se),Se}})).apply(this,arguments)}function Ms(b,P){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,z.Z)(function*(b,P){const W=wo(b),Se=(yield Xs()).transaction(qi,"readwrite");return yield Se.objectStore(qi).put(P,W),yield Se.done,P})).apply(this,arguments)}function No(b){return ko.apply(this,arguments)}function ko(){return(ko=(0,z.Z)(function*(b){const P=wo(b),ie=(yield Xs()).transaction(qi,"readwrite");yield ie.objectStore(qi).delete(P),yield ie.done})).apply(this,arguments)}function wo({appConfig:b}){return b.appId}const Mr=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function to(b,P){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,z.Z)(function*(b,P){const W=yield Ps(b),ie=Os(P),Se={method:"POST",headers:W,body:JSON.stringify(ie)};let je;try{je=yield(yield fetch(lo(b.appConfig),Se)).json()}catch(ct){throw Mr.create("token-subscribe-failed",{errorInfo:ct?.toString()})}if(je.error)throw Mr.create("token-subscribe-failed",{errorInfo:je.error.message});if(!je.token)throw Mr.create("token-subscribe-no-token");return je.token})).apply(this,arguments)}function Da(b,P){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,z.Z)(function*(b,P){const W=yield Ps(b),ie=Os(P.subscriptionOptions),Se={method:"PATCH",headers:W,body:JSON.stringify(ie)};let je;try{je=yield(yield fetch(`${lo(b.appConfig)}/${P.token}`,Se)).json()}catch(ct){throw Mr.create("token-update-failed",{errorInfo:ct?.toString()})}if(je.error)throw Mr.create("token-update-failed",{errorInfo:je.error.message});if(!je.token)throw Mr.create("token-update-no-token");return je.token})).apply(this,arguments)}function Io(b,P){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,z.Z)(function*(b,P){const ie={method:"DELETE",headers:yield Ps(b)};try{const je=yield(yield fetch(`${lo(b.appConfig)}/${P}`,ie)).json();if(je.error)throw Mr.create("token-unsubscribe-failed",{errorInfo:je.error.message})}catch(Se){throw Mr.create("token-unsubscribe-failed",{errorInfo:Se?.toString()})}})).apply(this,arguments)}function lo({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function Ps(b){return no.apply(this,arguments)}function no(){return(no=(0,z.Z)(function*({appConfig:b,installations:P}){const W=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function Os({p256dh:b,auth:P,endpoint:W,vapidKey:ie}){const Se={web:{endpoint:W,auth:P,p256dh:b}};return ie!==Gs&&(Se.web.applicationPubKey=ie),Se}const bo=6048e5;function Fa(b){return Do.apply(this,arguments)}function Do(){return(Do=(0,z.Z)(function*(b){const P=yield ea(b.swRegistration,b.vapidKey),W={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:P.endpoint,auth:et(P.getKey("auth")),p256dh:et(P.getKey("p256dh"))},ie=yield Ro(b.firebaseDependencies);if(ie){if(T(ie.subscriptionOptions,W))return Date.now()>=ie.createTime+bo?Xo(b,{token:ie.token,createTime:Date.now(),subscriptionOptions:W}):ie.token;try{yield Io(b.firebaseDependencies,ie.token)}catch(Se){console.warn(Se)}return fu(b.firebaseDependencies,W)}return fu(b.firebaseDependencies,W)})).apply(this,arguments)}function Is(b){return bs.apply(this,arguments)}function bs(){return(bs=(0,z.Z)(function*(b){const P=yield Ro(b.firebaseDependencies);P&&(yield Io(b.firebaseDependencies,P.token),yield No(b.firebaseDependencies));const W=yield b.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()})).apply(this,arguments)}function Xo(b,P){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,z.Z)(function*(b,P){try{const W=yield Da(b.firebaseDependencies,P),ie=Object.assign(Object.assign({},P),{token:W,createTime:Date.now()});return yield Ms(b.firebaseDependencies,ie),W}catch(W){throw yield Is(b),W}})).apply(this,arguments)}function fu(b,P){return wi.apply(this,arguments)}function wi(){return(wi=(0,z.Z)(function*(b,P){const ie={token:yield to(b,P),createTime:Date.now(),subscriptionOptions:P};return yield Ms(b,ie),ie.token})).apply(this,arguments)}function ea(b,P){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,z.Z)(function*(b,P){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jt(P)})})).apply(this,arguments)}function T(b,P){return P.vapidKey===b.vapidKey&&P.endpoint===b.endpoint&&P.auth===b.auth&&P.p256dh===b.p256dh}function H(b){const P={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function R(b,P){if(!P.notification)return;b.notification={};const W=P.notification.title;W&&(b.notification.title=W);const ie=P.notification.body;ie&&(b.notification.body=ie);const Se=P.notification.image;Se&&(b.notification.image=Se);const je=P.notification.icon;je&&(b.notification.icon=je)}(P,b),function Z(b,P){!P.data||(b.data=P.data)}(P,b),function be(b,P){var W,ie,Se,je,ct;if(!(P.fcmOptions||null!==(W=P.notification)&&void 0!==W&&W.click_action))return;b.fcmOptions={};const nn=null!==(Se=null===(ie=P.fcmOptions)||void 0===ie?void 0:ie.link)&&void 0!==Se?Se:null===(je=P.notification)||void 0===je?void 0:je.click_action;nn&&(b.fcmOptions.link=nn);const zt=null===(ct=P.fcmOptions)||void 0===ct?void 0:ct.analytics_label;zt&&(b.fcmOptions.analyticsLabel=zt)}(P,b),P}function st(b){return"object"==typeof b&&!!b&&ss in b}function mt(b,P){const W=[];for(let ie=0;ie<b.length;ie++)W.push(b.charAt(ie)),ie<P.length&&W.push(P.charAt(ie));return W.join("")}function Qn(b){return Mr.create("missing-app-config-values",{valueName:b})}mt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class kn{constructor(P,W,ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Se=function fn(b){if(!b||!b.options)throw Qn("App Configuration Object");if(!b.name)throw Qn("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:W}=b;for(const ie of P)if(!W[ie])throw Qn(ie);return{appName:b.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:Se,installations:W,analyticsProvider:ie}}_delete(){return Promise.resolve()}}function jn(b){return zn.apply(this,arguments)}function zn(){return(zn=(0,z.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Ji,{scope:Ti}),b.swRegistration.update().catch(()=>{})}catch(P){throw Mr.create("failed-service-worker-registration",{browserErrorMessage:P?.message})}})).apply(this,arguments)}function ci(b,P){return pr.apply(this,arguments)}function pr(){return(pr=(0,z.Z)(function*(b,P){if(!P&&!b.swRegistration&&(yield jn(b)),P||!b.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Mr.create("invalid-sw-registration");b.swRegistration=P}})).apply(this,arguments)}function Jr(b,P){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,z.Z)(function*(b,P){P?b.vapidKey=P:b.vapidKey||(b.vapidKey=Gs)})).apply(this,arguments)}function zs(){return(zs=(0,z.Z)(function*(b,P){if(!navigator)throw Mr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mr.create("permission-blocked");return yield Jr(b,P?.vapidKey),yield ci(b,P?.serviceWorkerRegistration),Fa(b)})).apply(this,arguments)}function ki(b,P,W){return Co.apply(this,arguments)}function Co(){return(Co=(0,z.Z)(function*(b,P,W){const ie=ta(P);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(ie,{message_id:W[ss],message_name:W[Wr],message_time:W[U],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ta(b){switch(b){case Y.NOTIFICATION_CLICKED:return"notification_open";case Y.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function na(){return(na=(0,z.Z)(function*(b,P){const W=P.data;if(!W.isFirebaseMessaging)return;b.onMessageHandler&&W.messageType===Y.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(H(W)):b.onMessageHandler.next(H(W)));const ie=W.data;st(ie)&&"1"===ie[N]&&(yield ki(b,W.messageType,ie))})).apply(this,arguments)}const ga="@firebase/messaging",ra=b=>{const P=new kn(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function Ta(b,P){return na.apply(this,arguments)}(P,W)),P},Ja=b=>{const P=b.getProvider("messaging").getImmediate();return{getToken:ie=>function Ni(b,P){return zs.apply(this,arguments)}(P,ie)}};function Aa(){return Si.apply(this,arguments)}function Si(){return(Si=(0,z.Z)(function*(){try{yield(0,ee.eu)()}catch{return!1}return typeof window<"u"&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Lo(){(0,ue._registerComponent)(new pe.wA("messaging",ra,"PUBLIC")),(0,ue._registerComponent)(new pe.wA("messaging-internal",Ja,"PRIVATE")),(0,ue.registerVersion)(ga,"0.12.4"),(0,ue.registerVersion)(ga,"0.12.4","esm2017")}();const Mt="analytics",yn="firebase_id",rt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wt="https://www.googletagmanager.com/gtag/js",cr=new ye.Yd("@firebase/analytics"),fs=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ia(b){if(!b.startsWith(wt)){const P=fs.create("invalid-gtag-resource",{gtagURL:b});return cr.warn(P.message),""}return b}function G(b){return Promise.all(b.map(P=>P.catch(W=>W)))}function S(b,P){const W=function I(b,P){let W;return window.trustedTypes&&(W=window.trustedTypes.createPolicy(b,P)),W}("firebase-js-sdk-policy",{createScriptURL:ia}),ie=document.createElement("script"),Se=`${wt}?l=${b}&id=${P}`;ie.src=W?W?.createScriptURL(Se):Se,ie.async=!0,document.head.appendChild(ie)}function ve(b,P,W,ie,Se,je){return dt.apply(this,arguments)}function dt(){return(dt=(0,z.Z)(function*(b,P,W,ie,Se,je){const ct=ie[Se];try{if(ct)yield P[ct];else{const zt=(yield G(W)).find(Cn=>Cn.measurementId===Se);zt&&(yield P[zt.appId])}}catch(nn){cr.error(nn)}b("config",Se,je)})).apply(this,arguments)}function en(b,P,W,ie,Se){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,z.Z)(function*(b,P,W,ie,Se){try{let je=[];if(Se&&Se.send_to){let ct=Se.send_to;Array.isArray(ct)||(ct=[ct]);const nn=yield G(W);for(const zt of ct){const Cn=nn.find(Jn=>Jn.measurementId===zt),ir=Cn&&P[Cn.appId];if(!ir){je=[];break}je.push(ir)}}0===je.length&&(je=Object.values(P)),yield Promise.all(je),b("event",ie,Se||{})}catch(je){cr.error(je)}})).apply(this,arguments)}function xa(b){const P=window.document.getElementsByTagName("script");for(const W of Object.values(P))if(W.src&&W.src.includes(wt)&&W.src.includes(b))return W;return null}const Rn=new class ya{constructor(P={},W=1e3){this.throttleMetadata=P,this.intervalMillis=W}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,W){this.throttleMetadata[P]=W}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function Nu(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function yi(b){return tn.apply(this,arguments)}function tn(){return(tn=(0,z.Z)(function*(b){var P;const{appId:W,apiKey:ie}=b,Se={method:"GET",headers:Nu(ie)},je=rt.replace("{app-id}",W),ct=yield fetch(je,Se);if(200!==ct.status&&304!==ct.status){let nn="";try{const zt=yield ct.json();null!==(P=zt.error)&&void 0!==P&&P.message&&(nn=zt.error.message)}catch{}throw fs.create("config-fetch-failed",{httpStatus:ct.status,responseMessage:nn})}return ct.json()})).apply(this,arguments)}function Ua(b){return as.apply(this,arguments)}function as(){return(as=(0,z.Z)(function*(b,P=Rn,W){const{appId:ie,apiKey:Se,measurementId:je}=b.options;if(!ie)throw fs.create("no-app-id");if(!Se){if(je)return{measurementId:je,appId:ie};throw fs.create("no-api-key")}const ct=P.getThrottleMetadata(ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nn=new eu;return setTimeout((0,z.Z)(function*(){nn.abort()}),void 0!==W?W:6e4),Cs({appId:ie,apiKey:Se,measurementId:je},ct,nn,P)})).apply(this,arguments)}function Cs(b,P,W){return ku.apply(this,arguments)}function ku(){return(ku=(0,z.Z)(function*(b,{throttleEndTimeMillis:P,backoffCount:W},ie,Se=Rn){var je;const{appId:ct,measurementId:nn}=b;try{yield Ba(ie,P)}catch(zt){if(nn)return cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nn} provided in the "measurementId" field in the local Firebase config. [${zt?.message}]`),{appId:ct,measurementId:nn};throw zt}try{const zt=yield yi(b);return Se.deleteThrottleMetadata(ct),zt}catch(zt){const Cn=zt;if(!ja(Cn)){if(Se.deleteThrottleMetadata(ct),nn)return cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nn} provided in the "measurementId" field in the local Firebase config. [${Cn?.message}]`),{appId:ct,measurementId:nn};throw zt}const ir=503===Number(null===(je=Cn?.customData)||void 0===je?void 0:je.httpStatus)?(0,ee.$s)(W,Se.intervalMillis,30):(0,ee.$s)(W,Se.intervalMillis),Jn={throttleEndTimeMillis:Date.now()+ir,backoffCount:W+1};return Se.setThrottleMetadata(ct,Jn),cr.debug(`Calling attemptFetch again in ${ir} millis`),Cs(b,Jn,ie,Se)}})).apply(this,arguments)}function Ba(b,P){return new Promise((W,ie)=>{const Se=Math.max(P-Date.now(),0),je=setTimeout(W,Se);b.addEventListener(()=>{clearTimeout(je),ie(fs.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}function ja(b){if(!(b instanceof ee.ZR&&b.customData))return!1;const P=Number(b.customData.httpStatus);return 429===P||500===P||503===P||504===P}class eu{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let Lu,he;function ro(){return(ro=(0,z.Z)(function*(b,P,W,ie,Se){if(Se&&Se.global)b("event",W,ie);else{const je=yield P;b("event",W,Object.assign(Object.assign({},ie),{send_to:je}))}})).apply(this,arguments)}function Ee(b){he=b}function ot(b){Lu=b}function Gt(){return Un.apply(this,arguments)}function Un(){return(Un=(0,z.Z)(function*(){if(!(0,ee.hl)())return cr.warn(fs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(b){return cr.warn(fs.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function wr(){return(wr=(0,z.Z)(function*(b,P,W,ie,Se,je,ct){var nn;const zt=Ua(b);zt.then(Ls=>{W[Ls.measurementId]=Ls.appId,b.options.measurementId&&Ls.measurementId!==b.options.measurementId&&cr.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${Ls.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ls=>cr.error(Ls)),P.push(zt);const Cn=Gt().then(Ls=>{if(Ls)return ie.getId()}),[ir,Jn]=yield Promise.all([zt,Cn]);xa(je)||S(je,ir.measurementId),he&&(Se("consent","default",he),Ee(void 0)),Se("js",new Date);const ks=null!==(nn=ct?.config)&&void 0!==nn?nn:{};return ks.origin="firebase",ks.update=!0,null!=Jn&&(ks[yn]=Jn),Se("config",ir.measurementId,ks),Lu&&(Se("set",Lu),ot(void 0)),ir.measurementId})).apply(this,arguments)}class Vr{constructor(P){this.app=P}_delete(){return delete li[this.app.options.appId],Promise.resolve()}}let li={},Ao=[];const ho={};let Ma,Fi,Xi="dataLayer",bc=!1;function Dc(b,P,W){!function al(){const b=[];if((0,ee.ru)()&&b.push("This is a browser extension environment."),(0,ee.zI)()||b.push("Cookies are not available."),b.length>0){const P=b.map((ie,Se)=>`(${Se+1}) ${ie}`).join(" "),W=fs.create("invalid-analytics-context",{errorInfo:P});cr.warn(W.message)}}();const ie=b.options.appId;if(!ie)throw fs.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw fs.create("no-api-key");cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=li[ie])throw fs.create("already-exists",{id:ie});if(!bc){!function j(b){let P=[];Array.isArray(window[b])?P=window[b]:window[b]=P}(Xi);const{wrappedGtag:je,gtagCore:ct}=function Br(b,P,W,ie,Se){let je=function(...ct){window[ie].push(arguments)};return window[Se]&&"function"==typeof window[Se]&&(je=window[Se]),window[Se]=function Kt(b,P,W,ie){function je(){return(je=(0,z.Z)(function*(ct,...nn){try{if("event"===ct){const[zt,Cn]=nn;yield en(b,P,W,zt,Cn)}else if("config"===ct){const[zt,Cn]=nn;yield ve(b,P,W,ie,zt,Cn)}else if("consent"===ct){const[zt]=nn;b("consent","update",zt)}else if("get"===ct){const[zt,Cn,ir]=nn;b("get",zt,Cn,ir)}else if("set"===ct){const[zt]=nn;b("set",zt)}else b(ct,...nn)}catch(zt){cr.error(zt)}})).apply(this,arguments)}return function Se(ct){return je.apply(this,arguments)}}(je,b,P,W),{gtagCore:je,wrappedGtag:window[Se]}}(li,Ao,ho,Xi,"gtag");Fi=je,Ma=ct,bc=!0}return li[ie]=function dn(b,P,W,ie,Se,je,ct){return wr.apply(this,arguments)}(b,Ao,ho,P,Ma,Xi,W),new Vr(b)}function ul(){return cl.apply(this,arguments)}function cl(){return(cl=(0,z.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}const Ac="@firebase/analytics";!function Wd(){(0,ue._registerComponent)(new pe.wA(Mt,(P,{options:W})=>Dc(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,ue._registerComponent)(new pe.wA("analytics-internal",function b(P){try{const W=P.getProvider(Mt).getImmediate();return{logEvent:(ie,Se,je)=>function mu(b,P,W,ie){b=(0,ee.m9)(b),function Ec(b,P,W,ie,Se){return ro.apply(this,arguments)}(Fi,li[b.app.options.appId],P,W,ie).catch(Se=>cr.error(Se))}(W,ie,Se,je)}}catch(W){throw fs.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,ue.registerVersion)(Ac,"0.10.0"),(0,ue.registerVersion)(Ac,"0.10.0","esm2017")}();var Ha=O(233),Vu=O(4986),Kd=O(8505),Sc=O(9468),Ts=O(5363);const Ql=new g.GfV("7.6.1"),_a="__angularfire_symbol__analyticsIsSupportedValue",xc="__angularfire_symbol__analyticsIsSupported",oi="__angularfire_symbol__remoteConfigIsSupportedValue",Ga="__angularfire_symbol__remoteConfigIsSupported",Ui="__angularfire_symbol__messagingIsSupportedValue",di="__angularfire_symbol__messagingIsSupported";function qd(b,P,W){if(P){if(1===P.length)return P[0];const je=P.filter(ct=>ct.app===W);if(1===je.length)return je[0]}return W.container.getProvider(b).getImmediate({optional:!0})}globalThis[xc]||(globalThis[xc]=ul().then(b=>globalThis[_a]=b).catch(()=>globalThis[_a]=!1)),globalThis[di]||(globalThis[di]=Aa().then(b=>globalThis[Ui]=b).catch(()=>globalThis[Ui]=!1)),globalThis[Ga]||(globalThis[Ga]=pi().then(b=>globalThis[oi]=b).catch(()=>globalThis[oi]=!1));const As=(b,P)=>{const W=P?[P]:(0,F.C6)(),ie=[];return W.forEach(Se=>{Se.container.getProvider(b).instances.forEach(ct=>{ie.includes(ct)||ie.push(ct)})}),ie};function yu(){}class Uo{constructor(P,W=Ha.N){this.zone=P,this.delegate=W}now(){return this.delegate.now()}schedule(P,W,ie){const Se=this.zone;return this.delegate.schedule(function(ct){Se.runGuarded(()=>{P.apply(this,[ct])})},W,ie)}}class us{constructor(P){this.zone=P,this.task=null}call(P,W){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yu,{},yu,yu)),W.pipe((0,Kd.b)({next:ie,complete:ie,error:ie})).subscribe(P).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tu=(()=>{class b{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new Uo(Zone.current)),this.insideAngular=W.run(()=>new Uo(Zone.current,Vu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(W){return new(W||b)(g.LFG(g.R0b))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function sa(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function nu(b){return sa(),function _u(b){return function(W){return(W=W.lift(new us(b.ngZone))).pipe((0,Sc.R)(b.outsideAngular),(0,Ts.Q)(b.insideAngular))}}(sa())(b)}},2090:(xe,le,O)=>{"use strict";O.d(le,{$s:()=>hi,BH:()=>Ne,G6:()=>Nn,L:()=>fe,LL:()=>He,Pz:()=>Ye,Sg:()=>Ct,UG:()=>Be,US:()=>pe,ZB:()=>ae,ZR:()=>ht,aH:()=>at,b$:()=>jt,eu:()=>Oe,hl:()=>Me,jU:()=>vt,m9:()=>Nr,ne:()=>Sn,pd:()=>jr,r3:()=>nr,ru:()=>Tt,tV:()=>ne,uI:()=>Ke,vZ:()=>un,w1:()=>Dr,xO:()=>Ci,xb:()=>En,z$:()=>lt,zI:()=>te,zd:()=>ei});const ue=function(_e){const se=[];let Ce=0;for(let qe=0;qe<_e.length;qe++){let ke=_e.charCodeAt(qe);ke<128?se[Ce++]=ke:ke<2048?(se[Ce++]=ke>>6|192,se[Ce++]=63&ke|128):55296==(64512&ke)&&qe+1<_e.length&&56320==(64512&_e.charCodeAt(qe+1))?(ke=65536+((1023&ke)<<10)+(1023&_e.charCodeAt(++qe)),se[Ce++]=ke>>18|240,se[Ce++]=ke>>12&63|128,se[Ce++]=ke>>6&63|128,se[Ce++]=63&ke|128):(se[Ce++]=ke>>12|224,se[Ce++]=ke>>6&63|128,se[Ce++]=63&ke|128)}return se},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_e,se){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,qe=[];for(let ke=0;ke<_e.length;ke+=3){const xt=_e[ke],qt=ke+1<_e.length,In=qt?_e[ke+1]:0,rr=ke+2<_e.length,de=rr?_e[ke+2]:0;let Ve=(15&In)<<2|de>>6,ft=63&de;rr||(ft=64,qt||(Ve=64)),qe.push(Ce[xt>>2],Ce[(3&xt)<<4|In>>4],Ce[Ve],Ce[ft])}return qe.join("")},encodeString(_e,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(_e):this.encodeByteArray(ue(_e),se)},decodeString(_e,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(_e):function(_e){const se=[];let Ce=0,qe=0;for(;Ce<_e.length;){const ke=_e[Ce++];if(ke<128)se[qe++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const xt=_e[Ce++];se[qe++]=String.fromCharCode((31&ke)<<6|63&xt)}else if(ke>239&&ke<365){const rr=((7&ke)<<18|(63&_e[Ce++])<<12|(63&_e[Ce++])<<6|63&_e[Ce++])-65536;se[qe++]=String.fromCharCode(55296+(rr>>10)),se[qe++]=String.fromCharCode(56320+(1023&rr))}else{const xt=_e[Ce++],qt=_e[Ce++];se[qe++]=String.fromCharCode((15&ke)<<12|(63&xt)<<6|63&qt)}}return se.join("")}(this.decodeStringToByteArray(_e,se))},decodeStringToByteArray(_e,se){this.init_();const Ce=se?this.charToByteMapWebSafe_:this.charToByteMap_,qe=[];for(let ke=0;ke<_e.length;){const xt=Ce[_e.charAt(ke++)],In=ke<_e.length?Ce[_e.charAt(ke)]:0;++ke;const de=ke<_e.length?Ce[_e.charAt(ke)]:64;++ke;const X=ke<_e.length?Ce[_e.charAt(ke)]:64;if(++ke,null==xt||null==In||null==de||null==X)throw new ye;qe.push(xt<<2|In>>4),64!==de&&(qe.push(In<<4&240|de>>2),64!==X&&qe.push(de<<6&192|X))}return qe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fe=function(_e){return function(_e){const se=ue(_e);return pe.encodeByteArray(se,!0)}(_e).replace(/\./g,"")},ne=function(_e){try{return pe.decodeString(_e,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function ae(_e,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===_e&&(_e={});break;case Array:_e=[];break;default:return se}for(const Ce in se)!se.hasOwnProperty(Ce)||!Ge(Ce)||(_e[Ce]=ae(_e[Ce],se[Ce]));return _e}function Ge(_e){return"__proto__"!==_e}const $e=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const _e=process.env.__FIREBASE_DEFAULTS__;return _e?JSON.parse(_e):void 0})()||(()=>{if(typeof document>"u")return;let _e;try{_e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const se=_e&&ne(_e[1]);return se&&JSON.parse(se)})()}catch(_e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_e}`)}},at=()=>{var _e;return null===(_e=$e())||void 0===_e?void 0:_e.config},Ye=_e=>{var se;return null===(se=$e())||void 0===se?void 0:se[`_${_e}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,Ce)=>{this.resolve=se,this.reject=Ce})}wrapCallback(se){return(Ce,qe)=>{Ce?this.reject(Ce):this.resolve(qe),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(Ce):se(Ce,qe))}}}function Ct(_e,se){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const qe=se||"demo-project",ke=_e.iat||0,xt=_e.sub||_e.user_id;if(!xt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qt=Object.assign({iss:`https://securetoken.google.com/${qe}`,aud:qe,iat:ke,exp:ke+3600,auth_time:ke,sub:xt,user_id:xt,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(qt)),""].join(".")}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function Be(){var _e;const se=null===(_e=$e())||void 0===_e?void 0:_e.forceEnvironment;if("node"===se)return!0;if("browser"===se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function vt(){return"object"==typeof self&&self.self===self}function Tt(){const _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Dr(){const _e=lt();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function Nn(){return!Be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function Oe(){return new Promise((_e,se)=>{try{let Ce=!0;const qe="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open(qe);ke.onsuccess=()=>{ke.result.close(),Ce||self.indexedDB.deleteDatabase(qe),_e(!0)},ke.onupgradeneeded=()=>{Ce=!1},ke.onerror=()=>{var xt;se((null===(xt=ke.error)||void 0===xt?void 0:xt.message)||"")}}catch(Ce){se(Ce)}})}function te(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ht extends Error{constructor(se,Ce,qe){super(Ce),this.code=se,this.customData=qe,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor(se,Ce,qe){this.service=se,this.serviceName=Ce,this.errors=qe}create(se,...Ce){const qe=Ce[0]||{},ke=`${this.service}/${se}`,xt=this.errors[se],qt=xt?function Qe(_e,se){return _e.replace(It,(Ce,qe)=>{const ke=se[qe];return null!=ke?String(ke):`<${qe}?>`})}(xt,qe):"Error";return new ht(ke,`${this.serviceName}: ${qt} (${ke}).`,qe)}}const It=/\{\$([^}]+)}/g;function nr(_e,se){return Object.prototype.hasOwnProperty.call(_e,se)}function En(_e){for(const se in _e)if(Object.prototype.hasOwnProperty.call(_e,se))return!1;return!0}function un(_e,se){if(_e===se)return!0;const Ce=Object.keys(_e),qe=Object.keys(se);for(const ke of Ce){if(!qe.includes(ke))return!1;const xt=_e[ke],qt=se[ke];if(Ln(xt)&&Ln(qt)){if(!un(xt,qt))return!1}else if(xt!==qt)return!1}for(const ke of qe)if(!Ce.includes(ke))return!1;return!0}function Ln(_e){return null!==_e&&"object"==typeof _e}function Ci(_e){const se=[];for(const[Ce,qe]of Object.entries(_e))Array.isArray(qe)?qe.forEach(ke=>{se.push(encodeURIComponent(Ce)+"="+encodeURIComponent(ke))}):se.push(encodeURIComponent(Ce)+"="+encodeURIComponent(qe));return se.length?"&"+se.join("&"):""}function ei(_e){const se={};return _e.replace(/^\?/,"").split("&").forEach(qe=>{if(qe){const[ke,xt]=qe.split("=");se[decodeURIComponent(ke)]=decodeURIComponent(xt)}}),se}function jr(_e){const se=_e.indexOf("?");if(!se)return"";const Ce=_e.indexOf("#",se);return _e.substring(se,Ce>0?Ce:void 0)}function Sn(_e,se){const Ce=new Bt(_e,se);return Ce.subscribe.bind(Ce)}class Bt{constructor(se,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{se(this)}).catch(qe=>{this.error(qe)})}next(se){this.forEachObserver(Ce=>{Ce.next(se)})}error(se){this.forEachObserver(Ce=>{Ce.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,Ce,qe){let ke;if(void 0===se&&void 0===Ce&&void 0===qe)throw new Error("Missing Observer.");ke=function Bn(_e,se){if("object"!=typeof _e||null===_e)return!1;for(const Ce of se)if(Ce in _e&&"function"==typeof _e[Ce])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:Ce,complete:qe},void 0===ke.next&&(ke.next=$r),void 0===ke.error&&(ke.error=$r),void 0===ke.complete&&(ke.complete=$r);const xt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch{}}),this.observers.push(ke),xt}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,se)}sendOne(se,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{Ce(this.observers[se])}catch(qe){typeof console<"u"&&console.error&&console.error(qe)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $r(){}function hi(_e,se=1e3,Ce=2){const qe=se*Math.pow(Ce,_e),ke=Math.round(.5*qe*(Math.random()-.5)*2);return Math.min(144e5,qe+ke)}function Nr(_e){return _e&&_e._delegate?_e._delegate:_e}},3259:(xe,le,O)=>{"use strict";O.d(le,{a:()=>F,g:()=>z});var g=O(9653);const F=(0,g.PH)("[Auth] setUser",(0,g.Ky)()),z=(0,g.PH)("[Auth] unsetUser")},4333:(xe,le,O)=>{"use strict";O.d(le,{U:()=>F,i:()=>z});var g=O(9653);const F=(0,g.PH)("[IncomeExpense Component] setItems",(0,g.Ky)()),z=(0,g.PH)("[IncomeExpense Component] unsetItems")},9366:(xe,le,O)=>{"use strict";O.d(le,{e:()=>fe});var g=O(4650),F=O(1041),z=O(1762),ue=O(4004);class ee{constructor(re,ae,Ge){this.uid=re,this.username=ae,this.email=Ge}static fromFirebase({uid:re,username:ae,email:Ge}){return new ee(re,ae,Ge)}}var pe=O(9653),ye=O(3259),we=O(4333);let fe=(()=>{class ne{constructor(){this.auth=(0,g.f3M)(F.zQ),this.firestore=(0,g.f3M)(z.ST),this.store=(0,g.f3M)(pe.yh)}get user(){return this._user}initAuthListener(){this.auth.authState.subscribe(ae=>{ae?this.userSubscription=this.firestore.doc(`${ae.uid}/user`).valueChanges().subscribe(Ge=>{const We=ee.fromFirebase(Ge);this._user=We,this.store.dispatch(ye.a({user:We}))}):(this._user=null,this.userSubscription?.unsubscribe(),this.store.dispatch(ye.g()),this.store.dispatch(we.i()))})}createUser(ae,Ge,We){return this.auth.createUserWithEmailAndPassword(Ge,We).then(({user:Ue})=>{const St=new ee(Ue.uid,ae,Ge);return this.firestore.doc(`${Ue?.uid}/user`).set({...St})})}loginUser(ae,Ge){return this.auth.signInWithEmailAndPassword(ae,Ge)}logout(){return this.auth.signOut()}isAuth(){return this.auth.authState.pipe((0,ue.U)(ae=>null!=ae))}}return ne.\u0275fac=function(ae){return new(ae||ne)},ne.\u0275prov=g.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})()},5299:(xe,le,O)=>{"use strict";O.d(le,{V:()=>z,h:()=>F});var g=O(9653);const F=(0,g.PH)("[UI Component] isLoading"),z=(0,g.PH)("[UI Component] stopLoading")},3497:(xe,le,O)=>{"use strict";var g=O(1481),F=O(4650),z=O(2607),ue=O(433),ee=O(9653),pe=O(9366),ye=O(5226),we=O.n(ye),fe=O(5299),ne=O(6895);function re(Qe,It){1&Qe&&F._UZ(0,"i",19)}function ae(Qe,It){1&Qe&&F._UZ(0,"i",19)}function Ge(Qe,It){if(1&Qe){const At=F.EpF();F.TgZ(0,"button",20),F.NdJ("click",function(){F.CHM(At);const rn=F.oxw();return F.KtG(rn.saveUser())}),F._uU(1," Login "),F.qZA()}if(2&Qe){const At=F.oxw();F.Q6J("disabled",At.myForm.invalid)}}function We(Qe,It){if(1&Qe){const At=F.EpF();F.TgZ(0,"button",20),F.NdJ("click",function(){F.CHM(At);const rn=F.oxw();return F.KtG(rn.saveUser())}),F._UZ(1,"i",21),F._uU(2," Wait... "),F.qZA()}2&Qe&&F.Q6J("disabled",!0)}const Ue=function(){return["/register"]};let St=(()=>{class Qe{constructor(){this.fb=(0,F.f3M)(ue.qu),this.authService=(0,F.f3M)(pe.e),this.router=(0,F.f3M)(z.F0),this.store=(0,F.f3M)(ee.yh),this.isLoading=!1,this.myForm=this.fb.group({email:["",[ue.kI.required,ue.kI.email]],password:["",[ue.kI.required,ue.kI.minLength(6)]]})}ngOnInit(){this.uiSubscription=this.store.select("ui").subscribe(At=>{this.isLoading=At.isLoading})}ngOnDestroy(){this.uiSubscription.unsubscribe()}saveUser(){if(this.myForm.invalid)return;this.store.dispatch(fe.h());const{email:At,password:Vt}=this.myForm.value;this.authService.loginUser(At,Vt).then(rn=>{this.store.dispatch(fe.V()),this.router.navigateByUrl("/dashboard")}).catch(rn=>{this.store.dispatch(fe.V()),we().fire({title:"error",text:rn.message,icon:"question"})})}}return Qe.\u0275fac=function(At){return new(At||Qe)},Qe.\u0275cmp=F.Xpm({type:Qe,selectors:[["app-login"]],decls:33,vars:7,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","auth-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4",2,"color","white"],[1,"auto-form-wrapper"],["autocomplete","off",3,"formGroup"],[1,"form-group"],[1,"label"],[1,"input-group"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle",4,"ngIf"],["type","password","placeholder","*********","formControlName","password",1,"form-control"],["class","btn btn-primary submit-btn btn-block","type","button",3,"disabled","click",4,"ngIf"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["href","",1,"text-black","text-small",3,"routerLink"],[1,"fa","fa-check-circle"],["type","button",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled","click"],[1,"fa","fa-spin","fa-sync"]],template:function(At,Vt){if(1&At&&(F.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),F._uU(5,"LOGIN"),F.qZA(),F.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"label",8),F._uU(10,"Email"),F.qZA(),F.TgZ(11,"div",9),F._UZ(12,"input",10),F.TgZ(13,"div",11)(14,"span",12),F.YNc(15,re,1,0,"i",13),F.qZA()()()(),F.TgZ(16,"div",7)(17,"label",8),F._uU(18,"Contrase\xf1a"),F.qZA(),F.TgZ(19,"div",9),F._UZ(20,"input",14),F.TgZ(21,"div",11)(22,"span",12),F.YNc(23,ae,1,0,"i",13),F.qZA()()()(),F.TgZ(24,"div",7),F.YNc(25,Ge,2,1,"button",15),F.YNc(26,We,3,1,"button",15),F.qZA(),F.TgZ(27,"div",16)(28,"span",17),F._uU(29,"Are you not registered ?"),F.qZA(),F._UZ(30,"br"),F.TgZ(31,"a",18),F._uU(32,"Create an account "),F.qZA()()()()()()()()),2&At){let rn,xn;F.xp6(7),F.Q6J("formGroup",Vt.myForm),F.xp6(8),F.Q6J("ngIf",null==(rn=Vt.myForm.get("email"))?null:rn.valid),F.xp6(8),F.Q6J("ngIf",null==(xn=Vt.myForm.get("password"))?null:xn.valid),F.xp6(2),F.Q6J("ngIf",!Vt.isLoading),F.xp6(1),F.Q6J("ngIf",Vt.isLoading),F.xp6(5),F.Q6J("routerLink",F.DdM(6,Ue))}},dependencies:[ne.O5,ue._Y,ue.Fj,ue.JJ,ue.JL,ue.sg,ue.u,z.yS]}),Qe})();function it(Qe,It){1&Qe&&F._UZ(0,"i",20)}function $e(Qe,It){1&Qe&&F._UZ(0,"i",20)}function De(Qe,It){1&Qe&&F._UZ(0,"i",20)}function Pt(Qe,It){if(1&Qe){const At=F.EpF();F.TgZ(0,"button",21),F.NdJ("click",function(){F.CHM(At);const rn=F.oxw();return F.KtG(rn.saveUser())}),F._uU(1," Create account "),F.qZA()}if(2&Qe){const At=F.oxw();F.Q6J("disabled",At.myForm.invalid)}}function at(Qe,It){if(1&Qe){const At=F.EpF();F.TgZ(0,"button",22),F.NdJ("click",function(){F.CHM(At);const rn=F.oxw();return F.KtG(rn.saveUser())}),F._UZ(1,"i",23),F._uU(2," Wait... "),F.qZA()}2&Qe&&F.Q6J("disabled",!0)}const Ye=function(){return["/login"]};let Ne=(()=>{class Qe{constructor(){this.fb=(0,F.f3M)(ue.qu),this.authService=(0,F.f3M)(pe.e),this.router=(0,F.f3M)(z.F0),this.store=(0,F.f3M)(ee.yh),this.isLoading=!1,this.myForm=this.fb.group({username:["",[ue.kI.required,ue.kI.minLength(4)]],email:["",[ue.kI.required,ue.kI.email]],password:["",[ue.kI.required,ue.kI.minLength(6)]]})}ngOnInit(){this.uiSubscription=this.store.select("ui").subscribe(At=>this.isLoading=At.isLoading)}ngOnDestroy(){this.uiSubscription.unsubscribe()}saveUser(){if(this.myForm.invalid)return;this.store.dispatch(fe.h());const{username:At,email:Vt,password:rn}=this.myForm.value;this.authService.createUser(At,Vt,rn).then(xn=>{this.store.dispatch(fe.V()),this.router.navigateByUrl("/login")}).catch(xn=>{this.store.dispatch(fe.V()),we().fire({title:"error",text:xn.message,icon:"error"})})}}return Qe.\u0275fac=function(At){return new(At||Qe)},Qe.\u0275cmp=F.Xpm({type:Qe,selectors:[["app-register"]],decls:35,vars:8,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","register-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4"],[1,"auto-form-wrapper"],["autocomplete","off",3,"formGroup"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Username","formControlName","username",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle",4,"ngIf"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["class","btn btn-primary submit-btn btn-block",3,"disabled","click",4,"ngIf"],["class","btn btn-primary submit-btn btn-block","type","button",3,"disabled","click",4,"ngIf"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["href","",1,"text-black","text-small",3,"routerLink"],[1,"fa","fa-check-circle"],[1,"btn","btn-primary","submit-btn","btn-block",3,"disabled","click"],["type","button",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled","click"],[1,"fa","fa-spin","fa-sync"]],template:function(At,Vt){if(1&At&&(F.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),F._uU(5,"Register"),F.qZA(),F.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8),F._UZ(10,"input",9),F.TgZ(11,"div",10)(12,"span",11),F.YNc(13,it,1,0,"i",12),F.qZA()()()(),F.TgZ(14,"div",7)(15,"div",8),F._UZ(16,"input",13),F.TgZ(17,"div",10)(18,"span",11),F.YNc(19,$e,1,0,"i",12),F.qZA()()()(),F.TgZ(20,"div",7)(21,"div",8),F._UZ(22,"input",14),F.TgZ(23,"div",10)(24,"span",11),F.YNc(25,De,1,0,"i",12),F.qZA()()()(),F.TgZ(26,"div",7),F.YNc(27,Pt,2,1,"button",15),F.YNc(28,at,3,1,"button",16),F.qZA(),F.TgZ(29,"div",17)(30,"span",18),F._uU(31,"Do you have an account ?"),F.qZA(),F._UZ(32,"br"),F.TgZ(33,"a",19),F._uU(34,"Login"),F.qZA()()()()()()()()),2&At){let rn,xn,_n;F.xp6(7),F.Q6J("formGroup",Vt.myForm),F.xp6(6),F.Q6J("ngIf",null==(rn=Vt.myForm.get("username"))?null:rn.valid),F.xp6(6),F.Q6J("ngIf",null==(xn=Vt.myForm.get("email"))?null:xn.valid),F.xp6(6),F.Q6J("ngIf",null==(_n=Vt.myForm.get("password"))?null:_n.valid),F.xp6(2),F.Q6J("ngIf",!Vt.isLoading),F.xp6(1),F.Q6J("ngIf",Vt.isLoading),F.xp6(5),F.Q6J("routerLink",F.DdM(7,Ye))}},dependencies:[ne.O5,ue._Y,ue.Fj,ue.JJ,ue.JL,ue.sg,ue.u,z.yS]}),Qe})();var Ct=O(8505),lt=O(5698);const Be=[{path:"login",component:St},{path:"register",component:Ne},{path:"",canLoad:[(()=>{class Qe{constructor(){this.authService=(0,F.f3M)(pe.e),this.router=(0,F.f3M)(z.F0)}canActivate(){return this.authService.isAuth().pipe((0,Ct.b)(At=>{At||this.router.navigateByUrl("/login")}))}canLoad(){return this.authService.isAuth().pipe((0,Ct.b)(At=>{At||this.router.navigateByUrl("/login")}),(0,lt.q)(1))}}return Qe.\u0275fac=function(At){return new(At||Qe)},Qe.\u0275prov=F.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})()],loadChildren:()=>O.e(364).then(O.bind(O,1364)).then(Qe=>Qe.IncomeExpensesModule)},{path:"**",redirectTo:""}];let vt=(()=>{class Qe{}return Qe.\u0275fac=function(At){return new(At||Qe)},Qe.\u0275mod=F.oAB({type:Qe}),Qe.\u0275inj=F.cJS({imports:[z.Bz.forRoot(Be),z.Bz]}),Qe})(),Tt=(()=>{class Qe{constructor(){this.title="dashboardApp",this.authService=(0,F.f3M)(pe.e)}ngOnInit(){this.authService.initAuthListener()}}return Qe.\u0275fac=function(At){return new(At||Qe)},Qe.\u0275cmp=F.Xpm({type:Qe,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-scroller"]],template:function(At,Vt){1&At&&(F.TgZ(0,"div",0),F._UZ(1,"router-outlet"),F.qZA())},dependencies:[z.lC]}),Qe})();var jt=O(2011),Ut=O(1762);const Dr_firebaseConfig={apiKey:"AIzaSyBEgfnqkhuIVTFgj6XdUiU2YIP3UDQEqeI",authDomain:"income-expensesapp.firebaseapp.com",projectId:"income-expensesapp",storageBucket:"income-expensesapp.appspot.com",messagingSenderId:"1006290242190",appId:"1:1006290242190:web:d704911d8d2d5d690297df"};var Ht=O(825);const Nn=(0,ee.Lq)({isLoading:!1},(0,ee.on)(fe.h,Qe=>({...Qe,isLoading:!0})),(0,ee.on)(fe.V,Qe=>({...Qe,isLoading:!1})));var Me=O(3259);const Xe={ui:Nn,user:(0,ee.Lq)({user:null},(0,ee.on)(Me.a,(Qe,{user:It})=>({...Qe,user:{...It}})),(0,ee.on)(Me.g,Qe=>({...Qe,user:null})))};let ht=(()=>{class Qe{}return Qe.\u0275fac=function(At){return new(At||Qe)},Qe.\u0275mod=F.oAB({type:Qe}),Qe.\u0275inj=F.cJS({imports:[ne.ez,ue.UX,z.Bz]}),Qe})(),He=(()=>{class Qe{}return Qe.\u0275fac=function(At){return new(At||Qe)},Qe.\u0275mod=F.oAB({type:Qe,bootstrap:[Tt]}),Qe.\u0275inj=F.cJS({imports:[g.b2,ht,vt,z.Bz,Ut.yb,jt.hO.initializeApp(Dr_firebaseConfig),ee.Aw.forRoot(Xe),Ht.FT.instrument({maxAge:25,logOnly:true,autoPause:!0,trace:!1,traceLimit:75})]}),Qe})();(0,F.G48)(),g.q6().bootstrapModule(He).catch(Qe=>console.error(Qe))},1135:(xe,le,O)=>{"use strict";O.d(le,{X:()=>F});var g=O(7579);class F extends g.x{constructor(ue){super(),this._value=ue}get value(){return this.getValue()}_subscribe(ue){const ee=super._subscribe(ue);return!ee.closed&&ue.next(this._value),ee}getValue(){const{hasError:ue,thrownError:ee,_value:pe}=this;if(ue)throw ee;return this._throwIfClosed(),pe}next(ue){super.next(this._value=ue)}}},9751:(xe,le,O)=>{"use strict";O.d(le,{y:()=>we});var g=O(930),F=O(727),z=O(8822),ue=O(9635),ee=O(2416),pe=O(576),ye=O(2806);let we=(()=>{class ae{constructor(We){We&&(this._subscribe=We)}lift(We){const Ue=new ae;return Ue.source=this,Ue.operator=We,Ue}subscribe(We,Ue,St){const it=function re(ae){return ae&&ae instanceof g.Lv||function ne(ae){return ae&&(0,pe.m)(ae.next)&&(0,pe.m)(ae.error)&&(0,pe.m)(ae.complete)}(ae)&&(0,F.Nn)(ae)}(We)?We:new g.Hp(We,Ue,St);return(0,ye.x)(()=>{const{operator:$e,source:De}=this;it.add($e?$e.call(it,De):De?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(We){try{return this._subscribe(We)}catch(Ue){We.error(Ue)}}forEach(We,Ue){return new(Ue=fe(Ue))((St,it)=>{const $e=new g.Hp({next:De=>{try{We(De)}catch(Pt){it(Pt),$e.unsubscribe()}},error:it,complete:St});this.subscribe($e)})}_subscribe(We){var Ue;return null===(Ue=this.source)||void 0===Ue?void 0:Ue.subscribe(We)}[z.L](){return this}pipe(...We){return(0,ue.U)(We)(this)}toPromise(We){return new(We=fe(We))((Ue,St)=>{let it;this.subscribe($e=>it=$e,$e=>St($e),()=>Ue(it))})}}return ae.create=Ge=>new ae(Ge),ae})();function fe(ae){var Ge;return null!==(Ge=ae??ee.v.Promise)&&void 0!==Ge?Ge:Promise}},4707:(xe,le,O)=>{"use strict";O.d(le,{t:()=>z});var g=O(7579),F=O(6063);class z extends g.x{constructor(ee=1/0,pe=1/0,ye=F.l){super(),this._bufferSize=ee,this._windowTime=pe,this._timestampProvider=ye,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=pe===1/0,this._bufferSize=Math.max(1,ee),this._windowTime=Math.max(1,pe)}next(ee){const{isStopped:pe,_buffer:ye,_infiniteTimeWindow:we,_timestampProvider:fe,_windowTime:ne}=this;pe||(ye.push(ee),!we&&ye.push(fe.now()+ne)),this._trimBuffer(),super.next(ee)}_subscribe(ee){this._throwIfClosed(),this._trimBuffer();const pe=this._innerSubscribe(ee),{_infiniteTimeWindow:ye,_buffer:we}=this,fe=we.slice();for(let ne=0;ne<fe.length&&!ee.closed;ne+=ye?1:2)ee.next(fe[ne]);return this._checkFinalizedStatuses(ee),pe}_trimBuffer(){const{_bufferSize:ee,_timestampProvider:pe,_buffer:ye,_infiniteTimeWindow:we}=this,fe=(we?1:2)*ee;if(ee<1/0&&fe<ye.length&&ye.splice(0,ye.length-fe),!we){const ne=pe.now();let re=0;for(let ae=1;ae<ye.length&&ye[ae]<=ne;ae+=2)re=ae;re&&ye.splice(0,re+1)}}}},7579:(xe,le,O)=>{"use strict";O.d(le,{x:()=>ye});var g=O(9751),F=O(727);const ue=(0,O(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=O(8737),pe=O(2806);let ye=(()=>{class fe extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(re){const ae=new we(this,this);return ae.operator=re,ae}_throwIfClosed(){if(this.closed)throw new ue}next(re){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(re)}})}error(re){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=re;const{observers:ae}=this;for(;ae.length;)ae.shift().error(re)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:re}=this;for(;re.length;)re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var re;return(null===(re=this.observers)||void 0===re?void 0:re.length)>0}_trySubscribe(re){return this._throwIfClosed(),super._trySubscribe(re)}_subscribe(re){return this._throwIfClosed(),this._checkFinalizedStatuses(re),this._innerSubscribe(re)}_innerSubscribe(re){const{hasError:ae,isStopped:Ge,observers:We}=this;return ae||Ge?F.Lc:(this.currentObservers=null,We.push(re),new F.w0(()=>{this.currentObservers=null,(0,ee.P)(We,re)}))}_checkFinalizedStatuses(re){const{hasError:ae,thrownError:Ge,isStopped:We}=this;ae?re.error(Ge):We&&re.complete()}asObservable(){const re=new g.y;return re.source=this,re}}return fe.create=(ne,re)=>new we(ne,re),fe})();class we extends ye{constructor(ne,re){super(),this.destination=ne,this.source=re}next(ne){var re,ae;null===(ae=null===(re=this.destination)||void 0===re?void 0:re.next)||void 0===ae||ae.call(re,ne)}error(ne){var re,ae;null===(ae=null===(re=this.destination)||void 0===re?void 0:re.error)||void 0===ae||ae.call(re,ne)}complete(){var ne,re;null===(re=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===re||re.call(ne)}_subscribe(ne){var re,ae;return null!==(ae=null===(re=this.source)||void 0===re?void 0:re.subscribe(ne))&&void 0!==ae?ae:F.Lc}}},930:(xe,le,O)=>{"use strict";O.d(le,{Hp:()=>St,Lv:()=>ae});var g=O(576),F=O(727),z=O(2416),ue=O(7849),ee=O(5032);const pe=fe("C",void 0,void 0);function fe(at,Ye,Ne){return{kind:at,value:Ye,error:Ne}}var ne=O(3410),re=O(2806);class ae extends F.w0{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,F.Nn)(Ye)&&Ye.add(this)):this.destination=Pt}static create(Ye,Ne,Ct){return new St(Ye,Ne,Ct)}next(Ye){this.isStopped?De(function we(at){return fe("N",at,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?De(function ye(at){return fe("E",void 0,at)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?De(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function We(at,Ye){return Ge.call(at,Ye)}class Ue{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(Ye)}catch(Ct){it(Ct)}}error(Ye){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(Ye)}catch(Ct){it(Ct)}else it(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(Ne){it(Ne)}}}class St extends ae{constructor(Ye,Ne,Ct){let lt;if(super(),(0,g.m)(Ye)||!Ye)lt={next:Ye??void 0,error:Ne??void 0,complete:Ct??void 0};else{let Ke;this&&z.v.useDeprecatedNextContext?(Ke=Object.create(Ye),Ke.unsubscribe=()=>this.unsubscribe(),lt={next:Ye.next&&We(Ye.next,Ke),error:Ye.error&&We(Ye.error,Ke),complete:Ye.complete&&We(Ye.complete,Ke)}):lt=Ye}this.destination=new Ue(lt)}}function it(at){z.v.useDeprecatedSynchronousErrorHandling?(0,re.O)(at):(0,ue.h)(at)}function De(at,Ye){const{onStoppedNotification:Ne}=z.v;Ne&&ne.z.setTimeout(()=>Ne(at,Ye))}const Pt={closed:!0,next:ee.Z,error:function $e(at){throw at},complete:ee.Z}},727:(xe,le,O)=>{"use strict";O.d(le,{Lc:()=>pe,w0:()=>ee,Nn:()=>ye});var g=O(576);const z=(0,O(3888).d)(fe=>function(re){fe(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((ae,Ge)=>`${Ge+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re});var ue=O(8737);class ee{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:re}=this;if(re)if(this._parentage=null,Array.isArray(re))for(const We of re)We.remove(this);else re.remove(this);const{initialTeardown:ae}=this;if((0,g.m)(ae))try{ae()}catch(We){ne=We instanceof z?We.errors:[We]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const We of Ge)try{we(We)}catch(Ue){ne=ne??[],Ue instanceof z?ne=[...ne,...Ue.errors]:ne.push(Ue)}}if(ne)throw new z(ne)}}add(ne){var re;if(ne&&ne!==this)if(this.closed)we(ne);else{if(ne instanceof ee){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(re=this._finalizers)&&void 0!==re?re:[]).push(ne)}}_hasParent(ne){const{_parentage:re}=this;return re===ne||Array.isArray(re)&&re.includes(ne)}_addParent(ne){const{_parentage:re}=this;this._parentage=Array.isArray(re)?(re.push(ne),re):re?[re,ne]:ne}_removeParent(ne){const{_parentage:re}=this;re===ne?this._parentage=null:Array.isArray(re)&&(0,ue.P)(re,ne)}remove(ne){const{_finalizers:re}=this;re&&(0,ue.P)(re,ne),ne instanceof ee&&ne._removeParent(this)}}ee.EMPTY=(()=>{const fe=new ee;return fe.closed=!0,fe})();const pe=ee.EMPTY;function ye(fe){return fe instanceof ee||fe&&"closed"in fe&&(0,g.m)(fe.remove)&&(0,g.m)(fe.add)&&(0,g.m)(fe.unsubscribe)}function we(fe){(0,g.m)(fe)?fe():fe.unsubscribe()}},2416:(xe,le,O)=>{"use strict";O.d(le,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(xe,le,O)=>{"use strict";O.d(le,{z:()=>ee});var g=O(8189),z=O(7669),ue=O(8996);function ee(...pe){return function F(){return(0,g.J)(1)}()((0,ue.D)(pe,(0,z.yG)(pe)))}},515:(xe,le,O)=>{"use strict";O.d(le,{E:()=>F});const F=new(O(9751).y)(ee=>ee.complete())},8996:(xe,le,O)=>{"use strict";O.d(le,{D:()=>Ye});var g=O(8421),F=O(5363),z=O(9468),pe=O(9751),we=O(2202),fe=O(576),ne=O(9672);function ae(Ne,Ct){if(!Ne)throw new Error("Iterable cannot be null");return new pe.y(lt=>{(0,ne.f)(lt,Ct,()=>{const Ke=Ne[Symbol.asyncIterator]();(0,ne.f)(lt,Ct,()=>{Ke.next().then(Be=>{Be.done?lt.complete():lt.next(Be.value)})},0,!0)})})}var Ge=O(3670),We=O(8239),Ue=O(1144),St=O(6495),it=O(2206),$e=O(4532),De=O(3260);function Ye(Ne,Ct){return Ct?function at(Ne,Ct){if(null!=Ne){if((0,Ge.c)(Ne))return function ue(Ne,Ct){return(0,g.Xf)(Ne).pipe((0,z.R)(Ct),(0,F.Q)(Ct))}(Ne,Ct);if((0,Ue.z)(Ne))return function ye(Ne,Ct){return new pe.y(lt=>{let Ke=0;return Ct.schedule(function(){Ke===Ne.length?lt.complete():(lt.next(Ne[Ke++]),lt.closed||this.schedule())})})}(Ne,Ct);if((0,We.t)(Ne))return function ee(Ne,Ct){return(0,g.Xf)(Ne).pipe((0,z.R)(Ct),(0,F.Q)(Ct))}(Ne,Ct);if((0,it.D)(Ne))return ae(Ne,Ct);if((0,St.T)(Ne))return function re(Ne,Ct){return new pe.y(lt=>{let Ke;return(0,ne.f)(lt,Ct,()=>{Ke=Ne[we.h](),(0,ne.f)(lt,Ct,()=>{let Be,vt;try{({value:Be,done:vt}=Ke.next())}catch(Tt){return void lt.error(Tt)}vt?lt.complete():lt.next(Be)},0,!0)}),()=>(0,fe.m)(Ke?.return)&&Ke.return()})}(Ne,Ct);if((0,De.L)(Ne))return function Pt(Ne,Ct){return ae((0,De.Q)(Ne),Ct)}(Ne,Ct)}throw(0,$e.z)(Ne)}(Ne,Ct):(0,g.Xf)(Ne)}},8421:(xe,le,O)=>{"use strict";O.d(le,{Xf:()=>Ge});var g=O(7582),F=O(1144),z=O(8239),ue=O(9751),ee=O(3670),pe=O(2206),ye=O(4532),we=O(6495),fe=O(3260),ne=O(576),re=O(7849),ae=O(8822);function Ge(at){if(at instanceof ue.y)return at;if(null!=at){if((0,ee.c)(at))return function We(at){return new ue.y(Ye=>{const Ne=at[ae.L]();if((0,ne.m)(Ne.subscribe))return Ne.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(at);if((0,F.z)(at))return function Ue(at){return new ue.y(Ye=>{for(let Ne=0;Ne<at.length&&!Ye.closed;Ne++)Ye.next(at[Ne]);Ye.complete()})}(at);if((0,z.t)(at))return function St(at){return new ue.y(Ye=>{at.then(Ne=>{Ye.closed||(Ye.next(Ne),Ye.complete())},Ne=>Ye.error(Ne)).then(null,re.h)})}(at);if((0,pe.D)(at))return $e(at);if((0,we.T)(at))return function it(at){return new ue.y(Ye=>{for(const Ne of at)if(Ye.next(Ne),Ye.closed)return;Ye.complete()})}(at);if((0,fe.L)(at))return function De(at){return $e((0,fe.Q)(at))}(at)}throw(0,ye.z)(at)}function $e(at){return new ue.y(Ye=>{(function Pt(at,Ye){var Ne,Ct,lt,Ke;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,g.KL)(at);!(Ct=yield Ne.next()).done;)if(Ye.next(Ct.value),Ye.closed)return}catch(Be){lt={error:Be}}finally{try{Ct&&!Ct.done&&(Ke=Ne.return)&&(yield Ke.call(Ne))}finally{if(lt)throw lt.error}}Ye.complete()})})(at,Ye).catch(Ne=>Ye.error(Ne))})}},6451:(xe,le,O)=>{"use strict";O.d(le,{T:()=>pe});var g=O(8189),F=O(8421),z=O(515),ue=O(7669),ee=O(8996);function pe(...ye){const we=(0,ue.yG)(ye),fe=(0,ue._6)(ye,1/0),ne=ye;return ne.length?1===ne.length?(0,F.Xf)(ne[0]):(0,g.J)(fe)((0,ee.D)(ne,we)):z.E}},9646:(xe,le,O)=>{"use strict";O.d(le,{of:()=>z});var g=O(7669),F=O(8996);function z(...ue){const ee=(0,g.yG)(ue);return(0,F.D)(ue,ee)}},5403:(xe,le,O)=>{"use strict";O.d(le,{x:()=>F});var g=O(930);function F(ue,ee,pe,ye,we){return new z(ue,ee,pe,ye,we)}class z extends g.Lv{constructor(ee,pe,ye,we,fe,ne){super(ee),this.onFinalize=fe,this.shouldUnsubscribe=ne,this._next=pe?function(re){try{pe(re)}catch(ae){ee.error(ae)}}:super._next,this._error=we?function(re){try{we(re)}catch(ae){ee.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(re){ee.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},262:(xe,le,O)=>{"use strict";O.d(le,{K:()=>ue});var g=O(8421),F=O(5403),z=O(4482);function ue(ee){return(0,z.e)((pe,ye)=>{let ne,we=null,fe=!1;we=pe.subscribe((0,F.x)(ye,void 0,void 0,re=>{ne=(0,g.Xf)(ee(re,ue(ee)(pe))),we?(we.unsubscribe(),we=null,ne.subscribe(ye)):fe=!0})),fe&&(we.unsubscribe(),we=null,ne.subscribe(ye))})}},4351:(xe,le,O)=>{"use strict";O.d(le,{b:()=>z});var g=O(5577),F=O(576);function z(ue,ee){return(0,F.m)(ee)?(0,g.z)(ue,ee,1):(0,g.z)(ue,1)}},8372:(xe,le,O)=>{"use strict";O.d(le,{b:()=>ue});var g=O(4986),F=O(4482),z=O(5403);function ue(ee,pe=g.z){return(0,F.e)((ye,we)=>{let fe=null,ne=null,re=null;const ae=()=>{if(fe){fe.unsubscribe(),fe=null;const We=ne;ne=null,we.next(We)}};function Ge(){const We=re+ee,Ue=pe.now();if(Ue<We)return fe=this.schedule(void 0,We-Ue),void we.add(fe);ae()}ye.subscribe((0,z.x)(we,We=>{ne=We,re=pe.now(),fe||(fe=pe.schedule(Ge,ee),we.add(fe))},()=>{ae(),we.complete()},void 0,()=>{ne=fe=null}))})}},6590:(xe,le,O)=>{"use strict";O.d(le,{d:()=>z});var g=O(4482),F=O(5403);function z(ue){return(0,g.e)((ee,pe)=>{let ye=!1;ee.subscribe((0,F.x)(pe,we=>{ye=!0,pe.next(we)},()=>{ye||pe.next(ue),pe.complete()}))})}},1884:(xe,le,O)=>{"use strict";O.d(le,{x:()=>ue});var g=O(4671),F=O(4482),z=O(5403);function ue(pe,ye=g.y){return pe=pe??ee,(0,F.e)((we,fe)=>{let ne,re=!0;we.subscribe((0,z.x)(fe,ae=>{const Ge=ye(ae);(re||!pe(ne,Ge))&&(re=!1,ne=Ge,fe.next(ae))}))})}function ee(pe,ye){return pe===ye}},9300:(xe,le,O)=>{"use strict";O.d(le,{h:()=>z});var g=O(4482),F=O(5403);function z(ue,ee){return(0,g.e)((pe,ye)=>{let we=0;pe.subscribe((0,F.x)(ye,fe=>ue.call(ee,fe,we++)&&ye.next(fe)))})}},590:(xe,le,O)=>{"use strict";O.d(le,{P:()=>ye});var g=O(6805),F=O(9300),z=O(5698),ue=O(6590),ee=O(8068),pe=O(4671);function ye(we,fe){const ne=arguments.length>=2;return re=>re.pipe(we?(0,F.h)((ae,Ge)=>we(ae,Ge,re)):pe.y,(0,z.q)(1),ne?(0,ue.d)(fe):(0,ee.T)(()=>new g.K))}},4004:(xe,le,O)=>{"use strict";O.d(le,{U:()=>z});var g=O(4482),F=O(5403);function z(ue,ee){return(0,g.e)((pe,ye)=>{let we=0;pe.subscribe((0,F.x)(ye,fe=>{ye.next(ue.call(ee,fe,we++))}))})}},8189:(xe,le,O)=>{"use strict";O.d(le,{J:()=>z});var g=O(5577),F=O(4671);function z(ue=1/0){return(0,g.z)(F.y,ue)}},5577:(xe,le,O)=>{"use strict";O.d(le,{z:()=>we});var g=O(4004),F=O(8421),z=O(4482),ue=O(9672),ee=O(5403),ye=O(576);function we(fe,ne,re=1/0){return(0,ye.m)(ne)?we((ae,Ge)=>(0,g.U)((We,Ue)=>ne(ae,We,Ge,Ue))((0,F.Xf)(fe(ae,Ge))),re):("number"==typeof ne&&(re=ne),(0,z.e)((ae,Ge)=>function pe(fe,ne,re,ae,Ge,We,Ue,St){const it=[];let $e=0,De=0,Pt=!1;const at=()=>{Pt&&!it.length&&!$e&&ne.complete()},Ye=Ct=>$e<ae?Ne(Ct):it.push(Ct),Ne=Ct=>{We&&ne.next(Ct),$e++;let lt=!1;(0,F.Xf)(re(Ct,De++)).subscribe((0,ee.x)(ne,Ke=>{Ge?.(Ke),We?Ye(Ke):ne.next(Ke)},()=>{lt=!0},void 0,()=>{if(lt)try{for($e--;it.length&&$e<ae;){const Ke=it.shift();Ue?(0,ue.f)(ne,Ue,()=>Ne(Ke)):Ne(Ke)}at()}catch(Ke){ne.error(Ke)}}))};return fe.subscribe((0,ee.x)(ne,Ye,()=>{Pt=!0,at()})),()=>{St?.()}}(ae,Ge,fe,re)))}},5363:(xe,le,O)=>{"use strict";O.d(le,{Q:()=>ue});var g=O(9672),F=O(4482),z=O(5403);function ue(ee,pe=0){return(0,F.e)((ye,we)=>{ye.subscribe((0,z.x)(we,fe=>(0,g.f)(we,ee,()=>we.next(fe),pe),()=>(0,g.f)(we,ee,()=>we.complete(),pe),fe=>(0,g.f)(we,ee,()=>we.error(fe),pe)))})}},5026:(xe,le,O)=>{"use strict";O.d(le,{R:()=>ue});var g=O(4482),F=O(5403);function z(ee,pe,ye,we,fe){return(ne,re)=>{let ae=ye,Ge=pe,We=0;ne.subscribe((0,F.x)(re,Ue=>{const St=We++;Ge=ae?ee(Ge,Ue,St):(ae=!0,Ue),we&&re.next(Ge)},fe&&(()=>{ae&&re.next(Ge),re.complete()})))}}function ue(ee,pe){return(0,g.e)(z(ee,pe,arguments.length>=2,!0))}},3099:(xe,le,O)=>{"use strict";O.d(le,{B:()=>ee});var g=O(8421),F=O(7579),z=O(930),ue=O(4482);function ee(ye={}){const{connector:we=(()=>new F.x),resetOnError:fe=!0,resetOnComplete:ne=!0,resetOnRefCountZero:re=!0}=ye;return ae=>{let Ge,We,Ue,St=0,it=!1,$e=!1;const De=()=>{We?.unsubscribe(),We=void 0},Pt=()=>{De(),Ge=Ue=void 0,it=$e=!1},at=()=>{const Ye=Ge;Pt(),Ye?.unsubscribe()};return(0,ue.e)((Ye,Ne)=>{St++,!$e&&!it&&De();const Ct=Ue=Ue??we();Ne.add(()=>{St--,0===St&&!$e&&!it&&(We=pe(at,re))}),Ct.subscribe(Ne),!Ge&&St>0&&(Ge=new z.Hp({next:lt=>Ct.next(lt),error:lt=>{$e=!0,De(),We=pe(Pt,fe,lt),Ct.error(lt)},complete:()=>{it=!0,De(),We=pe(Pt,ne),Ct.complete()}}),(0,g.Xf)(Ye).subscribe(Ge))})(ae)}}function pe(ye,we,...fe){if(!0===we)return void ye();if(!1===we)return;const ne=new z.Hp({next:()=>{ne.unsubscribe(),ye()}});return we(...fe).subscribe(ne)}},5684:(xe,le,O)=>{"use strict";O.d(le,{T:()=>F});var g=O(9300);function F(z){return(0,g.h)((ue,ee)=>z<=ee)}},8675:(xe,le,O)=>{"use strict";O.d(le,{O:()=>ue});var g=O(7272),F=O(7669),z=O(4482);function ue(...ee){const pe=(0,F.yG)(ee);return(0,z.e)((ye,we)=>{(pe?(0,g.z)(ee,ye,pe):(0,g.z)(ee,ye)).subscribe(we)})}},9468:(xe,le,O)=>{"use strict";O.d(le,{R:()=>F});var g=O(4482);function F(z,ue=0){return(0,g.e)((ee,pe)=>{pe.add(z.schedule(()=>ee.subscribe(pe),ue))})}},3900:(xe,le,O)=>{"use strict";O.d(le,{w:()=>ue});var g=O(8421),F=O(4482),z=O(5403);function ue(ee,pe){return(0,F.e)((ye,we)=>{let fe=null,ne=0,re=!1;const ae=()=>re&&!fe&&we.complete();ye.subscribe((0,z.x)(we,Ge=>{fe?.unsubscribe();let We=0;const Ue=ne++;(0,g.Xf)(ee(Ge,Ue)).subscribe(fe=(0,z.x)(we,St=>we.next(pe?pe(Ge,St,Ue,We++):St),()=>{fe=null,ae()}))},()=>{re=!0,ae()}))})}},5698:(xe,le,O)=>{"use strict";O.d(le,{q:()=>ue});var g=O(515),F=O(4482),z=O(5403);function ue(ee){return ee<=0?()=>g.E:(0,F.e)((pe,ye)=>{let we=0;pe.subscribe((0,z.x)(ye,fe=>{++we<=ee&&(ye.next(fe),ee<=we&&ye.complete())}))})}},2722:(xe,le,O)=>{"use strict";O.d(le,{R:()=>ee});var g=O(4482),F=O(5403),z=O(8421),ue=O(5032);function ee(pe){return(0,g.e)((ye,we)=>{(0,z.Xf)(pe).subscribe((0,F.x)(we,()=>we.complete(),ue.Z)),!we.closed&&ye.subscribe(we)})}},8505:(xe,le,O)=>{"use strict";O.d(le,{b:()=>ee});var g=O(576),F=O(4482),z=O(5403),ue=O(4671);function ee(pe,ye,we){const fe=(0,g.m)(pe)||ye||we?{next:pe,error:ye,complete:we}:pe;return fe?(0,F.e)((ne,re)=>{var ae;null===(ae=fe.subscribe)||void 0===ae||ae.call(fe);let Ge=!0;ne.subscribe((0,z.x)(re,We=>{var Ue;null===(Ue=fe.next)||void 0===Ue||Ue.call(fe,We),re.next(We)},()=>{var We;Ge=!1,null===(We=fe.complete)||void 0===We||We.call(fe),re.complete()},We=>{var Ue;Ge=!1,null===(Ue=fe.error)||void 0===Ue||Ue.call(fe,We),re.error(We)},()=>{var We,Ue;Ge&&(null===(We=fe.unsubscribe)||void 0===We||We.call(fe)),null===(Ue=fe.finalize)||void 0===Ue||Ue.call(fe)}))}):ue.y}},8068:(xe,le,O)=>{"use strict";O.d(le,{T:()=>ue});var g=O(6805),F=O(4482),z=O(5403);function ue(pe=ee){return(0,F.e)((ye,we)=>{let fe=!1;ye.subscribe((0,z.x)(we,ne=>{fe=!0,we.next(ne)},()=>fe?we.complete():we.error(pe())))})}function ee(){return new g.K}},1749:(xe,le,O)=>{"use strict";O.d(le,{V:()=>fe});var g=O(4986),z=O(4482),ue=O(8421),ee=O(3888),pe=O(5403),ye=O(9672);const we=(0,ee.d)(re=>function(Ge=null){re(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Ge});function fe(re,ae){const{first:Ge,each:We,with:Ue=ne,scheduler:St=ae??g.z,meta:it=null}=function F(re){return re instanceof Date&&!isNaN(re)}(re)?{first:re}:"number"==typeof re?{each:re}:re;if(null==Ge&&null==We)throw new TypeError("No timeout provided.");return(0,z.e)(($e,De)=>{let Pt,at,Ye=null,Ne=0;const Ct=lt=>{at=(0,ye.f)(De,St,()=>{try{Pt.unsubscribe(),(0,ue.Xf)(Ue({meta:it,lastValue:Ye,seen:Ne})).subscribe(De)}catch(Ke){De.error(Ke)}},lt)};Pt=$e.subscribe((0,pe.x)(De,lt=>{at?.unsubscribe(),Ne++,De.next(Ye=lt),We>0&&Ct(We)},void 0,void 0,()=>{at?.closed||at?.unsubscribe(),Ye=null})),!Ne&&Ct(null!=Ge?"number"==typeof Ge?Ge:+Ge-St.now():We)})}function ne(re){throw new we(re)}},1365:(xe,le,O)=>{"use strict";O.d(le,{M:()=>ye});var g=O(4482),F=O(5403),z=O(8421),ue=O(4671),ee=O(5032),pe=O(7669);function ye(...we){const fe=(0,pe.jO)(we);return(0,g.e)((ne,re)=>{const ae=we.length,Ge=new Array(ae);let We=we.map(()=>!1),Ue=!1;for(let St=0;St<ae;St++)(0,z.Xf)(we[St]).subscribe((0,F.x)(re,it=>{Ge[St]=it,!Ue&&!We[St]&&(We[St]=!0,(Ue=We.every(ue.y))&&(We=null))},ee.Z));ne.subscribe((0,F.x)(re,St=>{if(Ue){const it=[St,...Ge];re.next(fe?fe(...it):it)}}))})}},4408:(xe,le,O)=>{"use strict";O.d(le,{o:()=>ee});var g=O(727);class F extends g.w0{constructor(ye,we){super()}schedule(ye,we=0){return this}}const z={setInterval(pe,ye,...we){const{delegate:fe}=z;return fe?.setInterval?fe.setInterval(pe,ye,...we):setInterval(pe,ye,...we)},clearInterval(pe){const{delegate:ye}=z;return(ye?.clearInterval||clearInterval)(pe)},delegate:void 0};var ue=O(8737);class ee extends F{constructor(ye,we){super(ye,we),this.scheduler=ye,this.work=we,this.pending=!1}schedule(ye,we=0){var fe;if(this.closed)return this;this.state=ye;const ne=this.id,re=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(re,ne,we)),this.pending=!0,this.delay=we,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(re,this.id,we),this}requestAsyncId(ye,we,fe=0){return z.setInterval(ye.flush.bind(ye,this),fe)}recycleAsyncId(ye,we,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return we;null!=we&&z.clearInterval(we)}execute(ye,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ye,we);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,we){let ne,fe=!1;try{this.work(ye)}catch(re){fe=!0,ne=re||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:ye,scheduler:we}=this,{actions:fe}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(fe,this),null!=ye&&(this.id=this.recycleAsyncId(we,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(xe,le,O)=>{"use strict";O.d(le,{v:()=>z});var g=O(6063);class F{constructor(ee,pe=F.now){this.schedulerActionCtor=ee,this.now=pe}schedule(ee,pe=0,ye){return new this.schedulerActionCtor(this,ee).schedule(ye,pe)}}F.now=g.l.now;class z extends F{constructor(ee,pe=F.now){super(ee,pe),this.actions=[],this._active=!1}flush(ee){const{actions:pe}=this;if(this._active)return void pe.push(ee);let ye;this._active=!0;do{if(ye=ee.execute(ee.state,ee.delay))break}while(ee=pe.shift());if(this._active=!1,ye){for(;ee=pe.shift();)ee.unsubscribe();throw ye}}}},4986:(xe,le,O)=>{"use strict";O.d(le,{z:()=>z});var g=O(4408);const z=new(O(7565).v)(g.o)},6063:(xe,le,O)=>{"use strict";O.d(le,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},233:(xe,le,O)=>{"use strict";O.d(le,{N:()=>ee});var g=O(4408),z=O(7565);const ee=new class ue extends z.v{}(class F extends g.o{constructor(we,fe){super(we,fe),this.scheduler=we,this.work=fe}schedule(we,fe=0){return fe>0?super.schedule(we,fe):(this.delay=fe,this.state=we,this.scheduler.flush(this),this)}execute(we,fe){return fe>0||this.closed?super.execute(we,fe):this._execute(we,fe)}requestAsyncId(we,fe,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(we,fe,ne):(we.flush(this),0)}})},3410:(xe,le,O)=>{"use strict";O.d(le,{z:()=>g});const g={setTimeout(F,z,...ue){const{delegate:ee}=g;return ee?.setTimeout?ee.setTimeout(F,z,...ue):setTimeout(F,z,...ue)},clearTimeout(F){const{delegate:z}=g;return(z?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(xe,le,O)=>{"use strict";O.d(le,{h:()=>F});const F=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xe,le,O)=>{"use strict";O.d(le,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(xe,le,O)=>{"use strict";O.d(le,{K:()=>F});const F=(0,O(3888).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(xe,le,O)=>{"use strict";O.d(le,{_6:()=>pe,jO:()=>ue,yG:()=>ee});var g=O(576);function z(ye){return ye[ye.length-1]}function ue(ye){return(0,g.m)(z(ye))?ye.pop():void 0}function ee(ye){return function F(ye){return ye&&(0,g.m)(ye.schedule)}(z(ye))?ye.pop():void 0}function pe(ye,we){return"number"==typeof z(ye)?ye.pop():we}},4742:(xe,le,O)=>{"use strict";O.d(le,{D:()=>ee});const{isArray:g}=Array,{getPrototypeOf:F,prototype:z,keys:ue}=Object;function ee(ye){if(1===ye.length){const we=ye[0];if(g(we))return{args:we,keys:null};if(function pe(ye){return ye&&"object"==typeof ye&&F(ye)===z}(we)){const fe=ue(we);return{args:fe.map(ne=>we[ne]),keys:fe}}}return{args:ye,keys:null}}},8737:(xe,le,O)=>{"use strict";function g(F,z){if(F){const ue=F.indexOf(z);0<=ue&&F.splice(ue,1)}}O.d(le,{P:()=>g})},3888:(xe,le,O)=>{"use strict";function g(F){const ue=F(ee=>{Error.call(ee),ee.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}O.d(le,{d:()=>g})},1810:(xe,le,O)=>{"use strict";function g(F,z){return F.reduce((ue,ee,pe)=>(ue[ee]=z[pe],ue),{})}O.d(le,{n:()=>g})},2806:(xe,le,O)=>{"use strict";O.d(le,{O:()=>ue,x:()=>z});var g=O(2416);let F=null;function z(ee){if(g.v.useDeprecatedSynchronousErrorHandling){const pe=!F;if(pe&&(F={errorThrown:!1,error:null}),ee(),pe){const{errorThrown:ye,error:we}=F;if(F=null,ye)throw we}}else ee()}function ue(ee){g.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=ee)}},9672:(xe,le,O)=>{"use strict";function g(F,z,ue,ee=0,pe=!1){const ye=z.schedule(function(){ue(),pe?F.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(F.add(ye),!pe)return ye}O.d(le,{f:()=>g})},4671:(xe,le,O)=>{"use strict";function g(F){return F}O.d(le,{y:()=>g})},1144:(xe,le,O)=>{"use strict";O.d(le,{z:()=>g});const g=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(xe,le,O)=>{"use strict";O.d(le,{D:()=>F});var g=O(576);function F(z){return Symbol.asyncIterator&&(0,g.m)(z?.[Symbol.asyncIterator])}},576:(xe,le,O)=>{"use strict";function g(F){return"function"==typeof F}O.d(le,{m:()=>g})},3670:(xe,le,O)=>{"use strict";O.d(le,{c:()=>z});var g=O(8822),F=O(576);function z(ue){return(0,F.m)(ue[g.L])}},6495:(xe,le,O)=>{"use strict";O.d(le,{T:()=>z});var g=O(2202),F=O(576);function z(ue){return(0,F.m)(ue?.[g.h])}},8239:(xe,le,O)=>{"use strict";O.d(le,{t:()=>F});var g=O(576);function F(z){return(0,g.m)(z?.then)}},3260:(xe,le,O)=>{"use strict";O.d(le,{L:()=>ue,Q:()=>z});var g=O(7582),F=O(576);function z(ee){return(0,g.FC)(this,arguments,function*(){const ye=ee.getReader();try{for(;;){const{value:we,done:fe}=yield(0,g.qq)(ye.read());if(fe)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(we)}}finally{ye.releaseLock()}})}function ue(ee){return(0,F.m)(ee?.getReader)}},4482:(xe,le,O)=>{"use strict";O.d(le,{A:()=>F,e:()=>z});var g=O(576);function F(ue){return(0,g.m)(ue?.lift)}function z(ue){return ee=>{if(F(ee))return ee.lift(function(pe){try{return ue(pe,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(xe,le,O)=>{"use strict";O.d(le,{Z:()=>ue});var g=O(4004);const{isArray:F}=Array;function ue(ee){return(0,g.U)(pe=>function z(ee,pe){return F(pe)?ee(...pe):ee(pe)}(ee,pe))}},5032:(xe,le,O)=>{"use strict";function g(){}O.d(le,{Z:()=>g})},9635:(xe,le,O)=>{"use strict";O.d(le,{U:()=>z,z:()=>F});var g=O(4671);function F(...ue){return z(ue)}function z(ue){return 0===ue.length?g.y:1===ue.length?ue[0]:function(pe){return ue.reduce((ye,we)=>we(ye),pe)}}},7849:(xe,le,O)=>{"use strict";O.d(le,{h:()=>z});var g=O(2416),F=O(3410);function z(ue){F.z.setTimeout(()=>{const{onUnhandledError:ee}=g.v;if(!ee)throw ue;ee(ue)})}},4532:(xe,le,O)=>{"use strict";function g(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(le,{z:()=>g})},5226:function(xe){xe.exports=function(){"use strict";function O(G){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(G)}function g(G,I){if(!(G instanceof I))throw new TypeError("Cannot call a class as a function")}function F(G,I){for(var S=0;S<I.length;S++){var j=I[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(G,Ct(j.key),j)}}function z(G,I,S){return I&&F(G.prototype,I),S&&F(G,S),Object.defineProperty(G,"prototype",{writable:!1}),G}function ee(G){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(G)}function pe(G,I){return(pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,ve){return j.__proto__=ve,j})(G,I)}function ye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function we(G,I,S){return(we=ye()?Reflect.construct.bind():function(ve,dt,en){var Vn=[null];Vn.push.apply(Vn,dt);var Br=new(Function.bind.apply(ve,Vn));return en&&pe(Br,en.prototype),Br}).apply(null,arguments)}function ne(G,I){if(I&&("object"==typeof I||"function"==typeof I))return I;if(void 0!==I)throw new TypeError("Derived constructors may only return object or undefined");return function fe(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(G)}function ae(G,I){for(;!Object.prototype.hasOwnProperty.call(G,I)&&null!==(G=ee(G)););return G}function Ge(){return Ge=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(I,S,j){var ve=ae(I,S);if(ve){var dt=Object.getOwnPropertyDescriptor(ve,S);return dt.get?dt.get.call(arguments.length<3?I:j):dt.value}},Ge.apply(this,arguments)}function We(G,I){return function it(G){if(Array.isArray(G))return G}(G)||function le(G,I){var S=null==G?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(null!=S){var j,ve,dt,en,Vn=[],Kt=!0,Br=!1;try{if(dt=(S=S.call(G)).next,0===I){if(Object(S)!==S)return;Kt=!1}else for(;!(Kt=(j=dt.call(S)).done)&&(Vn.push(j.value),Vn.length!==I);Kt=!0);}catch(xa){Br=!0,ve=xa}finally{try{if(!Kt&&null!=S.return&&(en=S.return(),Object(en)!==en))return}finally{if(Br)throw ve}}return Vn}}(G,I)||De(G,I)||function Ye(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(G){return function St(G){if(Array.isArray(G))return Pt(G)}(G)||function $e(G){if(typeof Symbol<"u"&&null!=G[Symbol.iterator]||null!=G["@@iterator"])return Array.from(G)}(G)||De(G)||function at(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(G,I){if(G){if("string"==typeof G)return Pt(G,I);var S=Object.prototype.toString.call(G).slice(8,-1);if("Object"===S&&G.constructor&&(S=G.constructor.name),"Map"===S||"Set"===S)return Array.from(G);if("Arguments"===S||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return Pt(G,I)}}function Pt(G,I){(null==I||I>G.length)&&(I=G.length);for(var S=0,j=new Array(I);S<I;S++)j[S]=G[S];return j}function Ct(G){var I=function Ne(G,I){if("object"!=typeof G||null===G)return G;var S=G[Symbol.toPrimitive];if(void 0!==S){var j=S.call(G,I||"default");if("object"!=typeof j)return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(G)}(G,"string");return"symbol"==typeof I?I:String(I)}function lt(G,I){return function vt(G,I){return I.get?I.get.call(G):I.value}(G,Be(G,I,"get"))}function Ke(G,I,S){return function Tt(G,I,S){if(I.set)I.set.call(G,S);else{if(!I.writable)throw new TypeError("attempted to set read only private field");I.value=S}}(G,Be(G,I,"set"),S),S}function Be(G,I,S){if(!I.has(G))throw new TypeError("attempted to "+S+" private field on non-instance");return I.get(G)}function Ut(G,I,S){(function jt(G,I){if(I.has(G))throw new TypeError("Cannot initialize the same private elements twice on an object")})(G,I),I.set(G,S)}var Ht={},Nn=function(I){return new Promise(function(S){if(!I)return S();var j=window.scrollX,ve=window.scrollY;Ht.restoreFocusTimeout=setTimeout(function(){Ht.previousActiveElement instanceof HTMLElement?(Ht.previousActiveElement.focus(),Ht.previousActiveElement=null):document.body&&document.body.focus(),S()},100),window.scrollTo(j,ve)})},te=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(function(G,I){return G[I]="swal2-"+I,G},{}),ht=["success","warning","info","question","error"].reduce(function(G,I){return G[I]="swal2-"+I,G},{}),He="SweetAlert2:",Qe=function(I){return I.charAt(0).toUpperCase()+I.slice(1)},It=function(I){console.warn("".concat(He," ").concat("object"===O(I)?I.join(" "):I))},At=function(I){console.error("".concat(He," ").concat(I))},Vt=[],xn=function(I,S){!function(I){Vt.includes(I)||(Vt.push(I),It(I))}('"'.concat(I,'" is deprecated and will be removed in the next major release. Please use "').concat(S,'" instead.'))},_n=function(I){return"function"==typeof I?I():I},tr=function(I){return I&&"function"==typeof I.toPromise},Xt=function(I){return tr(I)?I.toPromise():Promise.resolve(I)},nr=function(I){return I&&Promise.resolve(I)===I},On=function(){return document.body.querySelector(".".concat(te.container))},En=function(I){var S=On();return S?S.querySelector(I):null},Lt=function(I){return En(".".concat(I))},un=function(){return Lt(te.popup)},Ln=function(){return Lt(te.icon)},Ci=function(){return Lt(te.title)},ei=function(){return Lt(te["html-container"])},jr=function(){return Lt(te.image)},An=function(){return Lt(te["progress-steps"])},Sn=function(){return Lt(te["validation-message"])},Bt=function(){return En(".".concat(te.actions," .").concat(te.confirm))},sn=function(){return En(".".concat(te.actions," .").concat(te.cancel))},Bn=function(){return En(".".concat(te.actions," .").concat(te.deny))},sr=function(){return En(".".concat(te.loader))},Tr=function(){return Lt(te.actions)},hn=function(){return Lt(te.footer)},Pr=function(){return Lt(te["timer-progress-bar"])},Wn=function(){return Lt(te.close)},Fn=function(){var I=un();if(!I)return[];var S=I.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),j=Array.from(S).sort(function(en,Vn){var Kt=parseInt(en.getAttribute("tabindex")||"0"),Br=parseInt(Vn.getAttribute("tabindex")||"0");return Kt>Br?1:Kt<Br?-1:0}),ve=I.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),dt=Array.from(ve).filter(function(en){return"-1"!==en.getAttribute("tabindex")});return Ue(new Set(j.concat(dt))).filter(function(en){return oe(en)})},vr=function(){return Zn(document.body,te.shown)&&!Zn(document.body,te["toast-shown"])&&!Zn(document.body,te["no-backdrop"])},cn=function(){var I=un();return!!I&&Zn(I,te.toast)},Kn=function(I,S){if(I.textContent="",S){var ve=(new DOMParser).parseFromString(S,"text/html"),dt=ve.querySelector("head");dt&&Array.from(dt.childNodes).forEach(function(Vn){I.appendChild(Vn)});var en=ve.querySelector("body");en&&Array.from(en.childNodes).forEach(function(Vn){Vn instanceof HTMLVideoElement||Vn instanceof HTMLAudioElement?I.appendChild(Vn.cloneNode(!0)):I.appendChild(Vn)})}},Zn=function(I,S){if(!S)return!1;for(var j=S.split(/\s+/),ve=0;ve<j.length;ve++)if(!I.classList.contains(j[ve]))return!1;return!0},$n=function(I,S,j){if(function(I,S){Array.from(I.classList).forEach(function(j){!Object.values(te).includes(j)&&!Object.values(ht).includes(j)&&!Object.values(S.showClass||{}).includes(j)&&I.classList.remove(j)})}(I,S),S.customClass&&S.customClass[j]){if("string"!=typeof S.customClass[j]&&!S.customClass[j].forEach)return void It("Invalid type of customClass.".concat(j,'! Expected string or iterable object, got "').concat(O(S.customClass[j]),'"'));se(I,S.customClass[j])}},Ar=function(I,S){if(!S)return null;switch(S){case"select":case"textarea":case"file":return I.querySelector(".".concat(te.popup," > .").concat(te[S]));case"checkbox":return I.querySelector(".".concat(te.popup," > .").concat(te.checkbox," input"));case"radio":return I.querySelector(".".concat(te.popup," > .").concat(te.radio," input:checked"))||I.querySelector(".".concat(te.popup," > .").concat(te.radio," input:first-child"));case"range":return I.querySelector(".".concat(te.popup," > .").concat(te.range," input"));default:return I.querySelector(".".concat(te.popup," > .").concat(te.input))}},Nr=function(I){if(I.focus(),"file"!==I.type){var S=I.value;I.value="",I.value=S}},_e=function(I,S,j){!I||!S||("string"==typeof S&&(S=S.split(/\s+/).filter(Boolean)),S.forEach(function(ve){Array.isArray(I)?I.forEach(function(dt){j?dt.classList.add(ve):dt.classList.remove(ve)}):j?I.classList.add(ve):I.classList.remove(ve)}))},se=function(I,S){_e(I,S,!0)},Ce=function(I,S){_e(I,S,!1)},qe=function(I,S){for(var j=Array.from(I.children),ve=0;ve<j.length;ve++){var dt=j[ve];if(dt instanceof HTMLElement&&Zn(dt,S))return dt}},ke=function(I,S,j){j==="".concat(parseInt(j))&&(j=parseInt(j)),j||0===parseInt(j)?I.style[S]="number"==typeof j?"".concat(j,"px"):j:I.style.removeProperty(S)},xt=function(I){I&&(I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},qt=function(I){I&&(I.style.display="none")},In=function(I){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";!I||new MutationObserver(function(){de(I,I.innerHTML,S)}).observe(I,{childList:!0,subtree:!0})},rr=function(I,S,j,ve){var dt=I.querySelector(S);dt&&(dt.style[j]=ve)},de=function(I,S){S?xt(I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):qt(I)},oe=function(I){return!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length))},Ve=function(I){return I.scrollHeight>I.clientHeight},ft=function(I){var S=window.getComputedStyle(I),j=parseFloat(S.getPropertyValue("animation-duration")||"0"),ve=parseFloat(S.getPropertyValue("transition-duration")||"0");return j>0||ve>0},Wt=function(I){var S=arguments.length>1&&void 0!==arguments[1]&&arguments[1],j=Pr();!j||oe(j)&&(S&&(j.style.transition="none",j.style.width="100%"),setTimeout(function(){j.style.transition="width ".concat(I/1e3,"s linear"),j.style.width="0%"},10))},Le=function(){return typeof window>"u"||typeof document>"u"},Fe='\n <div aria-labelledby="'.concat(te.title,'" aria-describedby="').concat(te["html-container"],'" class="').concat(te.popup,'" tabindex="-1">\n   <button type="button" class="').concat(te.close,'"></button>\n   <ul class="').concat(te["progress-steps"],'"></ul>\n   <div class="').concat(te.icon,'"></div>\n   <img class="').concat(te.image,'" />\n   <h2 class="').concat(te.title,'" id="').concat(te.title,'"></h2>\n   <div class="').concat(te["html-container"],'" id="').concat(te["html-container"],'"></div>\n   <input class="').concat(te.input,'" id="').concat(te.input,'" />\n   <input type="file" class="').concat(te.file,'" />\n   <div class="').concat(te.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(te.select,'" id="').concat(te.select,'"></select>\n   <div class="').concat(te.radio,'"></div>\n   <label class="').concat(te.checkbox,'">\n     <input type="checkbox" id="').concat(te.checkbox,'" />\n     <span class="').concat(te.label,'"></span>\n   </label>\n   <textarea class="').concat(te.textarea,'" id="').concat(te.textarea,'"></textarea>\n   <div class="').concat(te["validation-message"],'" id="').concat(te["validation-message"],'"></div>\n   <div class="').concat(te.actions,'">\n     <div class="').concat(te.loader,'"></div>\n     <button type="button" class="').concat(te.confirm,'"></button>\n     <button type="button" class="').concat(te.deny,'"></button>\n     <button type="button" class="').concat(te.cancel,'"></button>\n   </div>\n   <div class="').concat(te.footer,'"></div>\n   <div class="').concat(te["timer-progress-bar-container"],'">\n     <div class="').concat(te["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),_t=function(){Ht.currentInstance.resetValidationMessage()},Hn=function(I){var S=function(){var I=On();return!!I&&(I.remove(),Ce([document.documentElement,document.body],[te["no-backdrop"],te["toast-shown"],te["has-column"]]),!0)}();if(Le())At("SweetAlert2 requires document to initialize");else{var j=document.createElement("div");j.className=te.container,S&&se(j,te["no-transition"]),Kn(j,Fe);var ve=function(I){return"string"==typeof I?document.querySelector(I):I}(I.target);ve.appendChild(j),function(I){var S=un();S.setAttribute("role",I.toast?"alert":"dialog"),S.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||S.setAttribute("aria-modal","true")}(I),function(I){"rtl"===window.getComputedStyle(I).direction&&se(On(),te.rtl)}(ve),function(){var I=un(),S=qe(I,te.input),j=qe(I,te.file),ve=I.querySelector(".".concat(te.range," input")),dt=I.querySelector(".".concat(te.range," output")),en=qe(I,te.select),Vn=I.querySelector(".".concat(te.checkbox," input")),Kt=qe(I,te.textarea);S.oninput=_t,j.onchange=_t,en.onchange=_t,Vn.onchange=_t,Kt.oninput=_t,ve.oninput=function(){_t(),dt.value=ve.value},ve.onchange=function(){_t(),dt.value=ve.value}}()}},Ur=function(I,S){I instanceof HTMLElement?S.appendChild(I):"object"===O(I)?fi(I,S):I&&Kn(S,I)},fi=function(I,S){I.jquery?ii(S,I):Kn(S,I.toString())},ii=function(I,S){if(I.textContent="",0 in S)for(var j=0;j in S;j++)I.appendChild(S[j].cloneNode(!0));else I.appendChild(S.cloneNode(!0))},_i=function(){if(Le())return!1;var G=document.createElement("div");return typeof G.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof G.style.animation<"u"&&"animationend"}(),ls=function(I,S){var j=Tr(),ve=sr();!j||!ve||(S.showConfirmButton||S.showDenyButton||S.showCancelButton?xt(j):qt(j),$n(j,S,"actions"),function or(G,I,S){var j=Bt(),ve=Bn(),dt=sn();!j||!ve||!dt||(ts(j,"confirm",S),ts(ve,"deny",S),ts(dt,"cancel",S),function Di(G,I,S,j){j.buttonsStyling?(se([G,I,S],te.styled),j.confirmButtonColor&&(G.style.backgroundColor=j.confirmButtonColor,se(G,te["default-outline"])),j.denyButtonColor&&(I.style.backgroundColor=j.denyButtonColor,se(I,te["default-outline"])),j.cancelButtonColor&&(S.style.backgroundColor=j.cancelButtonColor,se(S,te["default-outline"]))):Ce([G,I,S],te.styled)}(j,ve,dt,S),S.reverseButtons&&(S.toast?(G.insertBefore(dt,j),G.insertBefore(ve,j)):(G.insertBefore(dt,I),G.insertBefore(ve,I),G.insertBefore(j,I))))}(j,ve,S),Kn(ve,S.loaderHtml||""),$n(ve,S,"loader"))};function ts(G,I,S){var j=Qe(I);de(G,S["show".concat(j,"Button")],"inline-block"),Kn(G,S["".concat(I,"ButtonText")]||""),G.setAttribute("aria-label",S["".concat(I,"ButtonAriaLabel")]||""),G.className=te[I],$n(G,S,"".concat(I,"Button"))}var ys=function(I,S){var j=On();!j||(function _r(G,I){"string"==typeof I?G.style.background=I:I||se([document.documentElement,document.body],te["no-backdrop"])}(j,S.backdrop),function ge(G,I){!I||(I in te?se(G,te[I]):(It('The "position" parameter is not valid, defaulting to "center"'),se(G,te.center)))}(j,S.position),function ut(G,I){!I||se(G,te["grow-".concat(I)])}(j,S.grow),$n(j,S,"container"))};var Te={innerParams:new WeakMap,domCache:new WeakMap},nt=["input","file","range","select","radio","checkbox","textarea"],Ot=function(I){if(I.input){if(!xr[I.input])return void At("Unexpected type of input! Expected ".concat(Object.keys(xr).join(" | "),', got "').concat(I.input,'"'));var S=si(I.input),j=xr[I.input](S,I);xt(S),I.inputAutoFocus&&setTimeout(function(){Nr(j)})}},Sr=function(I,S){var j=Ar(un(),I);if(j)for(var ve in function(I){for(var S=0;S<I.attributes.length;S++){var j=I.attributes[S].name;["id","type","value","style"].includes(j)||I.removeAttribute(j)}}(j),S)j.setAttribute(ve,S[ve])},dr=function(I){var S=si(I.input);"object"===O(I.customClass)&&se(S,I.customClass.input)},ar=function(I,S){(!I.placeholder||S.inputPlaceholder)&&(I.placeholder=S.inputPlaceholder)},bn=function(I,S,j){if(j.inputLabel){var ve=document.createElement("label"),dt=te["input-label"];ve.setAttribute("for",I.id),ve.className=dt,"object"===O(j.customClass)&&se(ve,j.customClass.inputLabel),ve.innerText=j.inputLabel,S.insertAdjacentElement("beforebegin",ve)}},si=function(I){return qe(un(),te[I]||te.input)},ji=function(I,S){["string","number"].includes(O(S))?I.value="".concat(S):nr(S)||It('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(O(S),'"'))},xr={};xr.text=xr.email=xr.password=xr.number=xr.tel=xr.url=xr.search=xr.date=xr["datetime-local"]=xr.time=xr.week=xr.month=function(G,I){return ji(G,I.inputValue),bn(G,G,I),ar(G,I),G.type=I.input,G},xr.file=function(G,I){return bn(G,G,I),ar(G,I),G},xr.range=function(G,I){var S=G.querySelector("input"),j=G.querySelector("output");return ji(S,I.inputValue),S.type=I.input,ji(j,I.inputValue),bn(S,G,I),G},xr.select=function(G,I){if(G.textContent="",I.inputPlaceholder){var S=document.createElement("option");Kn(S,I.inputPlaceholder),S.value="",S.disabled=!0,S.selected=!0,G.appendChild(S)}return bn(G,G,I),G},xr.radio=function(G){return G.textContent="",G},xr.checkbox=function(G,I){var S=Ar(un(),"checkbox");S.value="1",S.checked=Boolean(I.inputValue);var j=G.querySelector("span");return Kn(j,I.inputPlaceholder),S},xr.textarea=function(G,I){ji(G,I.inputValue),ar(G,I),bn(G,G,I);return setTimeout(function(){if("MutationObserver"in window){var j=parseInt(window.getComputedStyle(un()).width);new MutationObserver(function(){if(document.body.contains(G)){var en=G.offsetWidth+(ve=G,parseInt(window.getComputedStyle(ve).marginLeft)+parseInt(window.getComputedStyle(ve).marginRight));en>j?un().style.width="".concat(en,"px"):ke(un(),"width",I.width)}var ve}).observe(G,{attributes:!0,attributeFilter:["style"]})}}),G};var xo=function(I,S){var j=ei();!j||(In(j),$n(j,S,"htmlContainer"),S.html?(Ur(S.html,j),xt(j,"block")):S.text?(j.textContent=S.text,xt(j,"block")):qt(j),function(I,S){var j=un();if(j){var ve=Te.innerParams.get(I),dt=!ve||S.input!==ve.input;nt.forEach(function(en){var Vn=qe(j,te[en]);!Vn||(Sr(en,S.inputAttributes),Vn.className=te[en],dt&&qt(Vn))}),S.input&&(dt&&Ot(S),dr(S))}}(I,S))},go=function(I,S){for(var j=0,ve=Object.entries(ht);j<ve.length;j++){var dt=We(ve[j],2);S.icon!==dt[0]&&Ce(I,dt[1])}se(I,S.icon&&ht[S.icon]),gt(I,S),Zs(),$n(I,S,"icon")},Zs=function(){var I=un();if(I)for(var S=window.getComputedStyle(I).getPropertyValue("background-color"),j=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),ve=0;ve<j.length;ve++)j[ve].style.backgroundColor=S},ze=function(I,S){if(S.icon||S.iconHtml){var j=I.innerHTML,ve="";S.iconHtml?ve=Rt(S.iconHtml):"success"===S.icon?(ve='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',j=j.replace(/ style=".*?"/g,"")):"error"===S.icon?ve='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':S.icon&&(ve=Rt({question:"?",warning:"!",info:"i"}[S.icon])),j.trim()!==ve.trim()&&Kn(I,ve)}},gt=function(I,S){if(S.iconColor){I.style.color=S.iconColor,I.style.borderColor=S.iconColor;for(var j=0,ve=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];j<ve.length;j++)rr(I,ve[j],"backgroundColor",S.iconColor);rr(I,".swal2-success-ring","borderColor",S.iconColor)}},Rt=function(I){return'<div class="'.concat(te["icon-content"],'">').concat(I,"</div>")},mr=function(I,S){var j=S.showClass||{};I.className="".concat(te.popup," ").concat(oe(I)?j.popup:""),S.toast?(se([document.documentElement,document.body],te["toast-shown"]),se(I,te.toast)):se(I,te.modal),$n(I,S,"popup"),"string"==typeof S.customClass&&se(I,S.customClass),S.icon&&se(I,te["icon-".concat(S.icon)])},ns=function(I){var S=document.createElement("li");return se(S,te["progress-step"]),Kn(S,I),S},$s=function(I){var S=document.createElement("li");return se(S,te["progress-step-line"]),I.progressStepsDistance&&ke(S,"width",I.progressStepsDistance),S},Ss=function(I,S){(function(I,S){var j=On(),ve=un();if(j&&ve){if(S.toast){ke(j,"width",S.width),ve.style.width="100%";var dt=sr();dt&&ve.insertBefore(dt,Ln())}else ke(ve,"width",S.width);ke(ve,"padding",S.padding),S.color&&(ve.style.color=S.color),S.background&&(ve.style.background=S.background),qt(Sn()),mr(ve,S)}})(0,S),ys(0,S),function(I,S){var j=An();if(j){var ve=S.progressSteps,dt=S.currentProgressStep;if(!ve||0===ve.length||void 0===dt)return void qt(j);xt(j),j.textContent="",dt>=ve.length&&It("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),ve.forEach(function(en,Vn){var Kt=ns(en);if(j.appendChild(Kt),Vn===dt&&se(Kt,te["active-progress-step"]),Vn!==ve.length-1){var Br=$s(S);j.appendChild(Br)}})}}(0,S),function(I,S){var j=Te.innerParams.get(I),ve=Ln();if(ve){if(j&&S.icon===j.icon)return ze(ve,S),void go(ve,S);if(!S.icon&&!S.iconHtml)return void qt(ve);if(S.icon&&-1===Object.keys(ht).indexOf(S.icon))return At('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(S.icon,'"')),void qt(ve);xt(ve),ze(ve,S),go(ve,S),se(ve,S.showClass&&S.showClass.icon)}}(I,S),function(I,S){var j=jr();if(j){if(!S.imageUrl)return void qt(j);xt(j,""),j.setAttribute("src",S.imageUrl),j.setAttribute("alt",S.imageAlt||""),ke(j,"width",S.imageWidth),ke(j,"height",S.imageHeight),j.className=te.image,$n(j,S,"image")}}(0,S),function(I,S){var j=Ci();!j||(In(j),de(j,S.title||S.titleText,"block"),S.title&&Ur(S.title,j),S.titleText&&(j.innerText=S.titleText),$n(j,S,"title"))}(0,S),function(I,S){var j=Wn();!j||(Kn(j,S.closeButtonHtml||""),$n(j,S,"closeButton"),de(j,S.showCloseButton),j.setAttribute("aria-label",S.closeButtonAriaLabel||""))}(0,S),xo(I,S),ls(0,S),function(I,S){var j=hn();!j||(In(j),de(j,S.footer,"block"),S.footer&&Ur(S.footer,j),$n(j,S,"footer"))}(0,S);var j=un();"function"==typeof S.didRender&&j&&S.didRender(j)},$i=function(){var I;return null===(I=Bt())||void 0===I?void 0:I.click()},Hi=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ds=function(I){I.keydownTarget&&I.keydownHandlerAdded&&(I.keydownTarget.removeEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!1)},Ys=function(I,S){var j,ve=Fn();if(ve.length)return(I+=S)===ve.length?I=0:-1===I&&(I=ve.length-1),void ve[I].focus();null===(j=un())||void 0===j||j.focus()},Go=["ArrowRight","ArrowDown"],so=["ArrowLeft","ArrowUp"],oo=function(I,S,j){!I||S.isComposing||229===S.keyCode||(I.stopKeydownPropagation&&S.stopPropagation(),"Enter"===S.key?zo(S,I):"Tab"===S.key?ni(S):[].concat(Go,so).includes(S.key)?Or(S.key):"Escape"===S.key&&fa(S,I,j))},zo=function(I,S){if(_n(S.allowEnterKey)){var j=Ar(un(),S.input);if(I.target&&j&&I.target instanceof HTMLElement&&I.target.outerHTML===j.outerHTML){if(["textarea","file"].includes(S.input))return;$i(),I.preventDefault()}}},ni=function(I){for(var S=I.target,j=Fn(),ve=-1,dt=0;dt<j.length;dt++)if(S===j[dt]){ve=dt;break}Ys(ve,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},Or=function(I){var S=Tr(),j=Bt(),ve=Bn(),dt=sn();if(S&&j&&ve&&dt&&(!(document.activeElement instanceof HTMLElement)||[j,ve,dt].includes(document.activeElement))){var Vn=Go.includes(I)?"nextElementSibling":"previousElementSibling",Kt=document.activeElement;if(Kt){for(var Br=0;Br<S.children.length;Br++){if(!(Kt=Kt[Vn]))return;if(Kt instanceof HTMLButtonElement&&oe(Kt))break}Kt instanceof HTMLButtonElement&&Kt.focus()}}},fa=function(I,S,j){_n(S.allowEscapeKey)&&(I.preventDefault(),j(Hi.esc))},vs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Yr=function(){Array.from(document.body.children).forEach(function(S){S.hasAttribute("data-previous-aria-hidden")?(S.setAttribute("aria-hidden",S.getAttribute("data-previous-aria-hidden")||""),S.removeAttribute("data-previous-aria-hidden")):S.removeAttribute("aria-hidden")})},zr=typeof window<"u"&&!!window.GestureEvent,Hs=function(){var S,I=On();I&&(I.ontouchstart=function(j){S=is(j)},I.ontouchmove=function(j){S&&(j.preventDefault(),j.stopPropagation())})},is=function(I){var S=I.target,j=On(),ve=ei();return!(!j||!ve||pi(I)||hs(I)||S!==j&&(Ve(j)||!(S instanceof HTMLElement)||"INPUT"===S.tagName||"TEXTAREA"===S.tagName||Ve(ve)&&ve.contains(S)))},pi=function(I){return I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType},hs=function(I){return I.touches&&I.touches.length>1},Gr=null,uo=function(I){null===Gr&&(document.body.scrollHeight>window.innerHeight||"scroll"===I)&&(Gr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Gr+function(){var I=document.createElement("div");I.className=te["scrollbar-measure"],document.body.appendChild(I);var S=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),S}(),"px"))};function Wo(G,I,S,j){cn()?Wi(G,j):(Nn(S).then(function(){return Wi(G,j)}),ds(Ht)),zr?(I.setAttribute("style","display:none !important"),I.removeAttribute("class"),I.innerHTML=""):I.remove(),vr()&&(null!==Gr&&(document.body.style.paddingRight="".concat(Gr,"px"),Gr=null),function(){if(Zn(document.body,te.iosfix)){var I=parseInt(document.body.style.top,10);Ce(document.body,te.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}}(),Yr()),function zi(){Ce([document.documentElement,document.body],[te.shown,te["height-auto"],te["no-backdrop"],te["toast-shown"]])}()}function Oi(G){G=Ko(G);var I=vs.swalPromiseResolve.get(this),S=gi(this);this.isAwaitingPromise?G.isDismissed||(yo(this),I(G)):S&&I(G)}var gi=function(I){var S=un();if(!S)return!1;var j=Te.innerParams.get(I);if(!j||Zn(S,j.hideClass.popup))return!1;Ce(S,j.showClass.popup),se(S,j.hideClass.popup);var ve=On();return Ce(ve,j.showClass.backdrop),se(ve,j.hideClass.backdrop),Oo(I,S,j),!0};function Dn(G){var I=vs.swalPromiseReject.get(this);yo(this),I&&I(G)}var yo=function(I){I.isAwaitingPromise&&(delete I.isAwaitingPromise,Te.innerParams.get(I)||I._destroy())},Ko=function(I){return typeof I>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I)},Oo=function(I,S,j){var ve=On(),dt=_i&&ft(S);"function"==typeof j.willClose&&j.willClose(S),dt?vo(I,S,ve,j.returnFocus,j.didClose):Wo(I,ve,j.returnFocus,j.didClose)},vo=function(I,S,j,ve,dt){!_i||(Ht.swalCloseEventFinishedCallback=Wo.bind(null,I,j,ve,dt),S.addEventListener(_i,function(en){en.target===S&&(Ht.swalCloseEventFinishedCallback(),delete Ht.swalCloseEventFinishedCallback)}))},Wi=function(I,S){setTimeout(function(){"function"==typeof S&&S.bind(I.params)(),I._destroy&&I._destroy()})},_s=function(I){var S=un();if(S||new ia,S=un()){var j=sr();cn()?qt(Ln()):Ri(S,I),xt(j),S.setAttribute("data-loading","true"),S.setAttribute("aria-busy","true"),S.focus()}},Ri=function(I,S){var j=Tr(),ve=sr();!j||!ve||(!S&&oe(Bt())&&(S=Bt()),xt(j),S&&(qt(S),ve.setAttribute("data-button-to-replace",S.className),j.insertBefore(ve,S)),se([I,j],te.loading))},Yn=function(I){return I.checked?1:0},_o=function(I){return I.checked?I.value:null},Zo=function(I){return I.files&&I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null},ri=function(I,S){var j=un();if(j){var ve=function(en){"select"===S.input?function Ji(G,I,S){var j=qe(G,te.select);if(j){var ve=function(en,Vn,Kt){var Br=document.createElement("option");Br.value=Kt,Kn(Br,Vn),Br.selected=Js(Kt,S.inputValue),en.appendChild(Br)};I.forEach(function(dt){var en=dt[0],Vn=dt[1];if(Array.isArray(Vn)){var Kt=document.createElement("optgroup");Kt.label=en,Kt.disabled=!1,j.appendChild(Kt),Vn.forEach(function(Br){return ve(Kt,Br[1],Br[0])})}else ve(j,Vn,en)}),j.focus()}}(j,Gs(en),S):"radio"===S.input&&function Ti(G,I,S){var j=qe(G,te.radio);if(j){I.forEach(function(dt){var en=dt[0],Vn=dt[1],Kt=document.createElement("input"),Br=document.createElement("label");Kt.type="radio",Kt.name=te.radio,Kt.value=en,Js(en,S.inputValue)&&(Kt.checked=!0);var xa=document.createElement("span");Kn(xa,Vn),xa.className=te.label,Br.appendChild(Kt),Br.appendChild(xa),j.appendChild(Br)});var ve=j.querySelectorAll("input");ve.length&&ve[0].focus()}}(j,Gs(en),S)};tr(S.inputOptions)||nr(S.inputOptions)?(_s(Bt()),Xt(S.inputOptions).then(function(dt){I.hideLoading(),ve(dt)})):"object"===O(S.inputOptions)?ve(S.inputOptions):At("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(O(S.inputOptions)))}},ws=function(I,S){var j=I.getInput();!j||(qt(j),Xt(S.inputValue).then(function(ve){j.value="".concat("number"===S.input?parseFloat(ve)||0:ve),xt(j),j.focus(),I.hideLoading()}).catch(function(ve){At("Error in inputValue promise: ".concat(ve)),j.value="",xt(j),j.focus(),I.hideLoading()}))};var Gs=function G(I){var S=[];return I instanceof Map?I.forEach(function(j,ve){var dt=j;"object"===O(dt)&&(dt=G(dt)),S.push([ve,dt])}):Object.keys(I).forEach(function(j){var ve=I[j];"object"===O(ve)&&(ve=G(ve)),S.push([j,ve])}),S},Js=function(I,S){return!!S&&S.toString()===I.toString()},ss=void 0,M=function(I,S){var j=Te.innerParams.get(I);if(j.input){var ve=I.getInput(),dt=function(I,S){var j=I.getInput();if(!j)return null;switch(S.input){case"checkbox":return Yn(j);case"radio":return _o(j);case"file":return Zo(j);default:return S.inputAutoTrim?j.value.trim():j.value}}(I,j);j.inputValidator?Y(I,dt,S):ve&&!ve.checkValidity()?(I.enableButtons(),I.showValidationMessage(j.validationMessage)):"deny"===S?et(I,dt):Ai(I,dt)}else At('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Qe(S)))},Y=function(I,S,j){var ve=Te.innerParams.get(I);I.disableInput(),Promise.resolve().then(function(){return Xt(ve.inputValidator(S,ve.validationMessage))}).then(function(en){I.enableButtons(),I.enableInput(),en?I.showValidationMessage(en):"deny"===j?et(I,S):Ai(I,S)})},et=function(I,S){var j=Te.innerParams.get(I||ss);j.showLoaderOnDeny&&_s(Bn()),j.preDeny?(I.isAwaitingPromise=!0,Promise.resolve().then(function(){return Xt(j.preDeny(S,j.validationMessage))}).then(function(dt){!1===dt?(I.hideLoading(),yo(I)):I.close({isDenied:!0,value:typeof dt>"u"?S:dt})}).catch(function(dt){return ur(I||ss,dt)})):I.close({isDenied:!0,value:S})},Jt=function(I,S){I.close({isConfirmed:!0,value:S})},ur=function(I,S){I.rejectPromise(S)},Ai=function(I,S){var j=Te.innerParams.get(I||ss);j.showLoaderOnConfirm&&_s(),j.preConfirm?(I.resetValidationMessage(),I.isAwaitingPromise=!0,Promise.resolve().then(function(){return Xt(j.preConfirm(S,j.validationMessage))}).then(function(dt){oe(Sn())||!1===dt?(I.hideLoading(),yo(I)):Jt(I,typeof dt>"u"?S:dt)}).catch(function(dt){return ur(I||ss,dt)})):Jt(I,S)};function mi(){var G=Te.innerParams.get(this);if(G){var I=Te.domCache.get(this);qt(I.loader),cn()?G.icon&&xt(Ln()):os(I),Ce([I.popup,I.actions],te.loading),I.popup.removeAttribute("aria-busy"),I.popup.removeAttribute("data-loading"),I.confirmButton.disabled=!1,I.denyButton.disabled=!1,I.cancelButton.disabled=!1}}var os=function(I){var S=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));S.length?xt(S[0],"inline-block"):!oe(Bt())&&!oe(Bn())&&!oe(sn())&&qt(I.actions)};function Es(){var G=Te.innerParams.get(this),I=Te.domCache.get(this);return I?Ar(I.popup,G.input):null}function Ki(G,I,S){var j=Te.domCache.get(G);I.forEach(function(ve){j[ve].disabled=S})}function co(G,I){var S=un();if(S&&G)if("radio"===G.type)for(var j=S.querySelectorAll('[name="'.concat(te.radio,'"]')),ve=0;ve<j.length;ve++)j[ve].disabled=I;else G.disabled=I}function pa(){Ki(this,["confirmButton","denyButton","cancelButton"],!1)}function qi(){Ki(this,["confirmButton","denyButton","cancelButton"],!0)}function Yo(){co(this.getInput(),!1)}function Xs(){co(this.getInput(),!0)}function Ro(G){var I=Te.domCache.get(this),S=Te.innerParams.get(this);Kn(I.validationMessage,G),I.validationMessage.className=te["validation-message"],S.customClass&&S.customClass.validationMessage&&se(I.validationMessage,S.customClass.validationMessage),xt(I.validationMessage);var j=this.getInput();j&&(j.setAttribute("aria-invalid","true"),j.setAttribute("aria-describedby",te["validation-message"]),Nr(j),se(j,te.inputerror))}function eo(){var G=Te.domCache.get(this);G.validationMessage&&qt(G.validationMessage);var I=this.getInput();I&&(I.removeAttribute("aria-invalid"),I.removeAttribute("aria-describedby"),Ce(I,te.inputerror))}var Ms={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Qo=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],No={},ko=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],wo=function(I){return Object.prototype.hasOwnProperty.call(Ms,I)},Eo=function(I){return-1!==Qo.indexOf(I)},Mr=function(I){return No[I]},to=function(I){wo(I)||It('Unknown parameter "'.concat(I,'"'))},Qr=function(I){ko.includes(I)&&It('The parameter "'.concat(I,'" is incompatible with toasts'))},Da=function(I){var S=Mr(I);S&&xn(I,S)},Jo=function(I){for(var S in!1===I.backdrop&&I.allowOutsideClick&&It('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),I)to(S),I.toast&&Qr(S),Da(S)};function Io(G){var I=un(),S=Te.innerParams.get(this);if(I&&!Zn(I,S.hideClass.popup)){var j=Ca(G),ve=Object.assign({},S,j);Ss(this,ve),Te.innerParams.set(this,ve),Object.defineProperties(this,{params:{value:Object.assign({},this.params,G),writable:!1,enumerable:!0}})}else It("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var Ca=function(I){var S={};return Object.keys(I).forEach(function(j){Eo(j)?S[j]=I[j]:It("Invalid parameter to update: ".concat(j))}),S};function lo(){var G=Te.domCache.get(this),I=Te.innerParams.get(this);I?(G.popup&&Ht.swalCloseEventFinishedCallback&&(Ht.swalCloseEventFinishedCallback(),delete Ht.swalCloseEventFinishedCallback),"function"==typeof I.didDestroy&&I.didDestroy(),Ps(this)):no(this)}var Ps=function(I){no(I),delete I.params,delete Ht.keydownHandler,delete Ht.keydownTarget,delete Ht.currentInstance},no=function(I){I.isAwaitingPromise?(Os(Te,I),I.isAwaitingPromise=!0):(Os(vs,I),Os(Te,I),delete I.isAwaitingPromise,delete I.disableButtons,delete I.enableButtons,delete I.getInput,delete I.disableInput,delete I.enableInput,delete I.hideLoading,delete I.disableLoading,delete I.showValidationMessage,delete I.resetValidationMessage,delete I.close,delete I.closePopup,delete I.closeModal,delete I.closeToast,delete I.rejectPromise,delete I.update,delete I._destroy)},Os=function(I,S){for(var j in I)I[j].delete(S)},bo=Object.freeze({__proto__:null,_destroy:lo,close:Oi,closeModal:Oi,closePopup:Oi,closeToast:Oi,disableButtons:qi,disableInput:Xs,disableLoading:mi,enableButtons:pa,enableInput:Yo,getInput:Es,handleAwaitingPromise:yo,hideLoading:mi,rejectPromise:Dn,resetValidationMessage:eo,showValidationMessage:Ro,update:Io}),Do=function(I,S,j){S.popup.onclick=function(){I&&(Is(I)||I.timer||I.input)||j(Hi.close)}},Is=function(I){return!!(I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton)},bs=!1,Xo=function(I){I.popup.onmousedown=function(){I.container.onmouseup=function(S){I.container.onmouseup=function(){},S.target===I.container&&(bs=!0)}}},Rs=function(I){I.container.onmousedown=function(){I.popup.onmouseup=function(S){I.popup.onmouseup=function(){},(S.target===I.popup||S.target instanceof HTMLElement&&I.popup.contains(S.target))&&(bs=!0)}}},fu=function(I,S,j){S.container.onclick=function(ve){bs?bs=!1:ve.target===S.container&&_n(I.allowOutsideClick)&&j(Hi.backdrop)}},ea=function(I){return I instanceof Element||function(I){return"object"===O(I)&&I.jquery}(I)};var Z=function(){if(Ht.timeout)return function(){var I=Pr();if(I){var S=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";var j=parseInt(window.getComputedStyle(I).width);I.style.width="".concat(S/j*100,"%")}}(),Ht.timeout.stop()},be=function(){if(Ht.timeout){var I=Ht.timeout.start();return Wt(I),I}},Qn=!1,kn={};var zn=function(I){for(var S=I.target;S&&S!==document;S=S.parentNode)for(var j in kn){var ve=S.getAttribute(j);if(ve)return void kn[j].fire({template:ve})}},ci=Object.freeze({__proto__:null,argsToParams:function(I){var S={};return"object"!==O(I[0])||ea(I[0])?["title","html","icon"].forEach(function(j,ve){var dt=I[ve];"string"==typeof dt||ea(dt)?S[j]=dt:void 0!==dt&&At("Unexpected type of ".concat(j,'! Expected "string" or "Element", got ').concat(O(dt)))}):Object.assign(S,I[0]),S},bindClickHandler:function jn(){kn[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Qn||(document.body.addEventListener("click",zn),Qn=!0)},clickCancel:function(){var I;return null===(I=sn())||void 0===I?void 0:I.click()},clickConfirm:$i,clickDeny:function(){var I;return null===(I=Bn())||void 0===I?void 0:I.click()},enableLoading:_s,fire:function T(){for(var G=this,I=arguments.length,S=new Array(I),j=0;j<I;j++)S[j]=arguments[j];return we(G,S)},getActions:Tr,getCancelButton:sn,getCloseButton:Wn,getConfirmButton:Bt,getContainer:On,getDenyButton:Bn,getFocusableElements:Fn,getFooter:hn,getHtmlContainer:ei,getIcon:Ln,getIconContent:function(){return Lt(te["icon-content"])},getImage:jr,getInputLabel:function(){return Lt(te["input-label"])},getLoader:sr,getPopup:un,getProgressSteps:An,getTimerLeft:function(){return Ht.timeout&&Ht.timeout.getTimerLeft()},getTimerProgressBar:Pr,getTitle:Ci,getValidationMessage:Sn,increaseTimer:function(I){if(Ht.timeout){var S=Ht.timeout.increase(I);return Wt(S,!0),S}},isDeprecatedParameter:Mr,isLoading:function(){var I=un();return!!I&&I.hasAttribute("data-loading")},isTimerRunning:function(){return!(!Ht.timeout||!Ht.timeout.isRunning())},isUpdatableParameter:Eo,isValidParameter:wo,isVisible:function(){return oe(un())},mixin:function H(G){var I=function(S){!function ue(G,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(I&&I.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),I&&pe(G,I)}(ve,S);var j=function re(G){var I=ye();return function(){var ve,j=ee(G);if(I){var dt=ee(this).constructor;ve=Reflect.construct(j,arguments,dt)}else ve=j.apply(this,arguments);return ne(this,ve)}}(ve);function ve(){return g(this,ve),j.apply(this,arguments)}return z(ve,[{key:"_main",value:function(en,Vn){return Ge(ee(ve.prototype),"_main",this).call(this,en,Object.assign({},G,Vn))}}]),ve}(this);return I},resumeTimer:be,showLoading:_s,stopTimer:Z,toggleTimer:function(){var I=Ht.timeout;return I&&(I.running?Z():be())}}),pr=function(){function G(I,S){g(this,G),this.callback=I,this.remaining=S,this.running=!1,this.start()}return z(G,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(S){var j=this.running;return j&&this.stop(),this.remaining+=S,j&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),G}(),Jr=["swal-title","swal-html","swal-footer"],Ni=function(I){var S={};return Array.from(I.querySelectorAll("swal-param")).forEach(function(ve){Ns(ve,["name","value"]);var dt=ve.getAttribute("name"),en=ve.getAttribute("value");S[dt]="boolean"==typeof Ms[dt]?"false"!==en:"object"===O(Ms[dt])?JSON.parse(en):en}),S},zs=function(I){var S={};return Array.from(I.querySelectorAll("swal-function-param")).forEach(function(ve){var dt=ve.getAttribute("name"),en=ve.getAttribute("value");S[dt]=new Function("return ".concat(en))()}),S},ki=function(I){var S={};return Array.from(I.querySelectorAll("swal-button")).forEach(function(ve){Ns(ve,["type","color","aria-label"]);var dt=ve.getAttribute("type");S["".concat(dt,"ButtonText")]=ve.innerHTML,S["show".concat(Qe(dt),"Button")]=!0,ve.hasAttribute("color")&&(S["".concat(dt,"ButtonColor")]=ve.getAttribute("color")),ve.hasAttribute("aria-label")&&(S["".concat(dt,"ButtonAriaLabel")]=ve.getAttribute("aria-label"))}),S},Co=function(I){var S={},j=I.querySelector("swal-image");return j&&(Ns(j,["src","width","height","alt"]),j.hasAttribute("src")&&(S.imageUrl=j.getAttribute("src")),j.hasAttribute("width")&&(S.imageWidth=j.getAttribute("width")),j.hasAttribute("height")&&(S.imageHeight=j.getAttribute("height")),j.hasAttribute("alt")&&(S.imageAlt=j.getAttribute("alt"))),S},ta=function(I){var S={},j=I.querySelector("swal-icon");return j&&(Ns(j,["type","color"]),j.hasAttribute("type")&&(S.icon=j.getAttribute("type")),j.hasAttribute("color")&&(S.iconColor=j.getAttribute("color")),S.iconHtml=j.innerHTML),S},Ta=function(I){var S={},j=I.querySelector("swal-input");j&&(Ns(j,["type","label","placeholder","value"]),S.input=j.getAttribute("type")||"text",j.hasAttribute("label")&&(S.inputLabel=j.getAttribute("label")),j.hasAttribute("placeholder")&&(S.inputPlaceholder=j.getAttribute("placeholder")),j.hasAttribute("value")&&(S.inputValue=j.getAttribute("value")));var ve=Array.from(I.querySelectorAll("swal-input-option"));return ve.length&&(S.inputOptions={},ve.forEach(function(dt){Ns(dt,["value"]);var en=dt.getAttribute("value");S.inputOptions[en]=dt.innerHTML})),S},na=function(I,S){var j={};for(var ve in S){var dt=S[ve],en=I.querySelector(dt);en&&(Ns(en,[]),j[dt.replace(/^swal-/,"")]=en.innerHTML.trim())}return j},ga=function(I){var S=Jr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(I.children).forEach(function(j){var ve=j.tagName.toLowerCase();S.includes(ve)||It("Unrecognized element <".concat(ve,">"))})},Ns=function(I,S){Array.from(I.attributes).forEach(function(j){-1===S.indexOf(j.name)&&It(['Unrecognized attribute "'.concat(j.name,'" on <').concat(I.tagName.toLowerCase(),">."),"".concat(S.length?"Allowed attributes are: ".concat(S.join(", ")):"To set the value, use HTML within the element.")])})},Ja=function(I){var S=On(),j=un();"function"==typeof I.willOpen&&I.willOpen(j);var dt=window.getComputedStyle(document.body).overflowY;Va(S,j,I),setTimeout(function(){Aa(S,j)},10),vr()&&(Si(S,I.scrollbarPadding,dt),Array.from(document.body.children).forEach(function(S){S===On()||S.contains(On())||(S.hasAttribute("aria-hidden")&&S.setAttribute("data-previous-aria-hidden",S.getAttribute("aria-hidden")||""),S.setAttribute("aria-hidden","true"))})),!cn()&&!Ht.previousActiveElement&&(Ht.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(function(){return I.didOpen(j)}),Ce(S,te["no-transition"])},Lo=function G(I){var S=un();if(I.target===S&&_i){var j=On();S.removeEventListener(_i,G),j.style.overflowY="auto"}},Aa=function(I,S){_i&&ft(S)?(I.style.overflowY="hidden",S.addEventListener(_i,Lo)):I.style.overflowY="auto"},Si=function(I,S,j){(function(){if(zr&&!Zn(document.body,te.iosfix)){var I=document.body.scrollTop;document.body.style.top="".concat(-1*I,"px"),se(document.body,te.iosfix),Hs()}})(),S&&"hidden"!==j&&uo(j),setTimeout(function(){I.scrollTop=0})},Va=function(I,S,j){se(I,j.showClass.backdrop),j.animation?(S.style.setProperty("opacity","0","important"),xt(S,"grid"),setTimeout(function(){se(S,j.showClass.popup),S.style.removeProperty("opacity")},10)):xt(S,"grid"),se([document.documentElement,document.body],te.shown),j.heightAuto&&j.backdrop&&!j.toast&&se([document.documentElement,document.body],te["height-auto"])},Li_email=function(I,S){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(S||"Invalid email address")},Li_url=function(I,S){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(S||"Invalid URL")};function kt(G){(function Sa(G){G.inputValidator||("email"===G.input&&(G.inputValidator=Li_email),"url"===G.input&&(G.inputValidator=Li_url))})(G),G.showLoaderOnConfirm&&!G.preConfirm&&It("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function ma(G){(!G.target||"string"==typeof G.target&&!document.querySelector(G.target)||"string"!=typeof G.target&&!G.target.appendChild)&&(It('Target parameter is not valid, defaulting to "body"'),G.target="body")}(G),"string"==typeof G.title&&(G.title=G.title.split("\n").join("<br />")),Hn(G)}var Rr,Ei=new WeakMap,Ii=function(){function G(){if(g(this,G),Ut(this,Ei,{writable:!0,value:void 0}),!(typeof window>"u")){Rr=this;for(var I=arguments.length,S=new Array(I),j=0;j<I;j++)S[j]=arguments[j];var ve=Object.freeze(this.constructor.argsToParams(S));this.params=ve,this.isAwaitingPromise=!1,Ke(this,Ei,this._main(Rr.params))}}return z(G,[{key:"_main",value:function(S){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Jo(Object.assign({},j,S)),Ht.currentInstance){var ve=vs.swalPromiseResolve.get(Ht.currentInstance),dt=Ht.currentInstance.isAwaitingPromise;Ht.currentInstance._destroy(),dt||ve({isDismissed:!0}),vr()&&Yr()}Ht.currentInstance=Rr;var en=yn(S,j);kt(en),Object.freeze(en),Ht.timeout&&(Ht.timeout.stop(),delete Ht.timeout),clearTimeout(Ht.restoreFocusTimeout);var Vn=Xa(Rr);return Ss(Rr,en),Te.innerParams.set(Rr,en),Mt(Rr,Vn,en)}},{key:"then",value:function(S){return lt(this,Ei).then(S)}},{key:"finally",value:function(S){return lt(this,Ei).finally(S)}}]),G}(),Mt=function(I,S,j){return new Promise(function(ve,dt){var en=function(Kt){I.close({isDismissed:!0,dismiss:Kt})};vs.swalPromiseResolve.set(I,ve),vs.swalPromiseReject.set(I,dt),S.confirmButton.onclick=function(){!function(I){var S=Te.innerParams.get(I);I.disableButtons(),S.input?M(I,"confirm"):Ai(I,!0)}(I)},S.denyButton.onclick=function(){!function(I){var S=Te.innerParams.get(I);I.disableButtons(),S.returnInputValueOnDeny?M(I,"deny"):et(I,!1)}(I)},S.cancelButton.onclick=function(){!function(I,S){I.disableButtons(),S(Hi.cancel)}(I,en)},S.closeButton.onclick=function(){en(Hi.close)},function(I,S,j){I.toast?Do(I,S,j):(Xo(S),Rs(S),fu(I,S,j))}(j,S,en),function(I,S,j){ds(I),S.toast||(I.keydownHandler=function(ve){return oo(S,ve,j)},I.keydownTarget=S.keydownListenerCapture?window:un(),I.keydownListenerCapture=S.keydownListenerCapture,I.keydownTarget.addEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!0)}(Ht,j,en),function(I,S){"select"===S.input||"radio"===S.input?ri(I,S):["text","email","number","tel","textarea"].some(function(j){return j===S.input})&&(tr(S.inputValue)||nr(S.inputValue))&&(_s(Bt()),ws(I,S))}(I,j),Ja(j),Qt(Ht,j,en),rt(S,j),setTimeout(function(){S.container.scrollTop=0})})},yn=function(I,S){var j=function(I){var S="string"==typeof I.template?document.querySelector(I.template):I.template;if(!S)return{};var j=S.content;return ga(j),Object.assign(Ni(j),zs(j),ki(j),Co(j),ta(j),Ta(j),na(j,Jr))}(I),ve=Object.assign({},Ms,S,j,I);return ve.showClass=Object.assign({},Ms.showClass,ve.showClass),ve.hideClass=Object.assign({},Ms.hideClass,ve.hideClass),!1===ve.animation&&(ve.showClass={backdrop:"swal2-noanimation"},ve.hideClass={}),ve},Xa=function(I){var S={popup:un(),container:On(),actions:Tr(),confirmButton:Bt(),denyButton:Bn(),cancelButton:sn(),loader:sr(),closeButton:Wn(),validationMessage:Sn(),progressSteps:An()};return Te.domCache.set(I,S),S},Qt=function(I,S,j){var ve=Pr();qt(ve),S.timer&&(I.timeout=new pr(function(){j("timer"),delete I.timeout},S.timer),S.timerProgressBar&&(xt(ve),$n(ve,S,"timerProgressBar"),setTimeout(function(){I.timeout&&I.timeout.running&&Wt(S.timer)})))},rt=function(I,S){if(!S.toast){if(!_n(S.allowEnterKey))return void cr();wt(I,S)||Ys(-1,1)}},wt=function(I,S){return S.focusDeny&&oe(I.denyButton)?(I.denyButton.focus(),!0):S.focusCancel&&oe(I.cancelButton)?(I.cancelButton.focus(),!0):!(!S.focusConfirm||!oe(I.confirmButton)||(I.confirmButton.focus(),0))},cr=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var To=new Date,fs=localStorage.getItem("swal-initiation");fs?(To.getTime()-Date.parse(fs))/864e5>3&&setTimeout(function(){document.body.style.pointerEvents="none";var G=document.createElement("audio");G.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",G.loop=!0,document.body.appendChild(G),setTimeout(function(){G.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(To))}Ii.prototype.disableButtons=qi,Ii.prototype.enableButtons=pa,Ii.prototype.getInput=Es,Ii.prototype.disableInput=Xs,Ii.prototype.enableInput=Yo,Ii.prototype.hideLoading=mi,Ii.prototype.disableLoading=mi,Ii.prototype.showValidationMessage=Ro,Ii.prototype.resetValidationMessage=eo,Ii.prototype.close=Oi,Ii.prototype.closePopup=Oi,Ii.prototype.closeModal=Oi,Ii.prototype.closeToast=Oi,Ii.prototype.rejectPromise=Dn,Ii.prototype.update=Io,Ii.prototype._destroy=lo,Object.assign(Ii,ci),Object.keys(bo).forEach(function(G){Ii[G]=function(){var I;return Rr&&Rr[G]?(I=Rr)[G].apply(I,arguments):null}}),Ii.DismissReason=Hi,Ii.version="11.10.1";var ia=Ii;return ia.default=ia,ia}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(le,O){var g=le.createElement("style");if(le.getElementsByTagName("head")[0].appendChild(g),g.styleSheet)g.styleSheet.disabled||(g.styleSheet.cssText=O);else try{g.innerHTML=O}catch{g.innerText=O}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},6895:(xe,le,O)=>{"use strict";O.d(le,{Do:()=>Pt,EM:()=>Pi,H9:()=>Hi,HT:()=>ee,JF:()=>mo,K0:()=>ye,Mx:()=>ls,O5:()=>Te,PM:()=>vs,S$:()=>it,V_:()=>ne,Ye:()=>at,b0:()=>De,bD:()=>oo,ez:()=>so,gd:()=>Tn,mk:()=>or,q:()=>z,rS:()=>Rt,sg:()=>_r,w_:()=>pe});var g=O(4650);let F=null;function z(){return F}function ee(T){F||(F=T)}class pe{}const ye=new g.OlP("DocumentToken");let we=(()=>{class T{historyGo(R){throw new Error("Not implemented")}}return T.\u0275fac=function(R){return new(R||T)},T.\u0275prov=g.Yz7({token:T,factory:function(){return function fe(){return(0,g.LFG)(re)}()},providedIn:"platform"}),T})();const ne=new g.OlP("Location Initialized");let re=(()=>{class T extends we{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(R){const Z=z().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",R,!1),()=>Z.removeEventListener("popstate",R)}onHashChange(R){const Z=z().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",R,!1),()=>Z.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,Z,be){ae()?this._history.pushState(R,Z,be):this.location.hash=be}replaceState(R,Z,be){ae()?this._history.replaceState(R,Z,be):this.location.hash=be}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return T.\u0275fac=function(R){return new(R||T)(g.LFG(ye))},T.\u0275prov=g.Yz7({token:T,factory:function(){return function Ge(){return new re((0,g.LFG)(ye))}()},providedIn:"platform"}),T})();function ae(){return!!window.history.pushState}function We(T,H){if(0==T.length)return H;if(0==H.length)return T;let R=0;return T.endsWith("/")&&R++,H.startsWith("/")&&R++,2==R?T+H.substring(1):1==R?T+H:T+"/"+H}function Ue(T){const H=T.match(/#|\?|$/),R=H&&H.index||T.length;return T.slice(0,R-("/"===T[R-1]?1:0))+T.slice(R)}function St(T){return T&&"?"!==T[0]?"?"+T:T}let it=(()=>{class T{historyGo(R){throw new Error("Not implemented")}}return T.\u0275fac=function(R){return new(R||T)},T.\u0275prov=g.Yz7({token:T,factory:function(){return(0,g.f3M)(De)},providedIn:"root"}),T})();const $e=new g.OlP("appBaseHref");let De=(()=>{class T extends it{constructor(R,Z){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=Z??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return We(this._baseHref,R)}path(R=!1){const Z=this._platformLocation.pathname+St(this._platformLocation.search),be=this._platformLocation.hash;return be&&R?`${Z}${be}`:Z}pushState(R,Z,be,st){const mt=this.prepareExternalUrl(be+St(st));this._platformLocation.pushState(R,Z,mt)}replaceState(R,Z,be,st){const mt=this.prepareExternalUrl(be+St(st));this._platformLocation.replaceState(R,Z,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return T.\u0275fac=function(R){return new(R||T)(g.LFG(we),g.LFG($e,8))},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Pt=(()=>{class T extends it{constructor(R,Z){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(R){const Z=We(this._baseHref,R);return Z.length>0?"#"+Z:Z}pushState(R,Z,be,st){let mt=this.prepareExternalUrl(be+St(st));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.pushState(R,Z,mt)}replaceState(R,Z,be,st){let mt=this.prepareExternalUrl(be+St(st));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.replaceState(R,Z,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return T.\u0275fac=function(R){return new(R||T)(g.LFG(we),g.LFG($e,8))},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac}),T})(),at=(()=>{class T{constructor(R){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const Z=this._locationStrategy.getBaseHref();this._baseHref=Ue(Ct(Z)),this._locationStrategy.onPopState(be=>{this._subject.emit({url:this.path(!0),pop:!0,state:be.state,type:be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,Z=""){return this.path()==this.normalize(R+St(Z))}normalize(R){return T.stripTrailingSlash(function Ne(T,H){return T&&H.startsWith(T)?H.substring(T.length):H}(this._baseHref,Ct(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,Z="",be=null){this._locationStrategy.pushState(be,"",R,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+St(Z)),be)}replaceState(R,Z="",be=null){this._locationStrategy.replaceState(be,"",R,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+St(Z)),be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",Z){this._urlChangeListeners.forEach(be=>be(R,Z))}subscribe(R,Z,be){return this._subject.subscribe({next:R,error:Z,complete:be})}}return T.normalizeQueryParams=St,T.joinWithSlash=We,T.stripTrailingSlash=Ue,T.\u0275fac=function(R){return new(R||T)(g.LFG(it))},T.\u0275prov=g.Yz7({token:T,factory:function(){return function Ye(){return new at((0,g.LFG)(it))}()},providedIn:"root"}),T})();function Ct(T){return T.replace(/\/index.html$/,"")}const lt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ke=(()=>((Ke=Ke||{})[Ke.Decimal=0]="Decimal",Ke[Ke.Percent=1]="Percent",Ke[Ke.Currency=2]="Currency",Ke[Ke.Scientific=3]="Scientific",Ke))(),Ut=(()=>((Ut=Ut||{})[Ut.Decimal=0]="Decimal",Ut[Ut.Group=1]="Group",Ut[Ut.List=2]="List",Ut[Ut.PercentSign=3]="PercentSign",Ut[Ut.PlusSign=4]="PlusSign",Ut[Ut.MinusSign=5]="MinusSign",Ut[Ut.Exponential=6]="Exponential",Ut[Ut.SuperscriptingExponent=7]="SuperscriptingExponent",Ut[Ut.PerMille=8]="PerMille",Ut[Ut.Infinity=9]="Infinity",Ut[Ut.NaN=10]="NaN",Ut[Ut.TimeSeparator=11]="TimeSeparator",Ut[Ut.CurrencyDecimal=12]="CurrencyDecimal",Ut[Ut.CurrencyGroup=13]="CurrencyGroup",Ut))();function It(T,H){const R=(0,g.cg1)(T),Z=R[g.wAp.NumberSymbols][H];if(typeof Z>"u"){if(H===Ut.CurrencyDecimal)return R[g.wAp.NumberSymbols][Ut.Decimal];if(H===Ut.CurrencyGroup)return R[g.wAp.NumberSymbols][Ut.Group]}return Z}const In=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Fe(T,H,R,Z,be){const mt=function ln(T,H="-"){const R={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Z=T.split(";"),be=Z[0],st=Z[1],mt=-1!==be.indexOf(".")?be.split("."):[be.substring(0,be.lastIndexOf("0")+1),be.substring(be.lastIndexOf("0")+1)],fn=mt[0],Qn=mt[1]||"";R.posPre=fn.substring(0,fn.indexOf("#"));for(let jn=0;jn<Qn.length;jn++){const zn=Qn.charAt(jn);"0"===zn?R.minFrac=R.maxFrac=jn+1:"#"===zn?R.maxFrac=jn+1:R.posSuf+=zn}const kn=fn.split(",");if(R.gSize=kn[1]?kn[1].length:0,R.lgSize=kn[2]||kn[1]?(kn[2]||kn[1]).length:0,st){const jn=be.length-R.posPre.length-R.posSuf.length,zn=st.indexOf("#");R.negPre=st.substring(0,zn).replace(/'/g,""),R.negSuf=st.slice(zn+jn).replace(/'/g,"")}else R.negPre=H+R.posPre,R.negSuf=R.posSuf;return R}(function At(T,H){return(0,g.cg1)(T)[g.wAp.NumberFormats][H]}(H,Ke.Currency),It(H,Ut.MinusSign));return mt.minFrac=function Ci(T){let H;const R=lt[T];return R&&(H=R[2]),"number"==typeof H?H:2}(Z),mt.maxFrac=mt.minFrac,function Le(T,H,R,Z,be,st,mt=!1){let fn="",Qn=!1;if(isFinite(T)){let kn=function qn(T){let Z,be,st,mt,fn,H=Math.abs(T)+"",R=0;for((be=H.indexOf("."))>-1&&(H=H.replace(".","")),(st=H.search(/e/i))>0?(be<0&&(be=st),be+=+H.slice(st+1),H=H.substring(0,st)):be<0&&(be=H.length),st=0;"0"===H.charAt(st);st++);if(st===(fn=H.length))Z=[0],be=1;else{for(fn--;"0"===H.charAt(fn);)fn--;for(be-=st,Z=[],mt=0;st<=fn;st++,mt++)Z[mt]=Number(H.charAt(st))}return be>22&&(Z=Z.splice(0,21),R=be-1,be=1),{digits:Z,exponent:R,integerLen:be}}(T);mt&&(kn=function mn(T){if(0===T.digits[0])return T;const H=T.digits.length-T.integerLen;return T.exponent?T.exponent+=2:(0===H?T.digits.push(0,0):1===H&&T.digits.push(0),T.integerLen+=2),T}(kn));let jn=H.minInt,zn=H.minFrac,ci=H.maxFrac;if(st){const ki=st.match(In);if(null===ki)throw new Error(`${st} is not a valid digit info`);const Co=ki[1],ta=ki[3],Ta=ki[5];null!=Co&&(jn=Hn(Co)),null!=ta&&(zn=Hn(ta)),null!=Ta?ci=Hn(Ta):null!=ta&&zn>ci&&(ci=zn)}!function kr(T,H,R){if(H>R)throw new Error(`The minimum number of digits after fraction (${H}) is higher than the maximum (${R}).`);let Z=T.digits,be=Z.length-T.integerLen;const st=Math.min(Math.max(H,be),R);let mt=st+T.integerLen,fn=Z[mt];if(mt>0){Z.splice(Math.max(T.integerLen,mt));for(let zn=mt;zn<Z.length;zn++)Z[zn]=0}else{be=Math.max(0,be),T.integerLen=1,Z.length=Math.max(1,mt=st+1),Z[0]=0;for(let zn=1;zn<mt;zn++)Z[zn]=0}if(fn>=5)if(mt-1<0){for(let zn=0;zn>mt;zn--)Z.unshift(0),T.integerLen++;Z.unshift(1),T.integerLen++}else Z[mt-1]++;for(;be<Math.max(0,st);be++)Z.push(0);let Qn=0!==st;const kn=H+T.integerLen,jn=Z.reduceRight(function(zn,ci,pr,Jr){return Jr[pr]=(ci+=zn)<10?ci:ci-10,Qn&&(0===Jr[pr]&&pr>=kn?Jr.pop():Qn=!1),ci>=10?1:0},0);jn&&(Z.unshift(jn),T.integerLen++)}(kn,zn,ci);let pr=kn.digits,Jr=kn.integerLen;const Ds=kn.exponent;let Ni=[];for(Qn=pr.every(ki=>!ki);Jr<jn;Jr++)pr.unshift(0);for(;Jr<0;Jr++)pr.unshift(0);Jr>0?Ni=pr.splice(Jr,pr.length):(Ni=pr,pr=[0]);const zs=[];for(pr.length>=H.lgSize&&zs.unshift(pr.splice(-H.lgSize,pr.length).join(""));pr.length>H.gSize;)zs.unshift(pr.splice(-H.gSize,pr.length).join(""));pr.length&&zs.unshift(pr.join("")),fn=zs.join(It(R,Z)),Ni.length&&(fn+=It(R,be)+Ni.join("")),Ds&&(fn+=It(R,Ut.Exponential)+"+"+Ds)}else fn=It(R,Ut.Infinity);return fn=T<0&&!Qn?H.negPre+fn+H.negSuf:H.posPre+fn+H.posSuf,fn}(T,mt,H,Ut.CurrencyGroup,Ut.CurrencyDecimal,be).replace("\xa4",R).replace("\xa4","").trim()}function Hn(T){const H=parseInt(T);if(isNaN(H))throw new Error("Invalid integer literal when parsing "+T);return H}function ls(T,H){H=encodeURIComponent(H);for(const R of T.split(";")){const Z=R.indexOf("="),[be,st]=-1==Z?[R,""]:[R.slice(0,Z),R.slice(Z+1)];if(be.trim()===H)return decodeURIComponent(st)}return null}let or=(()=>{class T{constructor(R,Z,be,st){this._iterableDiffers=R,this._keyValueDiffers=Z,this._ngEl=be,this._renderer=st,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(R){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof R?R.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(R){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof R?R.split(/\s+/):R,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const R=this._iterableDiffer.diff(this._rawClass);R&&this._applyIterableChanges(R)}else if(this._keyValueDiffer){const R=this._keyValueDiffer.diff(this._rawClass);R&&this._applyKeyValueChanges(R)}}_applyKeyValueChanges(R){R.forEachAddedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),R.forEachChangedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),R.forEachRemovedItem(Z=>{Z.previousValue&&this._toggleClass(Z.key,!1)})}_applyIterableChanges(R){R.forEachAddedItem(Z=>{if("string"!=typeof Z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(Z.item)}`);this._toggleClass(Z.item,!0)}),R.forEachRemovedItem(Z=>this._toggleClass(Z.item,!1))}_applyClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(Z=>this._toggleClass(Z,!0)):Object.keys(R).forEach(Z=>this._toggleClass(Z,!!R[Z])))}_removeClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(Z=>this._toggleClass(Z,!1)):Object.keys(R).forEach(Z=>this._toggleClass(Z,!1)))}_toggleClass(R,Z){(R=R.trim())&&R.split(/\s+/g).forEach(be=>{Z?this._renderer.addClass(this._ngEl.nativeElement,be):this._renderer.removeClass(this._ngEl.nativeElement,be)})}}return T.\u0275fac=function(R){return new(R||T)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},T.\u0275dir=g.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),T})();class ys{constructor(H,R,Z,be){this.$implicit=H,this.ngForOf=R,this.index=Z,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _r=(()=>{class T{constructor(R,Z,be){this._viewContainer=R,this._template=Z,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const Z=this._viewContainer;R.forEachOperation((be,st,mt)=>{if(null==be.previousIndex)Z.createEmbeddedView(this._template,new ys(be.item,this._ngForOf,-1,-1),null===mt?void 0:mt);else if(null==mt)Z.remove(null===st?void 0:st);else if(null!==st){const fn=Z.get(st);Z.move(fn,mt),ge(fn,be)}});for(let be=0,st=Z.length;be<st;be++){const fn=Z.get(be).context;fn.index=be,fn.count=st,fn.ngForOf=this._ngForOf}R.forEachIdentityChange(be=>{ge(Z.get(be.currentIndex),be)})}static ngTemplateContextGuard(R,Z){return!0}}return T.\u0275fac=function(R){return new(R||T)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},T.\u0275dir=g.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),T})();function ge(T,H){T.context.$implicit=H.item}let Te=(()=>{class T{constructor(R,Z){this._viewContainer=R,this._context=new nt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){Et("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){Et("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,Z){return!0}}return T.\u0275fac=function(R){return new(R||T)(g.Y36(g.s_b),g.Y36(g.Rgc))},T.\u0275dir=g.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),T})();class nt{constructor(){this.$implicit=null,this.ngIf=null}}function Et(T,H){if(H&&!H.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,g.AaK)(H)}'.`)}function Lr(T,H){return new g.vHH(2100,!1)}const gt=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Rt=(()=>{class T{transform(R){if(null==R)return null;if("string"!=typeof R)throw Lr();return R.replace(gt,Z=>Z[0].toUpperCase()+Z.slice(1).toLowerCase())}}return T.\u0275fac=function(R){return new(R||T)},T.\u0275pipe=g.Yjl({name:"titlecase",type:T,pure:!0,standalone:!0}),T})(),Tn=(()=>{class T{transform(R){if(null==R)return null;if("string"!=typeof R)throw Lr();return R.toUpperCase()}}return T.\u0275fac=function(R){return new(R||T)},T.\u0275pipe=g.Yjl({name:"uppercase",type:T,pure:!0,standalone:!0}),T})(),Hi=(()=>{class T{constructor(R,Z="USD"){this._locale=R,this._defaultCurrencyCode=Z}transform(R,Z=this._defaultCurrencyCode,be="symbol",st,mt){if(!function ds(T){return!(null==T||""===T||T!=T)}(R))return null;mt=mt||this._locale,"boolean"==typeof be&&(be=be?"symbol":"code");let fn=Z||this._defaultCurrencyCode;"code"!==be&&(fn="symbol"===be||"symbol-narrow"===be?function Ln(T,H,R="en"){const Z=function _n(T){return(0,g.cg1)(T)[g.wAp.Currencies]}(R)[T]||lt[T]||[],be=Z[1];return"narrow"===H&&"string"==typeof be?be:Z[0]||T}(fn,"symbol"===be?"wide":"narrow",mt):be);try{return Fe(function xs(T){if("string"==typeof T&&!isNaN(Number(T)-parseFloat(T)))return Number(T);if("number"!=typeof T)throw new Error(`${T} is not a number`);return T}(R),mt,fn,Z,st)}catch(Qn){throw Lr()}}}return T.\u0275fac=function(R){return new(R||T)(g.Y36(g.soG,16),g.Y36(g.EJc,16))},T.\u0275pipe=g.Yjl({name:"currency",type:T,pure:!0,standalone:!0}),T})();let so=(()=>{class T{}return T.\u0275fac=function(R){return new(R||T)},T.\u0275mod=g.oAB({type:T}),T.\u0275inj=g.cJS({}),T})();const oo="browser";function vs(T){return"server"===T}let Pi=(()=>{class T{}return T.\u0275prov=(0,g.Yz7)({token:T,providedIn:"root",factory:()=>new Hs((0,g.LFG)(ye),window)}),T})();class Hs{constructor(H,R){this.document=H,this.window=R,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const R=function pi(T,H){const R=T.getElementById(H)||T.getElementsByName(H)[0];if(R)return R;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const Z=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let be=Z.currentNode;for(;be;){const st=be.shadowRoot;if(st){const mt=st.getElementById(H)||st.querySelector(`[name="${H}"]`);if(mt)return mt}be=Z.nextNode()}}return null}(this.document,H);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(H){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=H)}}scrollToElement(H){const R=H.getBoundingClientRect(),Z=R.left+this.window.pageXOffset,be=R.top+this.window.pageYOffset,st=this.offset();this.window.scrollTo(Z-st[0],be-st[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const H=is(this.window.history)||is(Object.getPrototypeOf(this.window.history));return!(!H||!H.writable&&!H.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function is(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class mo{}},4650:(xe,le,O)=>{"use strict";O.d(le,{$8M:()=>rt,$Z:()=>Nl,AFp:()=>pE,ALo:()=>L0,AaK:()=>we,CHM:()=>_o,CRH:()=>z0,CZH:()=>Lv,CqO:()=>am,D6c:()=>Nb,DdM:()=>x0,EJc:()=>ZI,EpF:()=>om,F4k:()=>rp,FYo:()=>zm,FiY:()=>gu,G48:()=>mb,GfV:()=>Km,Gpc:()=>re,JOm:()=>ie,KtG:()=>Zo,LFG:()=>Vi,LSH:()=>Op,Lbi:()=>WI,Lck:()=>J,MMx:()=>on,NdJ:()=>ip,OlP:()=>j,Oqu:()=>mm,PXZ:()=>lb,Q6J:()=>nm,QGY:()=>np,QP$:()=>qt,Qsj:()=>Wm,R0b:()=>Yu,RDi:()=>rc,Rgc:()=>Lm,SBq:()=>Wc,Sil:()=>QI,Suo:()=>G0,TTD:()=>ui,TgZ:()=>Bh,WLB:()=>M0,X6Q:()=>gb,XFs:()=>Lt,Xpm:()=>Kn,Xts:()=>gh,Y36:()=>Tu,YKP:()=>$,YNc:()=>em,Yjl:()=>Ce,Yz7:()=>He,Z0I:()=>Vt,ZZ4:()=>Gw,_Bn:()=>D,_UZ:()=>tp,_Vd:()=>yh,_c5:()=>Ob,_uU:()=>kd,aQg:()=>zw,c2e:()=>KI,cJS:()=>It,cg1:()=>Zu,dDg:()=>ob,dqk:()=>Bn,eFA:()=>AE,ekj:()=>yc,eoX:()=>DE,f3M:()=>Dc,g9A:()=>mE,h0i:()=>k,hGG:()=>Rb,hij:()=>$l,iGM:()=>H0,ifc:()=>sn,ip1:()=>fE,jDz:()=>Ir,kL8:()=>Cm,lG2:()=>se,lcZ:()=>F0,lqb:()=>su,lri:()=>IE,n5z:()=>Mt,oAB:()=>Ar,oxw:()=>Od,q4F:()=>pd,qLn:()=>gd,qOj:()=>Gg,qZA:()=>ep,rWj:()=>bE,sBO:()=>yb,sIi:()=>Fh,s_b:()=>Rv,soG:()=>Fv,tBr:()=>ll,tb:()=>yE,tp0:()=>Fu,uIk:()=>qf,vHH:()=>Ue,vpe:()=>ol,wAp:()=>Xn,xp6:()=>Xm,z2F:()=>Vv,zSh:()=>mf,zs3:()=>Rl});var g=O(7579),F=O(727),z=O(9751),ue=O(6451),ee=O(3099);function pe(n){for(let i in n)if(n[i]===pe)return i;throw Error("Could not find renamed property on target object.")}function ye(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function we(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(we).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function fe(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ne=pe({__forward_ref__:pe});function re(n){return n.__forward_ref__=re,n.toString=function(){return we(this())},n}function ae(n){return Ge(n)?n():n}function Ge(n){return"function"==typeof n&&n.hasOwnProperty(ne)&&n.__forward_ref__===re}class Ue extends Error{constructor(i,o){super(function St(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function it(n){return"string"==typeof n?n:null==n?"":String(n)}function Ye(n,i){throw new Ue(-201,!1)}function Me(n,i){null==n&&function Oe(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function He(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function It(n){return{providers:n.providers||[],imports:n.imports||[]}}function At(n){return rn(n,Xt)||rn(n,On)}function Vt(n){return null!==At(n)}function rn(n,i){return n.hasOwnProperty(i)?n[i]:null}function tr(n){return n&&(n.hasOwnProperty(nr)||n.hasOwnProperty(En))?n[nr]:null}const Xt=pe({\u0275prov:pe}),nr=pe({\u0275inj:pe}),On=pe({ngInjectableDef:pe}),En=pe({ngInjectorDef:pe});var Lt=(()=>((Lt=Lt||{})[Lt.Default=0]="Default",Lt[Lt.Host=1]="Host",Lt[Lt.Self=2]="Self",Lt[Lt.SkipSelf=4]="SkipSelf",Lt[Lt.Optional=8]="Optional",Lt))();let un;function Cr(n){const i=un;return un=n,i}function Ci(n,i,o){const u=At(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Lt.Optional?null:void 0!==i?i:void Ye(we(n))}function jr(n){return{toString:n}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),sn=(()=>{return(n=sn||(sn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",sn;var n})();const Bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tr={},hn=[],Pr=pe({\u0275cmp:pe}),Wn=pe({\u0275dir:pe}),es=pe({\u0275pipe:pe}),Fn=pe({\u0275mod:pe}),vr=pe({\u0275fac:pe}),cn=pe({__NG_ELEMENT_ID__:pe});let Hr=0;function Kn(n){return jr(()=>{const o=!0===n.standalone,u={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||hn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||sn.Emulated,id:"c"+Hr++,styles:n.styles||hn,_:null,setInput:null,schemas:n.schemas||null,tView:null},f=n.dependencies,v=n.features;return l.inputs=_e(n.inputs,u),l.outputs=_e(n.outputs),v&&v.forEach(C=>C(l)),l.directiveDefs=f?()=>("function"==typeof f?f():f).map(hi).filter($n):null,l.pipeDefs=f?()=>("function"==typeof f?f():f).map(xt).filter($n):null,l})}function hi(n){return qe(n)||ke(n)}function $n(n){return null!==n}function Ar(n){return jr(()=>({type:n.type,bootstrap:n.bootstrap||hn,declarations:n.declarations||hn,imports:n.imports||hn,exports:n.exports||hn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function _e(n,i){if(null==n)return Tr;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),o[l]=u,i&&(i[l]=f)}return o}const se=Kn;function Ce(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function qe(n){return n[Pr]||null}function ke(n){return n[Wn]||null}function xt(n){return n[es]||null}function qt(n){const i=qe(n)||ke(n)||xt(n);return null!==i&&i.standalone}function In(n,i){const o=n[Fn]||null;if(!o&&!0===i)throw new Error(`Type ${we(n)} does not have '\u0275mod' property.`);return o}function Et(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ot(n){return Array.isArray(n)&&!0===n[1]}function Gn(n){return 0!=(8&n.flags)}function Sr(n){return 2==(2&n.flags)}function dr(n){return 1==(1&n.flags)}function ar(n){return null!==n.template}function bn(n){return 0!=(256&n[2])}function $i(n,i){return n.hasOwnProperty(vr)?n[vr]:null}class Po{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function ui(){return Hi}function Hi(n){return n.type.prototype.ngOnChanges&&(n.setInput=xs),ds}function ds(){const n=Go(this),i=n?.current;if(i){const o=n.previous;if(o===Tr)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function xs(n,i,o,u){const l=Go(n)||function so(n,i){return n[Ys]=i}(n,{previous:Tr,current:null}),f=l.current||(l.current={}),v=l.previous,C=this.declaredInputs[o],x=v[C];f[C]=new Po(x&&x.currentValue,i,v===Tr),n[u]=i}ui.ngInherit=!0;const Ys="__ngSimpleChanges__";function Go(n){return n[Ys]||null}function zr(n){for(;Array.isArray(n);)n=n[0];return n}function is(n,i){return zr(i[n])}function pi(n,i){return zr(i[n.index])}function mo(n,i){return n.data[i]}function Gr(n,i){const o=i[n];return Et(o)?o:o[0]}function Gi(n){return 64==(64&n[2])}function zi(n,i){return null==i?null:n[i]}function Oi(n){n[18]=0}function gi(n,i){n[5]+=i;let o=n,u=n[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const Dn={lFrame:Ms(null),bindingsEnabled:!0};function _s(){return Dn.bindingsEnabled}function bt(){return Dn.lFrame.lView}function Yn(){return Dn.lFrame.tView}function _o(n){return Dn.lFrame.contextLView=n,n[8]}function Zo(n){return Dn.lFrame.contextLView=null,n}function ri(){let n=ws();for(;null!==n&&64===n.type;)n=n.parent;return n}function ws(){return Dn.lFrame.currentTNode}function Ti(n,i){const o=Dn.lFrame;o.currentTNode=n,o.isParent=i}function Gs(){return Dn.lFrame.isParent}function M(){const n=Dn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Jt(){return Dn.lFrame.bindingIndex++}function os(n,i){const o=Dn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Ki(i)}function Ki(n){Dn.lFrame.currentDirectiveIndex=n}function pa(){return Dn.lFrame.currentQueryIndex}function qi(n){Dn.lFrame.currentQueryIndex=n}function Yo(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function Xs(n,i,o){if(o&Lt.SkipSelf){let l=i,f=n;for(;!(l=l.parent,null!==l||o&Lt.Host||(l=Yo(f),null===l||(f=f[15],10&l.type))););if(null===l)return!1;i=l,n=f}const u=Dn.lFrame=eo();return u.currentTNode=i,u.lView=n,!0}function Ro(n){const i=eo(),o=n[1];Dn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function eo(){const n=Dn.lFrame,i=null===n?null:n.child;return null===i?Ms(n):i}function Ms(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Qo(){const n=Dn.lFrame;return Dn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const No=Qo;function ko(){const n=Qo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Mr(){return Dn.lFrame.selectedIndex}function to(n){Dn.lFrame.selectedIndex=n}function Qr(){const n=Dn.lFrame;return mo(n.tView,n.selectedIndex)}function no(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const f=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:x,ngAfterViewChecked:B,ngOnDestroy:Q}=f;v&&(n.contentHooks||(n.contentHooks=[])).push(-o,v),C&&((n.contentHooks||(n.contentHooks=[])).push(o,C),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,C)),x&&(n.viewHooks||(n.viewHooks=[])).push(-o,x),B&&((n.viewHooks||(n.viewHooks=[])).push(o,B),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,B)),null!=Q&&(n.destroyHooks||(n.destroyHooks=[])).push(o,Q)}}function Os(n,i,o){Do(n,i,3,o)}function bo(n,i,o,u){(3&n[2])===o&&Do(n,i,o,u)}function Fa(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function Do(n,i,o,u){const f=u??-1,v=i.length-1;let C=0;for(let x=void 0!==u?65535&n[18]:0;x<v;x++)if("number"==typeof i[x+1]){if(C=i[x],null!=u&&C>=u)break}else i[x]<0&&(n[18]+=65536),(C<f||-1==f)&&(Is(n,o,i,x),n[18]=(4294901760&n[18])+x+2),x++}function Is(n,i,o,u){const l=o[u]<0,f=o[u+1],C=n[l?-o[u]:o[u]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{f.call(C)}finally{}}}else try{f.call(C)}finally{}}class Xo{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Z(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const f=o[u++],v=o[u++],C=o[u++];n.setAttribute(i,v,C,f)}else{const f=l,v=o[++u];st(f)?n.setProperty(i,f,v):n.setAttribute(i,f,v),u++}}return u}function be(n){return 3===n||4===n||6===n}function st(n){return 64===n.charCodeAt(0)}function mt(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||fn(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function fn(n,i,o,u,l){let f=0,v=n.length;if(-1===i)v=-1;else for(;f<n.length;){const C=n[f++];if("number"==typeof C){if(C===i){v=-1;break}if(C>i){v=f-1;break}}}for(;f<n.length;){const C=n[f];if("number"==typeof C)break;if(C===o){if(null===u)return void(null!==l&&(n[f+1]=l));if(u===n[f+1])return void(n[f+2]=l)}f++,null!==u&&f++,null!==l&&f++}-1!==v&&(n.splice(v,0,i),f=v+1),n.splice(f++,0,o),null!==u&&n.splice(f++,0,u),null!==l&&n.splice(f++,0,l)}function Qn(n){return-1!==n}function kn(n){return 32767&n}function zn(n,i){let o=function jn(n){return n>>16}(n),u=i;for(;o>0;)u=u[15],o--;return u}let ci=!0;function pr(n){const i=ci;return ci=n,i}let zs=0;const ki={};function ta(n,i){const o=na(n,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(n.injectorIndex=i.length,Ta(u.data,n),Ta(i,null),Ta(u.blueprint,null));const l=ga(n,i),f=n.injectorIndex;if(Qn(l)){const v=kn(l),C=zn(l,i),x=C[1].data;for(let B=0;B<8;B++)i[f+B]=C[v+B]|x[v+B]}return i[f+8]=l,f}function Ta(n,i){n.push(0,0,0,0,0,0,0,0,i)}function na(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ga(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=Qt(l),null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Ns(n,i,o){!function Co(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(cn)&&(u=o[cn]),null==u&&(u=o[cn]=zs++);const l=255&u;i.data[n+(l>>5)]|=1<<l}(n,i,o)}function Ja(n,i,o){if(o&Lt.Optional||void 0!==n)return n;Ye()}function Lo(n,i,o,u){if(o&Lt.Optional&&void 0===u&&(u=null),0==(o&(Lt.Self|Lt.Host))){const l=n[9],f=Cr(void 0);try{return l?l.get(i,u,o&Lt.Optional):Ci(i,u,o&Lt.Optional)}finally{Cr(f)}}return Ja(u,0,o)}function Aa(n,i,o,u=Lt.Default,l){if(null!==n){if(1024&i[2]){const v=function Xa(n,i,o,u,l){let f=n,v=i;for(;null!==f&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=Si(f,v,o,u|Lt.Self,ki);if(C!==ki)return C;let x=f.parent;if(!x){const B=v[21];if(B){const Q=B.get(o,ki,u);if(Q!==ki)return Q}x=Qt(v),v=v[15]}f=x}return l}(n,i,o,u,ki);if(v!==ki)return v}const f=Si(n,i,o,u,ki);if(f!==ki)return f}return Lo(i,o,u,l)}function Si(n,i,o,u,l){const f=function ma(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(cn)?n[cn]:void 0;return"number"==typeof i?i>=0?255&i:Ii:i}(o);if("function"==typeof f){if(!Xs(i,n,u))return u&Lt.Host?Ja(l,0,u):Lo(i,o,u,l);try{const v=f(u);if(null!=v||u&Lt.Optional)return v;Ye()}finally{No()}}else if("number"==typeof f){let v=null,C=na(n,i),x=-1,B=u&Lt.Host?i[16][6]:null;for((-1===C||u&Lt.SkipSelf)&&(x=-1===C?ga(n,i):i[C+8],-1!==x&&Rr(u,!1)?(v=i[1],C=kn(x),i=zn(x,i)):C=-1);-1!==C;){const Q=i[1];if(kt(f,C,Q.data)){const ce=Va(C,i,o,v,u,B);if(ce!==ki)return ce}x=i[C+8],-1!==x&&Rr(u,i[1].data[C+8]===B)&&kt(f,C,i)?(v=Q,C=kn(x),i=zn(x,i)):C=-1}}return l}function Va(n,i,o,u,l,f){const v=i[1],C=v.data[n+8],Q=Li(C,v,o,null==u?Sr(C)&&ci:u!=v&&0!=(3&C.type),l&Lt.Host&&f===C);return null!==Q?Sa(i,v,Q,C):ki}function Li(n,i,o,u,l){const f=n.providerIndexes,v=i.data,C=1048575&f,x=n.directiveStart,Q=f>>20,Pe=l?C+Q:n.directiveEnd;for(let tt=u?C:C+Q;tt<Pe;tt++){const Dt=v[tt];if(tt<x&&o===Dt||tt>=x&&Dt.type===o)return tt}if(l){const tt=v[x];if(tt&&ar(tt)&&tt.type===o)return x}return null}function Sa(n,i,o,u){let l=n[o];const f=i.data;if(function Rs(n){return n instanceof Xo}(l)){const v=l;v.resolving&&function De(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${n}${o}`)}(function $e(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():it(n)}(f[o]));const C=pr(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?Cr(v.injectImpl):null;Xs(n,u,Lt.Default);try{l=n[o]=v.factory(void 0,f,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Ps(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:f}=i.type.prototype;if(u){const v=Hi(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,l),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,f))}(o,f[o],i)}finally{null!==x&&Cr(x),pr(C),v.resolving=!1,No()}}return l}function kt(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function Rr(n,i){return!(n&Lt.Self||n&Lt.Host&&i)}class Ei{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Aa(this._tNode,this._lView,i,u,o)}}function Ii(){return new Ei(ri(),bt())}function Mt(n){return jr(()=>{const i=n.prototype.constructor,o=i[vr]||yn(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const f=l[vr]||yn(l);if(f&&f!==o)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function yn(n){return Ge(n)?()=>{const i=yn(ae(n));return i&&i()}:$i(n)}function Qt(n){const i=n[1],o=i.type;return 2===o?i.declTNode:1===o?n[6]:null}function rt(n){return function ra(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const f=o[l];if(be(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(f===i)return o[l+1];l+=2}}}return null}(ri(),n)}const cr="__parameters__";function G(n,i,o){return jr(()=>{const u=function ia(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...f){if(this instanceof l)return u.apply(this,f),this;const v=new l(...f);return C.annotation=v,C;function C(x,B,Q){const ce=x.hasOwnProperty(cr)?x[cr]:Object.defineProperty(x,cr,{value:[]})[cr];for(;ce.length<=Q;)ce.push(null);return(ce[Q]=ce[Q]||[]).push(v),x}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class j{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=He({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function as(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let u=n[o];Array.isArray(u)?(i===n&&(i=n.slice(0,o)),as(u,i)):i!==n&&i.push(u)}return i}function Cs(n,i){n.forEach(o=>Array.isArray(o)?Cs(o,i):i(o))}function ku(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Ba(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function io(n,i,o){let u=E(n,i);return u>=0?n[1|u]=o:(u=~u,function Ec(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function Fo(n,i){const o=E(n,i);if(o>=0)return n[1|o]}function E(n,i){return function _(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const f=u+(l-u>>1),v=n[f<<o];if(i===v)return f<<o;v>i?l=f:u=f+1}return~(l<<o)}(n,i,1)}const wr={},Vr="__NG_DI_FLAG__",li="ngTempTokenPath",ho=/\n/gm,va="__source";let Ma;function Fi(n){const i=Ma;return Ma=n,i}function bc(n,i=Lt.Default){if(void 0===Ma)throw new Ue(-203,!1);return null===Ma?Ci(n,void 0,i):Ma.get(n,i&Lt.Optional?null:void 0,i)}function Vi(n,i=Lt.Default){return(function Ln(){return un}()||bc)(ae(n),i)}function Dc(n,i=Lt.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),Vi(n,i)}function Zl(n){const i=[];for(let o=0;o<n.length;o++){const u=ae(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Ue(900,!1);let l,f=Lt.Default;for(let v=0;v<u.length;v++){const C=u[v],x=ul(C);"number"==typeof x?-1===x?l=C.token:f|=x:l=C}i.push(Vi(l,f))}else i.push(Vi(u))}return i}function pu(n,i){return n[Vr]=i,n.prototype[Vr]=i,n}function ul(n){return n[Vr]}const ll=pu(G("Inject",n=>({token:n})),-1),gu=pu(G("Optional"),8),Fu=pu(G("SkipSelf"),4);var ie=(()=>((ie=ie||{})[ie.Important=1]="Important",ie[ie.DashCase=2]="DashCase",ie))();const zt=new Map;let Cn=0;const vi="__ngContext__";function ps(n,i){Et(i)?(n[vi]=i[20],function Jn(n){zt.set(n[20],n)}(i)):n[vi]=i}function pl(n,i){return undefined(n,i)}function Rc(n){const i=n[3];return Ot(i)?i[3]:i}function eh(n){return ju(n[13])}function th(n){return ju(n[4])}function ju(n){for(;null!==n&&!Ot(n);)n=n[4];return n}function Nc(n,i,o,u,l){if(null!=u){let f,v=!1;Ot(u)?f=u:Et(u)&&(v=!0,u=u[0]);const C=zr(u);0===n&&null!==o?null==l?ec(i,o,C):Ka(i,o,C,l||null,!0):1===n&&null!==o?Ka(i,o,C,l||null,!0):2===n?function ed(n,i,o){const u=Gu(n,i);u&&function af(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,C,v):3===n&&i.destroyNode(C),null!=f&&function uh(n,i,o,u,l){const f=o[7];f!==zr(o)&&Nc(i,n,u,f,l);for(let C=10;C<o.length;C++){const x=o[C];bl(x[1],x,n,i,u,f)}}(i,n,f,o,l)}}function wu(n,i,o){return n.createElement(i,o)}function nh(n,i){const o=n[9],u=o.indexOf(i),l=i[3];512&i[2]&&(i[2]&=-513,gi(l,-1)),o.splice(u,1)}function $u(n,i){if(n.length<=10)return;const o=10+i,u=n[o];if(u){const l=u[17];null!==l&&l!==n&&nh(l,u),i>0&&(n[o-1][4]=u[4]);const f=Ba(n,10+i);!function yl(n,i){bl(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const v=f[19];null!==v&&v.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function rh(n,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&bl(n,i,o,3,null,null),function sf(n){let i=n[13];if(!i)return vl(n[1],n);for(;i;){let o=null;if(Et(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==n;)Et(i)&&vl(i[1],i),i=i[3];null===i&&(i=n),Et(i)&&vl(i[1],i),o=i&&i[4]}i=o}}(i)}}function vl(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function wl(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof Xo)){const f=o[u+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const C=l[f[v]],x=f[v+1];try{x.call(C)}finally{}}else try{f.call(l)}finally{}}}}(n,i),function _l(n,i){const o=n.cleanup,u=i[7];let l=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const v=o[f+1],C="function"==typeof v?v(i):zr(i[v]),x=u[l=o[f+2]],B=o[f+3];"boolean"==typeof B?C.removeEventListener(o[f],x,B):B>=0?u[l=B]():u[l=-B].unsubscribe(),f+=2}else{const v=u[l=o[f+1]];o[f].call(v)}if(null!==u){for(let f=l+1;f<u.length;f++)(0,u[f])();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&Ot(i[3])){o!==i[3]&&nh(o,i);const u=i[19];null!==u&&u.detachView(n)}!function Ls(n){zt.delete(n[20])}(i)}}function Hu(n,i,o){return function So(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const l=n.data[u.directiveStart].encapsulation;if(l===sn.None||l===sn.Emulated)return null}return pi(u,o)}(n,i.parent,o)}function Ka(n,i,o,u,l){n.insertBefore(i,o,u,l)}function ec(n,i,o){n.appendChild(i,o)}function Lc(n,i,o,u,l){null!==u?Ka(n,i,o,u,l):ec(n,i,o)}function Gu(n,i){return n.parentNode(i)}let Vc,iu=function sh(n,i,o){return 40&n.type?pi(n,o):null};function Il(n,i,o,u){const l=Hu(n,u,i),f=i[11],C=function ih(n,i,o){return iu(n,i,o)}(u.parent||i[6],u,i);if(null!=l)if(Array.isArray(o))for(let x=0;x<o.length;x++)Lc(f,l,o[x],C,!1);else Lc(f,l,o,C,!1)}function Oa(n,i){if(null!==i){const o=i.type;if(3&o)return pi(i,n);if(4&o)return Ea(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Oa(n,u);{const l=n[i.index];return Ot(l)?Ea(-1,l):zr(l)}}if(32&o)return pl(i,n)()||zr(n[i.index]);{const u=ah(n,i);return null!==u?Array.isArray(u)?u[0]:Oa(Rc(n[16]),u):Oa(n,i.next)}}return null}function ah(n,i){return null!==i?n[16][6].projection[i.projection]:null}function Ea(n,i){const o=10+n+1;if(o<i.length){const u=i[o],l=u[1].firstChild;if(null!==l)return Oa(u,l)}return i[7]}function tc(n,i,o,u,l,f,v){for(;null!=o;){const C=u[o.index],x=o.type;if(v&&0===i&&(C&&ps(zr(C),u),o.flags|=4),64!=(64&o.flags))if(8&x)tc(n,i,o.child,u,l,f,!1),Nc(i,n,l,C,f);else if(32&x){const B=pl(o,u);let Q;for(;Q=B();)Nc(i,n,l,Q,f);Nc(i,n,l,C,f)}else 16&x?yr(n,i,u,o,l,f):Nc(i,n,l,C,f);o=v?o.projectionNext:o.next}}function bl(n,i,o,u,l,f){tc(o,u,n.firstChild,i,l,f,!1)}function yr(n,i,o,u,l,f){const v=o[16],x=v[6].projection[u.projection];if(Array.isArray(x))for(let B=0;B<x.length;B++)Nc(i,n,l,x[B],f);else tc(n,i,x,v[3],l,f,!0)}function td(n,i,o){n.setAttribute(i,"style",o)}function nd(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function rc(n){Vc=n}class lf{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Fs(n){return n instanceof lf?n.changingThisBreaksApplicationSecurity:n}const h=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Vs=(()=>((Vs=Vs||{})[Vs.NONE=0]="NONE",Vs[Vs.HTML=1]="HTML",Vs[Vs.STYLE=2]="STYLE",Vs[Vs.SCRIPT=3]="SCRIPT",Vs[Vs.URL=4]="URL",Vs[Vs.RESOURCE_URL=5]="RESOURCE_URL",Vs))();function Op(n){const i=function Ra(){const n=bt();return n&&n[12]}();return i?i.sanitize(Vs.URL,n)||"":function Du(n,i){const o=function lh(n){return n instanceof lf&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(n,"URL")?Fs(n):function w(n){return(n=String(n)).match(h)?n:"unsafe:"+n}(it(n))}const gh=new j("ENVIRONMENT_INITIALIZER"),Np=new j("INJECTOR",-1),dd=new j("INJECTOR_DEF_TYPES");class kp{get(i,o=wr){if(o===wr){const u=new Error(`NullInjectorError: No provider for ${we(i)}!`);throw u.name="NullInjectorError",u}return o}}function Um(...n){return{\u0275providers:Lp(0,n)}}function Lp(n,...i){const o=[],u=new Set;let l;return Cs(i,f=>{const v=f;Fp(v,o,[],u)&&(l||(l=[]),l.push(v))}),void 0!==l&&Bm(l,o),o}function Bm(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Cs(l,f=>{i.push(f)})}}function Fp(n,i,o,u){if(!(n=ae(n)))return!1;let l=null,f=tr(n);const v=!f&&qe(n);if(f||v){if(v&&!v.standalone)return!1;l=n}else{const x=n.ngModule;if(f=tr(x),!f)return!1;l=x}const C=u.has(l);if(v){if(C)return!1;if(u.add(l),v.dependencies){const x="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const B of x)Fp(B,i,o,u)}}else{if(!f)return!1;{if(null!=f.imports&&!C){let B;u.add(l);try{Cs(f.imports,Q=>{Fp(Q,i,o,u)&&(B||(B=[]),B.push(Q))})}finally{}void 0!==B&&Bm(B,i)}if(!C){const B=$i(l)||(()=>new l);i.push({provide:l,useFactory:B,deps:hn},{provide:dd,useValue:l,multi:!0},{provide:gh,useValue:()=>Vi(l),multi:!0})}const x=f.providers;null==x||C||Cs(x,Q=>{i.push(Q)})}}return l!==n&&void 0!==n.providers}const Vp=pe({provide:String,useValue:pe});function Up(n){return null!==n&&"object"==typeof n&&Vp in n}function zc(n){return"function"==typeof n}const mf=new j("Set Injector scope."),yf={},Kv={};let jp;function Cu(){return void 0===jp&&(jp=new kp),jp}class su{}class $p extends su{constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ac(i,v=>this.processProvider(v)),this.records.set(Np,hd(void 0,this)),l.has("environment")&&this.records.set(su,hd(void 0,this));const f=this.records.get(mf);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(dd.multi,hn,Lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Fi(this),u=Cr(void 0);try{return i()}finally{Fi(o),Cr(u)}}get(i,o=wr,u=Lt.Default){this.assertNotDestroyed();const l=Fi(this),f=Cr(void 0);try{if(!(u&Lt.SkipSelf)){let C=this.records.get(i);if(void 0===C){const x=function Al(n){return"function"==typeof n||"object"==typeof n&&n instanceof j}(i)&&At(i);C=x&&this.injectableDefInScope(x)?hd(Hp(i),yf):null,this.records.set(i,C)}if(null!=C)return this.hydrate(i,C)}return(u&Lt.Self?Cu():this.parent).get(i,o=u&Lt.Optional&&o===wr?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[li]=v[li]||[]).unshift(we(i)),l)throw v;return function cl(n,i,o,u){const l=n[li];throw i[va]&&l.unshift(i[va]),n.message=function Cc(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=we(i);if(Array.isArray(i))l=i.map(we).join(" -> ");else if("object"==typeof i){let f=[];for(let v in i)if(i.hasOwnProperty(v)){let C=i[v];f.push(v+":"+("string"==typeof C?JSON.stringify(C):we(C)))}l=`{${f.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(ho,"\n  ")}`}("\n"+n.message,l,o,u),n.ngTokenPath=l,n[li]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{Cr(f),Fi(l)}}resolveInjectorInitializers(){const i=Fi(this),o=Cr(void 0);try{const u=this.get(gh.multi,hn,Lt.Self);for(const l of u)l()}finally{Fi(i),Cr(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(we(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processProvider(i){let o=zc(i=ae(i))?i:ae(i&&i.provide);const u=function oc(n){return Up(n)?hd(void 0,n.useValue):hd(Gp(n),yf)}(i);if(zc(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=hd(void 0,yf,!0),l.factory=()=>Zl(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===yf&&(o.value=Kv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function vf(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ae(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Hp(n){const i=At(n),o=null!==i?i.factory:$i(n);if(null!==o)return o;if(n instanceof j)throw new Ue(204,!1);if(n instanceof Function)return function jm(n){const i=n.length;if(i>0)throw function ja(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new Ue(204,!1);const o=function xn(n){const i=n&&(n[Xt]||n[On]);if(i){const o=function _n(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ue(204,!1)}function Gp(n,i,o){let u;if(zc(n)){const l=ae(n);return $i(l)||Hp(l)}if(Up(n))u=()=>ae(n.useValue);else if(function gf(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Zl(n.deps||[]));else if(function Bp(n){return!(!n||!n.useExisting)}(n))u=()=>Vi(ae(n.useExisting));else{const l=ae(n&&(n.useClass||n.provide));if(!function $m(n){return!!n.deps}(n))return $i(l)||Hp(l);u=()=>new l(...Zl(n.deps))}return u}function hd(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Sl(n){return!!n.\u0275providers}function ac(n,i){for(const o of n)Array.isArray(o)?ac(o,i):Sl(o)?ac(o.\u0275providers,i):i(o)}class zp{}class Hm{resolveComponentFactory(i){throw function Wp(n){const i=Error(`No component factory found for ${we(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let yh=(()=>{class n{}return n.NULL=new Hm,n})();function Gm(){return xl(ri(),bt())}function xl(n,i){return new Wc(pi(n,i))}let Wc=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Gm,n})();function vh(n){return n instanceof Wc?n.nativeElement:n}class zm{}let Wm=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Zv(){const n=bt(),o=Gr(ri().index,n);return(Et(o)?o:n)[11]}(),n})(),Yv=(()=>{class n{}return n.\u0275prov=He({token:n,providedIn:"root",factory:()=>null}),n})();class Km{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const pd=new Km("14.3.0"),uc={};function Kp(n){return n.ngOriginalError}class gd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Kp(i);for(;o&&Kp(o);)o=Kp(o);return o||null}}function lc(n){return n instanceof Function?n():n}function yd(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const f=i.length;if(l+f===u||n.charCodeAt(l+f)<=32)return l}o=l+1}}const eg="ng-template";function aa(n,i,o){let u=0;for(;u<n.length;){let l=n[u++];if(o&&"class"===l){if(l=n[u],-1!==yd(l.toLowerCase(),i,0))return!0}else if(1===l){for(;u<n.length&&"string"==typeof(l=n[u++]);)if(l.toLowerCase()===i)return!0;return!1}}return!1}function tg(n){return 4===n.type&&n.value!==eg}function Ef(n,i,o){return i===(4!==n.type||o?n.value:eg)}function If(n,i,o){let u=4;const l=n.attrs||[],f=function Pl(n){for(let i=0;i<n.length;i++)if(be(n[i]))return i;return n.length}(l);let v=!1;for(let C=0;C<i.length;C++){const x=i[C];if("number"!=typeof x){if(!v)if(4&u){if(u=2|1&u,""!==x&&!Ef(n,x,o)||""===x&&1===i.length){if(ou(u))return!1;v=!0}}else{const B=8&u?x:i[++C];if(8&u&&null!==n.attrs){if(!aa(n.attrs,B,o)){if(ou(u))return!1;v=!0}continue}const ce=Kc(8&u?"class":x,l,tg(n),o);if(-1===ce){if(ou(u))return!1;v=!0;continue}if(""!==B){let Pe;Pe=ce>f?"":l[ce+1].toLowerCase();const tt=8&u?Pe:null;if(tt&&-1!==yd(tt,B,0)||2&u&&B!==Pe){if(ou(u))return!1;v=!0}}}}else{if(!v&&!ou(u)&&!ou(x))return!1;if(v&&ou(x))continue;v=!1,u=x|1&u}}return ou(u)||v}function ou(n){return 0==(1&n)}function Kc(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let f=!1;for(;l<i.length;){const v=i[l];if(v===n)return l;if(3===v||6===v)f=!0;else{if(1===v||2===v){let C=i[++l];for(;"string"==typeof C;)C=i[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=f?1:2}return-1}return function e_(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Ml(n,i,o=!1){for(let u=0;u<i.length;u++)if(If(n,i[u],o))return!0;return!1}function ng(n,i){return n?":not("+i.trim()+")":i}function qc(n){let i=n[0],o=1,u=2,l="",f=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&u){const C=n[++o];l+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?l+="."+v:4&u&&(l+=" "+v);else""!==l&&!ou(v)&&(i+=ng(f,l),l=""),u=v,f=f||!ou(u);o++}return""!==l&&(i+=ng(f,l)),i}const Er={};function Xm(n){rg(Yn(),bt(),Mr()+n,!1)}function rg(n,i,o,u){if(!u)if(3==(3&i[2])){const f=n.preOrderCheckHooks;null!==f&&Os(i,f,o)}else{const f=n.preOrderHooks;null!==f&&bo(i,f,0,o)}to(o)}function ig(n,i=null,o=null,u){const l=sg(n,i,o,u);return l.resolveInjectorInitializers(),l}function sg(n,i=null,o=null,u,l=new Set){const f=[o||hn,Um(n)];return u=u||("object"==typeof n?void 0:we(n)),new $p(f,i||Cu(),u||null,l)}let Rl=(()=>{class n{static create(o,u){if(Array.isArray(o))return ig({name:""},u,o,"");{const l=o.name??"";return ig({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=wr,n.NULL=new kp,n.\u0275prov=He({token:n,providedIn:"any",factory:()=>Vi(Np)}),n.__NG_ELEMENT_ID__=-1,n})();function Tu(n,i=Lt.Default){const o=bt();return null===o?Vi(n,i):Aa(ri(),o,ae(n),i)}function Nl(){throw new Error("invalid")}function kl(n,i){return n<<17|i<<2}function au(n){return n>>17&32767}function mg(n){return 2|n}function Au(n){return(131068&n)>>2}function yg(n,i){return-131069&n|i<<2}function Pf(n){return 1|n}function _y(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],f=o[u+1];if(-1!==f){const v=n.data[f];qi(l),v.contentQueries(2,i[f],f)}}}function wd(n,i,o,u,l,f,v,C,x,B,Q){const ce=i.blueprint.slice();return ce[0]=l,ce[2]=76|u,(null!==Q||n&&1024&n[2])&&(ce[2]|=1024),Oi(ce),ce[3]=ce[15]=n,ce[8]=o,ce[10]=v||n&&n[10],ce[11]=C||n&&n[11],ce[12]=x||n&&n[12]||null,ce[9]=B||n&&n[9]||null,ce[6]=f,ce[20]=function ir(){return Cn++}(),ce[21]=Q,ce[16]=2==i.type?n[16]:ce,ce}function hc(n,i,o,u,l){let f=n.data[i];if(null===f)f=function Mh(n,i,o,u,l){const f=ws(),v=Gs(),x=n.data[i]=function f_(n,i,o,u,l,f){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=x),null!==f&&(v?null==f.child&&null!==x.parent&&(f.child=x):null===f.next&&(f.next=x)),x}(n,i,o,u,l),function Ai(){return Dn.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=u,f.attrs=l;const v=function Ji(){const n=Dn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return Ti(f,!0),f}function Fl(n,i,o,u){if(0===o)return-1;const l=i.length;for(let f=0;f<o;f++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Yc(n,i,o){Ro(i);try{const u=n.viewQuery;null!==u&&Rh(1,u,o);const l=n.template;null!==l&&wy(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&_y(n,i),n.staticViewQueries&&Rh(2,n.viewQuery,o);const f=n.components;null!==f&&function l_(n,i){for(let o=0;o<i.length;o++)v_(n,i[o])}(i,f)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[2]&=-5,ko()}}function Ed(n,i,o,u){const l=i[2];if(128!=(128&l)){Ro(i);try{Oi(i),function et(n){return Dn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&wy(n,i,o,2,u);const v=3==(3&l);if(v){const B=n.preOrderCheckHooks;null!==B&&Os(i,B,null)}else{const B=n.preOrderHooks;null!==B&&bo(i,B,0,null),Fa(i,0)}if(function My(n){for(let i=eh(n);null!==i;i=th(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const l=o[u],f=l[3];0==(512&l[2])&&gi(f,1),l[2]|=512}}}(i),function xy(n){for(let i=eh(n);null!==i;i=th(i))for(let o=10;o<i.length;o++){const u=i[o],l=u[1];Gi(u)&&Ed(l,u,l.template,u[8])}}(i),null!==n.contentQueries&&_y(n,i),v){const B=n.contentCheckHooks;null!==B&&Os(i,B)}else{const B=n.contentHooks;null!==B&&bo(i,B,1),Fa(i,1)}!function Dg(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)to(~l);else{const f=l,v=o[++u],C=o[++u];os(v,f),C(2,i[f])}}}finally{to(-1)}}(n,i);const C=n.components;null!==C&&function Cg(n,i){for(let o=0;o<i.length;o++)y_(n,i[o])}(i,C);const x=n.viewQuery;if(null!==x&&Rh(2,x,u),v){const B=n.viewCheckHooks;null!==B&&Os(i,B)}else{const B=n.viewHooks;null!==B&&bo(i,B,2),Fa(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,gi(i[3],-1))}finally{ko()}}}function wy(n,i,o,u,l){const f=Mr(),v=2&u;try{to(-1),v&&i.length>22&&rg(n,i,22,!1),o(u,l)}finally{to(f)}}function Lf(n,i,o){!_s()||(function bd(n,i,o,u){const l=o.directiveStart,f=o.directiveEnd;n.firstCreatePass||ta(o,i),ps(u,i);const v=o.initialInputs;for(let C=l;C<f;C++){const x=n.data[C],B=ar(x);B&&Og(i,o,x);const Q=Sa(i,n,C,o);ps(Q,i),null!==v&&Sy(0,C-l,Q,x,0,v),B&&(Gr(o.index,i)[8]=Q)}}(n,i,o,pi(o,i)),128==(128&o.flags)&&function p_(n,i,o){const u=o.directiveStart,l=o.directiveEnd,f=o.index,v=function Es(){return Dn.lFrame.currentDirectiveIndex}();try{to(f);for(let C=u;C<l;C++){const x=n.data[C],B=i[C];Ki(C),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Cy(x,B)}}finally{to(-1),Ki(v)}}(n,i,o))}function Ff(n,i,o=pi){const u=i.localNames;if(null!==u){let l=i.index+1;for(let f=0;f<u.length;f+=2){const v=u[f+1],C=-1===v?o(i,n):n[v];n[l++]=C}}}function Iy(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Ph(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Ph(n,i,o,u,l,f,v,C,x,B){const Q=22+u,ce=Q+l,Pe=function d_(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Er);return o}(Q,ce),tt="function"==typeof B?B():B;return Pe[1]={type:n,blueprint:Pe,template:o,queries:null,viewQuery:C,declTNode:i,data:Pe.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:tt,incompleteFirstPass:!1}}function Vf(n,i,o,u){const l=$f(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Lg(n).push(u,l.length-1))}function Uf(n,i,o){for(let u in n)if(n.hasOwnProperty(u)){const l=n[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,l):o[u]=[i,l]}return o}function Tg(n,i){const u=i.directiveEnd,l=n.data,f=i.attrs,v=[];let C=null,x=null;for(let B=i.directiveStart;B<u;B++){const Q=l[B],ce=Q.inputs,Pe=null===f||tg(i)?null:g_(ce,f);v.push(Pe),C=Uf(ce,B,C),x=Uf(Q.outputs,B,x)}null!==C&&(C.hasOwnProperty("class")&&(i.flags|=16),C.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=v,i.inputs=C,i.outputs=x}function Bf(n,i){const o=Gr(i,n);16&o[2]||(o[2]|=32)}function Qc(n,i,o,u){let l=!1;if(_s()){const f=function xg(n,i,o){const u=n.directiveRegistry;let l=null;if(u)for(let f=0;f<u.length;f++){const v=u[f];Ml(o,v.selectors,!1)&&(l||(l=[]),Ns(ta(o,i),n,v.type),ar(v)?(jf(n,o),l.unshift(v)):l.push(v))}return l}(n,i,o),v=null===u?null:{"":-1};if(null!==f){l=!0,Ty(o,n.data.length,f.length);for(let Q=0;Q<f.length;Q++){const ce=f[Q];ce.providersResolver&&ce.providersResolver(ce)}let C=!1,x=!1,B=Fl(n,i,f.length,null);for(let Q=0;Q<f.length;Q++){const ce=f[Q];o.mergedAttrs=mt(o.mergedAttrs,ce.hostAttrs),Ay(n,o,i,B,ce),Pg(B,ce,v),null!==ce.contentQueries&&(o.flags|=8),(null!==ce.hostBindings||null!==ce.hostAttrs||0!==ce.hostVars)&&(o.flags|=128);const Pe=ce.type.prototype;!C&&(Pe.ngOnChanges||Pe.ngOnInit||Pe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),C=!0),!x&&(Pe.ngOnChanges||Pe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),x=!0),B++}Tg(n,o)}v&&function Mg(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const f=o[i[l+1]];if(null==f)throw new Ue(-301,!1);u.push(i[l],f)}}}(o,u,v)}return o.mergedAttrs=mt(o.mergedAttrs,o.attrs),l}function Ul(n,i,o,u,l,f){const v=f.hostBindings;if(v){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const x=~i.index;(function Dy(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(C)!=x&&C.push(x),C.push(u,l,v)}}function Cy(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function jf(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function Pg(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;ar(i)&&(o[""]=n)}}function Ty(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function Ay(n,i,o,u,l){n.data[u]=l;const f=l.factory||(l.factory=$i(l.type)),v=new Xo(f,ar(l),Tu);n.blueprint[u]=v,o[u]=v,Ul(n,i,0,u,Fl(n,o,l.hostVars,Er),l)}function Og(n,i,o){const u=pi(i,n),l=Iy(o),f=n[10],v=Dd(n,wd(n,l,null,o.onPush?32:16,u,i,f,f.createRenderer(u,o),null,null,null));n[i.index]=v}function uu(n,i,o,u,l,f){const v=pi(n,i);!function Rg(n,i,o,u,l,f,v){if(null==f)n.removeAttribute(i,l,o);else{const C=null==v?it(f):v(f,u||"",l);n.setAttribute(i,l,C,o)}}(i[11],v,f,n.value,o,u,l)}function Sy(n,i,o,u,l,f){const v=f[i];if(null!==v){const C=u.setInput;for(let x=0;x<v.length;){const B=v[x++],Q=v[x++],ce=v[x++];null!==C?u.setInput(o,ce,B,Q):o[Q]=ce}}}function g_(n,i){let o=null,u=0;for(;u<i.length;){const l=i[u];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,n[l],i[u+1])),u+=2}else u+=2;else u+=4}return o}function Ng(n,i,o,u){return new Array(n,!0,!1,i,null,0,u,o,null,null)}function y_(n,i){const o=Gr(i,n);if(Gi(o)){const u=o[1];48&o[2]?Ed(u,o,u.template,o[8]):o[5]>0&&kg(o)}}function kg(n){for(let u=eh(n);null!==u;u=th(u))for(let l=10;l<u.length;l++){const f=u[l];if(Gi(f))if(512&f[2]){const v=f[1];Ed(v,f,v.template,f[8])}else f[5]>0&&kg(f)}const o=n[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Gr(o[u],n);Gi(l)&&l[5]>0&&kg(l)}}function v_(n,i){const o=Gr(i,n),u=o[1];(function __(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Yc(u,o,o[8])}function Dd(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Oh(n){for(;n;){n[2]|=32;const i=Rc(n);if(bn(n)&&!i)return n;n=i}return null}function Cd(n,i,o,u=!0){const l=i[10];l.begin&&l.begin();try{Ed(n,i,n.template,o)}catch(v){throw u&&Fg(i,v),v}finally{l.end&&l.end()}}function Rh(n,i,o){qi(0),i(n,o)}function $f(n){return n[7]||(n[7]=[])}function Lg(n){return n.cleanup||(n.cleanup=[])}function Fg(n,i){const o=n[9],u=o?o.get(gd,null):null;u&&u.handleError(i)}function Vg(n,i,o,u,l){for(let f=0;f<o.length;){const v=o[f++],C=o[f++],x=i[v],B=n.data[v];null!==B.setInput?B.setInput(x,l,u,C):x[C]=l}}function Gf(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,f=0;if(null!==i)for(let v=0;v<i.length;v++){const C=i[v];"number"==typeof C?f=C:1==f?l=fe(l,C):2==f&&(u=fe(u,C+": "+i[++v]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function Td(n,i,o,u,l=!1){for(;null!==o;){const f=i[o.index];if(null!==f&&u.push(zr(f)),Ot(f))for(let C=10;C<f.length;C++){const x=f[C],B=x[1].firstChild;null!==B&&Td(x[1],x,B,u)}const v=o.type;if(8&v)Td(n,i,o.child,u);else if(32&v){const C=pl(o,i);let x;for(;x=C();)u.push(x)}else if(16&v){const C=ah(i,o);if(Array.isArray(C))u.push(...C);else{const x=Rc(i[16]);Td(x[1],x,C,u,!0)}}o=l?o.projectionNext:o.next}return u}class Nh{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Td(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Ot(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&($u(i,u),Ba(o,u))}this._attachedToViewContainer=!1}rh(this._lView[1],this._lView)}onDestroy(i){Vf(this._lView[1],this._lView,null,i)}markForCheck(){Oh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Cd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jl(n,i){bl(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ue(902,!1);this._appRef=i}}class Ug extends Nh{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Cd(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Bg extends yh{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=qe(i);return new qu(o,this.ngModule)}}function zf(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class $g{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){const l=this.injector.get(i,uc,u);return l!==uc||o===uc?l:this.parentInjector.get(i,o,u)}}class qu extends zp{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Jm(n){return n.map(qc).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return zf(this.componentDef.inputs)}get outputs(){return zf(this.componentDef.outputs)}create(i,o,u,l){let f=(l=l||this.ngModule)instanceof su?l:l?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const v=f?new $g(i,f):i,C=v.get(zm,null);if(null===C)throw new Ue(407,!1);const x=v.get(Yv,null),B=C.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ce=u?function h_(n,i,o){return n.selectRootElement(i,o===sn.ShadowDom)}(B,u,this.componentDef.encapsulation):wu(B,Q,function jg(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Q)),Pe=this.componentDef.onPush?288:272,tt=Ph(0,null,null,1,0,null,null,null,null,null),Dt=wd(null,tt,null,Pe,null,null,C,B,x,v,null);let Zt,an;Ro(Dt);try{const Pn=function fc(n,i,o,u,l,f){const v=o[1];o[22]=n;const x=hc(v,22,2,"#host",null),B=x.mergedAttrs=i.hostAttrs;null!==B&&(Gf(x,B,!0),null!==n&&(Z(l,n,B),null!==x.classes&&nd(l,n,x.classes),null!==x.styles&&td(l,n,x.styles)));const Q=u.createRenderer(n,i),ce=wd(o,Iy(i),null,i.onPush?32:16,o[22],x,u,Q,f||null,null,null);return v.firstCreatePass&&(Ns(ta(x,o),v,i.type),jf(v,x),Ty(x,o.length,1)),Dd(o,ce),o[22]=ce}(ce,this.componentDef,Dt,C,B);if(ce)if(u)Z(B,ce,["ng-version",pd.full]);else{const{attrs:er,classes:Ft}=function t_(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let f=n[u];if("string"==typeof f)2===l?""!==f&&i.push(f,n[++u]):8===l&&o.push(f);else{if(!ou(l))break;l=f}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);er&&Z(B,ce,er),Ft&&Ft.length>0&&nd(B,ce,Ft.join(" "))}if(an=mo(tt,22),void 0!==o){const er=an.projection=[];for(let Ft=0;Ft<this.ngContentSelectors.length;Ft++){const hr=o[Ft];er.push(null!=hr?Array.from(hr):null)}}Zt=function Hg(n,i,o,u){const l=o[1],f=function Sg(n,i,o){const u=ri();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Ay(n,u,i,Fl(n,i,1,null),o),Tg(n,u));const l=Sa(i,n,u.directiveStart,u);ps(l,i);const f=pi(u,i);return f&&ps(f,i),l}(l,o,i);if(n[8]=o[8]=f,null!==u)for(const C of u)C(f,i);if(i.contentQueries){const C=ri();i.contentQueries(1,f,C.directiveStart)}const v=ri();return!l.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(to(v.index),Ul(o[1],v,0,v.directiveStart,v.directiveEnd,i),Cy(i,f)),f}(Pn,this.componentDef,Dt,[E_]),Yc(tt,Dt,null)}finally{ko()}return new w_(this.componentType,Zt,xl(an,Dt),Dt,an)}}class w_ extends class mh{}{constructor(i,o,u,l,f){super(),this.location=u,this._rootLView=l,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new Ug(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const f=this._rootLView;Vg(f[1],f,l,i,o),Bf(f,this._tNode.index)}}get injector(){return new Ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function E_(){const n=ri();no(bt()[1],n)}function Gg(n){let i=function Wf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(ar(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ue(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const v=n;v.inputs=kh(n.inputs),v.declaredInputs=kh(n.declaredInputs),v.outputs=kh(n.outputs);const C=l.hostBindings;C&&D_(n,C);const x=l.viewQuery,B=l.contentQueries;if(x&&b_(n,x),B&&zg(n,B),ye(n.inputs,l.inputs),ye(n.declaredInputs,l.declaredInputs),ye(n.outputs,l.outputs),ar(l)&&l.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let v=0;v<f.length;v++){const C=f[v];C&&C.ngInherit&&C(n),C===Gg&&(o=!1)}}i=Object.getPrototypeOf(i)}!function I_(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=mt(l.hostAttrs,o=mt(o,l.hostAttrs))}}(u)}function kh(n){return n===Tr?{}:n===hn?[]:n}function b_(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function zg(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,f)=>{i(u,l,f),o(u,l,f)}:i}function D_(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}let Lh=null;function pc(){if(!Lh){const n=Bn.Symbol;if(n&&n.iterator)Lh=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Lh=u)}}}return Lh}function Fh(n){return!!Zg(n)&&(Array.isArray(n)||!(n instanceof Map)&&pc()in n)}function Zg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function cu(n,i,o){return n[i]=o}function ca(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function qf(n,i,o,u){const l=bt();return ca(l,Jt(),i)&&(Yn(),uu(Qr(),l,n,i,o,u)),qf}function em(n,i,o,u,l,f,v,C){const x=bt(),B=Yn(),Q=n+22,ce=B.firstCreatePass?function Xg(n,i,o,u,l,f,v,C,x){const B=i.consts,Q=hc(i,n,4,v||null,zi(B,C));Qc(i,o,Q,zi(B,x)),no(i,Q);const ce=Q.tViews=Ph(2,Q,u,l,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,B);return null!==i.queries&&(i.queries.template(i,Q),ce.queries=i.queries.embeddedTView(Q)),Q}(Q,B,x,i,o,u,l,f,v):B.data[Q];Ti(ce,!1);const Pe=x[11].createComment("");Il(B,x,Pe,ce),ps(Pe,x),Dd(x,x[Q]=Ng(Pe,x,Pe,ce)),dr(ce)&&Lf(B,x,ce),null!=v&&Ff(x,ce,C)}function nm(n,i,o){const u=bt();return ca(u,Jt(),i)&&function ba(n,i,o,u,l,f,v,C){const x=pi(i,o);let Q,B=i.inputs;!C&&null!=B&&(Q=B[u])?(Vg(n,o,Q,u,l),Sr(i)&&Bf(o,i.index)):3&i.type&&(u=function Ag(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=v?v(l,i.value||"",u):l,f.setProperty(x,u,l))}(Yn(),Qr(),u,n,i,u[11],o,!1),nm}function rm(n,i,o,u,l){const v=l?"class":"style";Vg(n,o,i.inputs[v],v,u)}function Bh(n,i,o,u){const l=bt(),f=Yn(),v=22+n,C=l[11],x=l[v]=wu(C,i,function lo(){return Dn.lFrame.currentNamespace}()),B=f.firstCreatePass?function S_(n,i,o,u,l,f,v){const C=i.consts,B=hc(i,n,2,l,zi(C,f));return Qc(i,o,B,zi(C,v)),null!==B.attrs&&Gf(B,B.attrs,!1),null!==B.mergedAttrs&&Gf(B,B.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,B),B}(v,f,l,0,i,o,u):f.data[v];Ti(B,!0);const Q=B.mergedAttrs;null!==Q&&Z(C,x,Q);const ce=B.classes;null!==ce&&nd(C,x,ce);const Pe=B.styles;return null!==Pe&&td(C,x,Pe),64!=(64&B.flags)&&Il(f,l,x,B),0===function Oo(){return Dn.lFrame.elementDepthCount}()&&ps(x,l),function vo(){Dn.lFrame.elementDepthCount++}(),dr(B)&&(Lf(f,l,B),function Ey(n,i,o){if(Gn(i)){const l=i.directiveEnd;for(let f=i.directiveStart;f<l;f++){const v=n.data[f];v.contentQueries&&v.contentQueries(1,o[f],f)}}}(f,B,l)),null!==u&&Ff(l,B),Bh}function ep(){let n=ri();Gs()?function Js(){Dn.lFrame.isParent=!1}():(n=n.parent,Ti(n,!1));const i=n;!function Wi(){Dn.lFrame.elementDepthCount--}();const o=Yn();return o.firstCreatePass&&(no(o,n),Gn(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Fr(n){return 0!=(16&n.flags)}(i)&&rm(o,i,bt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function T(n){return 0!=(32&n.flags)}(i)&&rm(o,i,bt(),i.stylesWithoutHost,!1),ep}function tp(n,i,o,u){return Bh(n,i,o,u),ep(),tp}function om(){return bt()}function np(n){return!!n&&"function"==typeof n.then}function rp(n){return!!n&&"function"==typeof n.subscribe}const am=rp;function ip(n,i,o,u){const l=bt(),f=Yn(),v=ri();return function qr(n,i,o,u,l,f,v,C){const x=dr(u),Q=n.firstCreatePass&&Lg(n),ce=i[8],Pe=$f(i);let tt=!0;if(3&u.type||C){const an=pi(u,i),Pn=C?C(an):an,er=Pe.length,Ft=C?xi=>C(zr(xi[u.index])):u.index;let hr=null;if(!C&&x&&(hr=function sp(n,i,o,u){const l=n.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const v=l[f];if(v===o&&l[f+1]===u){const C=i[7],x=l[f+2];return C.length>x?C[x]:null}"string"==typeof v&&(f+=2)}return null}(n,i,l,u.index)),null!==hr)(hr.__ngLastListenerFn__||hr).__ngNextListenerFn__=f,hr.__ngLastListenerFn__=f,tt=!1;else{f=lm(u,i,ce,f,!1);const xi=o.listen(Pn,l,f);Pe.push(f,xi),Q&&Q.push(l,Ft,er,er+1)}}else f=lm(u,i,ce,f,!1);const Dt=u.outputs;let Zt;if(tt&&null!==Dt&&(Zt=Dt[l])){const an=Zt.length;if(an)for(let Pn=0;Pn<an;Pn+=2){const js=i[Zt[Pn]][Zt[Pn+1]].subscribe(f),Xh=Pe.length;Pe.push(f,js),Q&&Q.push(l,u.index,Xh,-(Xh+1))}}}(f,l,l[11],v,n,i,0,u),ip}function cm(n,i,o,u){try{return!1!==o(u)}catch(l){return Fg(n,l),!1}}function lm(n,i,o,u,l){return function f(v){if(v===Function)return u;Oh(2&n.flags?Gr(n.index,i):i);let x=cm(i,0,u,v),B=f.__ngNextListenerFn__;for(;B;)x=cm(i,0,B,v)&&x,B=B.__ngNextListenerFn__;return l&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}function Od(n=1){return function wo(n){return(Dn.lFrame.contextLView=function Eo(n,i){for(;n>0;)i=i[15],n--;return i}(n,Dn.lFrame.contextLView))[8]}(n)}function Us(n,i,o,u,l){const f=n[o+1],v=null===i;let C=u?au(f):Au(f),x=!1;for(;0!==C&&(!1===x||v);){const Q=n[C+1];jy(n[C],i)&&(x=!0,n[C+1]=u?Pf(Q):mg(Q)),C=u?au(Q):Au(Q)}x&&(n[o+1]=u?mg(f):Pf(f))}function jy(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&E(n,i)>=0}function yc(n,i){return function lu(n,i,o,u){const l=bt(),f=Yn(),v=function ur(n){const i=Dn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}(2);f.firstUpdatePass&&function el(n,i,o,u){const l=n.data;if(null===l[o+1]){const f=l[Mr()],v=function Ky(n,i){return i>=n.expandoStartIndex}(n,o);(function dp(n,i){return 0!=(n.flags&(i?16:32))})(f,u)&&null===i&&!v&&(i=!1),i=function cp(n,i,o,u){const l=function co(n){const i=Dn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let f=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=Hh(o=fm(null,n,i,o,u),i.attrs,u),f=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==l)if(o=fm(l,n,i,o,u),null===f){let x=function $h(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Au(u))return n[au(u)]}(n,i,u);void 0!==x&&Array.isArray(x)&&(x=fm(null,n,i,x[1],u),x=Hh(x,i.attrs,u),function qy(n,i,o,u){n[au(o?i.classBindings:i.styleBindings)]=u}(n,i,u,x))}else f=function hm(n,i,o){let u;const l=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<l;f++)u=Hh(u,n[f].hostAttrs,o);return Hh(u,i.attrs,o)}(n,i,u)}return void 0!==f&&(u?i.residualClasses=f:i.residualStyles=f),o}(l,f,i,u),function m0(n,i,o,u,l,f){let v=f?i.classBindings:i.styleBindings,C=au(v),x=Au(v);n[u]=o;let Q,B=!1;if(Array.isArray(o)){const ce=o;Q=ce[1],(null===Q||E(ce,Q)>0)&&(B=!0)}else Q=o;if(l)if(0!==x){const Pe=au(n[C+1]);n[u+1]=kl(Pe,C),0!==Pe&&(n[Pe+1]=yg(n[Pe+1],u)),n[C+1]=function py(n,i){return 131071&n|i<<17}(n[C+1],u)}else n[u+1]=kl(C,0),0!==C&&(n[C+1]=yg(n[C+1],u)),C=u;else n[u+1]=kl(x,0),0===C?C=u:n[x+1]=yg(n[x+1],u),x=u;B&&(n[u+1]=mg(n[u+1])),Us(n,Q,u,!0),Us(n,Q,u,!1),function y0(n,i,o,u,l){const f=l?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof i&&E(f,i)>=0&&(o[u+1]=Pf(o[u+1]))}(i,Q,n,u,f),v=kl(C,x),f?i.classBindings=v:i.styleBindings=v}(l,f,i,o,v,u)}}(f,n,v,u),i!==Er&&ca(l,v,i)&&function gm(n,i,o,u,l,f,v,C){if(!(3&i.type))return;const x=n.data,B=x[C+1];Gh(function Mf(n){return 1==(1&n)}(B)?tl(x,i,o,l,Au(B),v):void 0)||(Gh(f)||function gg(n){return 2==(2&n)}(B)&&(f=tl(x,null,o,l,C,v)),function Dl(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let f=-1===u.indexOf("-")?void 0:ie.DashCase;null==l?n.removeStyle(o,u,f):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),f|=ie.Important),n.setStyle(o,u,l,f))}}(u,v,is(Mr(),o),l,f))}(f,f.data[Mr()],l,l[11],n,l[v+1]=function Zy(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=we(Fs(n)))),n}(i,o),u,v)}(n,i,null,!0),yc}function fm(n,i,o,u,l){let f=null;const v=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<v&&(f=i[C],u=Hh(u,f.hostAttrs,l),f!==n);)C++;return null!==n&&(o.directiveStylingLast=C),u}function Hh(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let f=0;f<i.length;f++){const v=i[f];"number"==typeof v?l=v:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),io(n,v,!!o||i[++f]))}return void 0===n?null:n}function tl(n,i,o,u,l,f){const v=null===i;let C;for(;l>0;){const x=n[l],B=Array.isArray(x),Q=B?x[1]:x,ce=null===Q;let Pe=o[l+1];Pe===Er&&(Pe=ce?hn:void 0);let tt=ce?Fo(Pe,u):Q===u?Pe:void 0;if(B&&!Gh(tt)&&(tt=Fo(x,u)),Gh(tt)&&(C=tt,v))return C;const Dt=n[l+1];l=v?au(Dt):Au(Dt)}if(null!==i){let x=f?i.residualClasses:i.residualStyles;null!=x&&(C=Fo(x,u))}return C}function Gh(n){return void 0!==n}function kd(n,i=""){const o=bt(),u=Yn(),l=n+22,f=u.firstCreatePass?hc(u,l,1,i,null):u.data[l],v=o[l]=function gl(n,i){return n.createText(i)}(o[11],i);Il(u,o,v,f),Ti(f,!1)}function mm(n){return $l("",n,""),mm}function $l(n,i,o){const u=bt(),l=function jl(n,i,o,u){return ca(n,Jt(),o)?i+it(o)+u:Er}(u,n,i,o);return l!==Er&&function Su(n,i,o){const u=is(i,n);!function rf(n,i,o){n.setValue(i,o)}(n[11],u,o)}(u,Mr(),l),$l}const Ud=void 0;var Hl=["en",[["a","p"],["AM","PM"],Ud],[["AM","PM"],Ud,Ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ud,"{1} 'at' {0}",Ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function w0(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let La={};function Zu(n){const i=function Z_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=ev(i);if(o)return o;const u=i.split("-")[0];if(o=ev(u),o)return o;if("en"===u)return Hl;throw new Ue(701,!1)}function Cm(n){return Zu(n)[Xn.PluralCase]}function ev(n){return n in La||(La[n]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[n]),La[n]}var Xn=(()=>((Xn=Xn||{})[Xn.LocaleId=0]="LocaleId",Xn[Xn.DayPeriodsFormat=1]="DayPeriodsFormat",Xn[Xn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xn[Xn.DaysFormat=3]="DaysFormat",Xn[Xn.DaysStandalone=4]="DaysStandalone",Xn[Xn.MonthsFormat=5]="MonthsFormat",Xn[Xn.MonthsStandalone=6]="MonthsStandalone",Xn[Xn.Eras=7]="Eras",Xn[Xn.FirstDayOfWeek=8]="FirstDayOfWeek",Xn[Xn.WeekendRange=9]="WeekendRange",Xn[Xn.DateFormat=10]="DateFormat",Xn[Xn.TimeFormat=11]="TimeFormat",Xn[Xn.DateTimeFormat=12]="DateTimeFormat",Xn[Xn.NumberSymbols=13]="NumberSymbols",Xn[Xn.NumberFormats=14]="NumberFormats",Xn[Xn.CurrencyCode=15]="CurrencyCode",Xn[Xn.CurrencySymbol=16]="CurrencySymbol",Xn[Xn.CurrencyName=17]="CurrencyName",Xn[Xn.Currencies=18]="Currencies",Xn[Xn.Directionality=19]="Directionality",Xn[Xn.PluralCase=20]="PluralCase",Xn[Xn.ExtraData=21]="ExtraData",Xn))();const Bd="en-US";let nv=Bd;function Rm(n,i,o,u,l){if(n=ae(n),Array.isArray(n))for(let f=0;f<n.length;f++)Rm(n[f],i,o,u,l);else{const f=Yn(),v=bt();let C=zc(n)?n:ae(n.provide),x=Gp(n);const B=ri(),Q=1048575&B.providerIndexes,ce=B.directiveStart,Pe=B.providerIndexes>>20;if(zc(n)||!n.multi){const tt=new Xo(x,l,Tu),Dt=t(C,i,l?Q:Q+Pe,ce);-1===Dt?(Ns(ta(B,v),f,C),r(f,n,i.length),i.push(C),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),o.push(tt),v.push(tt)):(o[Dt]=tt,v[Dt]=tt)}else{const tt=t(C,i,Q+Pe,ce),Dt=t(C,i,Q,Q+Pe),Zt=tt>=0&&o[tt],an=Dt>=0&&o[Dt];if(l&&!an||!l&&!Zt){Ns(ta(B,v),f,C);const Pn=function p(n,i,o,u,l){const f=new Xo(n,o,Tu);return f.multi=[],f.index=i,f.componentProviders=0,e(f,l,u&&!o),f}(l?a:s,o.length,l,u,x);!l&&an&&(o[Dt].providerFactory=Pn),r(f,n,i.length,0),i.push(C),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),o.push(Pn),v.push(Pn)}else r(f,n,tt>-1?tt:Dt,e(o[l?Dt:tt],x,!l&&u));!l&&u&&an&&o[Dt].componentProviders++}}}function r(n,i,o,u){const l=zc(i),f=function Wv(n){return!!n.useClass}(i);if(l||f){const x=(f?ae(i.useClass):i).prototype.ngOnDestroy;if(x){const B=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const Q=B.indexOf(o);-1===Q?B.push(o,[u,x]):B[Q+1].push(u,x)}else B.push(o,x)}}}function e(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function t(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function s(n,i,o,u){return c(this.multi,[])}function a(n,i,o,u){const l=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Sa(o,o[1],this.providerFactory.index,u);f=C.slice(0,v),c(l,f);for(let x=v;x<C.length;x++)f.push(C[x])}else f=[],c(l,f);return f}function c(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function D(n,i=[]){return o=>{o.providersResolver=(u,l)=>function Mv(n,i,o){const u=Yn();if(u.firstCreatePass){const l=ar(n);Rm(o,u.data,u.blueprint,l,!0),Rm(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class k{}class ${}function J(n,i){return new Je(n,i??null)}class Je extends k{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bg(this);const u=In(i);this._bootstrapComponents=lc(u.bootstrap),this._r3Injector=sg(i,o,[{provide:k,useValue:this},{provide:yh,useValue:this.componentFactoryResolver}],we(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class pt extends ${constructor(i){super(),this.moduleType=i}create(i){return new Je(this.moduleType,i)}}class $t extends k{constructor(i,o,u){super(),this.componentFactoryResolver=new Bg(this),this.instance=null;const l=new $p([...i,{provide:k,useValue:this},{provide:yh,useValue:this.componentFactoryResolver}],o||Cu(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function on(n,i,o=null){return new $t(n,i,o).injector}let gn=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Lp(0,o.type),l=u.length>0?on([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=He({token:n,providedIn:"environment",factory:()=>new n(Vi(su))}),n})();function Ir(n){n.getStandaloneInjector=i=>i.get(gn).getOrCreateStandaloneInjector(n)}function x0(n,i,o){const u=M()+n,l=bt();return l[u]===Er?cu(l,u,o?i.call(o):i()):function Bl(n,i){return n[i]}(l,u)}function M0(n,i,o,u,l){return function O0(n,i,o,u,l,f,v){const C=i+o;return function xu(n,i,o,u){const l=ca(n,i,o);return ca(n,i+1,u)||l}(n,C,l,f)?cu(n,C+2,v?u.call(v,l,f):u(l,f)):Nm(n,C+2)}(bt(),M(),n,i,o,u,l)}function Nm(n,i){const o=n[i];return o===Er?void 0:o}function L0(n,i){const o=Yn();let u;const l=n+22;o.firstCreatePass?(u=function sI(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const f=u.factory||(u.factory=$i(u.type)),v=Cr(Tu);try{const C=pr(!1),x=f();return pr(C),function Pd(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,bt(),l,x),x}finally{Cr(v)}}function F0(n,i,o){const u=n+22,l=bt(),f=function ao(n,i){return n[i]}(l,u);return function km(n,i){return n[1].data[i].pure}(l,u)?function P0(n,i,o,u,l,f){const v=i+o;return ca(n,v,l)?cu(n,v+1,f?u.call(f,l):u(l)):Nm(n,v+1)}(l,M(),i,f.transform,o,f):f.transform(o)}function Ew(n){return i=>{setTimeout(n,void 0,i)}}const ol=class lI extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,f=o||(()=>null),v=u;if(i&&"object"==typeof i){const x=i;l=x.next?.bind(x),f=x.error?.bind(x),v=x.complete?.bind(x)}this.__isAsync&&(f=Ew(f),l&&(l=Ew(l)),v&&(v=Ew(v)));const C=super.subscribe({next:l,error:f,complete:v});return i instanceof F.w0&&i.add(C),C}};function dI(){return this._results[pc()]()}class Iw{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=pc(),u=Iw.prototype;u[o]||(u[o]=dI)}get changes(){return this._changes||(this._changes=new ol)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=as(i);(this._changesDetected=!function Ua(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],f=i[u];if(o&&(l=o(l),f=o(f)),f!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Lm=(()=>{class n{}return n.__NG_ELEMENT_ID__=pI,n})();const hI=Lm,fI=class extends hI{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tViews,l=wd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(l[19]=v.createEmbeddedView(u)),Yc(u,l,i),new Nh(l)}};function pI(){return Ov(ri(),bt())}function Ov(n,i){return 4&n.type?new fI(i,n,xl(n,i)):null}let Rv=(()=>{class n{}return n.__NG_ELEMENT_ID__=gI,n})();function gI(){return B0(ri(),bt())}const mI=Rv,V0=class extends mI{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return xl(this._hostTNode,this._hostLView)}get injector(){return new Ei(this._hostTNode,this._hostLView)}get parentInjector(){const i=ga(this._hostTNode,this._hostLView);if(Qn(i)){const o=zn(i,this._hostLView),u=kn(i);return new Ei(o[1].data[u+8],o)}return new Ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=U0(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){let l,f;"number"==typeof u?l=u:null!=u&&(l=u.index,f=u.injector);const v=i.createEmbeddedView(o||{},f);return this.insert(v,l),v}createComponent(i,o,u,l,f){const v=i&&!function yi(n){return"function"==typeof n}(i);let C;if(v)C=o;else{const ce=o||{};C=ce.index,u=ce.injector,l=ce.projectableNodes,f=ce.environmentInjector||ce.ngModuleRef}const x=v?i:new qu(qe(i)),B=u||this.parentInjector;if(!f&&null==x.ngModule){const Pe=(v?B:this.parentInjector).get(su,null);Pe&&(f=Pe)}const Q=x.create(B,l,void 0,f);return this.insert(Q.hostView,C),Q}insert(i,o){const u=i._lView,l=u[1];if(function Wo(n){return Ot(n[3])}(u)){const Q=this.indexOf(i);if(-1!==Q)this.detach(Q);else{const ce=u[3],Pe=new V0(ce,ce[6],ce[3]);Pe.detach(Pe.indexOf(i))}}const f=this._adjustIndex(o),v=this._lContainer;!function Xl(n,i,o,u){const l=10+u,f=o.length;u>0&&(o[l-1][4]=i),u<f-10?(i[4]=o[l],ku(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const v=i[17];null!==v&&o!==v&&function Eu(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(v,i);const C=i[19];null!==C&&C.insertView(n),i[2]|=64}(l,u,v,f);const C=Ea(f,v),x=u[11],B=Gu(x,v[7]);return null!==B&&function kc(n,i,o,u,l,f){u[0]=l,u[6]=i,bl(n,u,o,1,l,f)}(l,v[6],x,u,B,C),i.attachToViewContainerRef(),ku(bw(v),f,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=U0(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=$u(this._lContainer,o);u&&(Ba(bw(this._lContainer),o),rh(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=$u(this._lContainer,o);return u&&null!=Ba(bw(this._lContainer),o)?new Nh(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function U0(n){return n[8]}function bw(n){return n[8]||(n[8]=[])}function B0(n,i){let o;const u=i[n.index];if(Ot(u))o=u;else{let l;if(8&n.type)l=zr(u);else{const f=i[11];l=f.createComment("");const v=pi(n,i);Ka(f,Gu(f,v),l,function uf(n,i){return n.nextSibling(i)}(f,v),!1)}i[n.index]=o=Ng(u,i,l,n),Dd(i,o)}return new V0(o,n,i)}class Dw{constructor(i){this.queryList=i,this.matches=null}clone(){return new Dw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cw{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let f=0;f<u;f++){const v=o.getByIndex(f);l.push(this.queries[v.indexInDeclarationView].clone())}return new Cw(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==q0(i,o).matches&&this.queries[o].setDirty()}}class j0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Tw{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,f=this.getByIndex(u).embeddedTView(i,l);f&&(f.indexInDeclarationView=u,null!==o?o.push(f):o=[f])}return null!==o?new Tw(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Aw{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Aw(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const f=u[l];this.matchTNodeWithReadOption(i,o,_I(o,f)),this.matchTNodeWithReadOption(i,o,Li(o,i,f,!1,!1))}else u===Lm?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Li(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Wc||l===Rv||l===Lm&&4&o.type)this.addMatch(o.index,-2);else{const f=Li(o,i,l,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function _I(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function EI(n,i,o,u){return-1===o?function wI(n,i){return 11&n.type?xl(n,i):4&n.type?Ov(n,i):null}(i,n):-2===o?function II(n,i,o){return o===Wc?xl(i,n):o===Lm?Ov(i,n):o===Rv?B0(i,n):void 0}(n,i,u):Sa(n,n[1],o,i)}function $0(n,i,o,u){const l=i[19].queries[u];if(null===l.matches){const f=n.data,v=o.matches,C=[];for(let x=0;x<v.length;x+=2){const B=v[x];C.push(B<0?null:EI(i,f[B],v[x+1],o.metadata.read))}l.matches=C}return l.matches}function Sw(n,i,o,u){const l=n.queries.getByIndex(o),f=l.matches;if(null!==f){const v=$0(n,i,l,o);for(let C=0;C<f.length;C+=2){const x=f[C];if(x>0)u.push(v[C/2]);else{const B=f[C+1],Q=i[-x];for(let ce=10;ce<Q.length;ce++){const Pe=Q[ce];Pe[17]===Pe[3]&&Sw(Pe[1],Pe,B,u)}if(null!==Q[9]){const ce=Q[9];for(let Pe=0;Pe<ce.length;Pe++){const tt=ce[Pe];Sw(tt[1],tt,B,u)}}}}}return u}function H0(n){const i=bt(),o=Yn(),u=pa();qi(u+1);const l=q0(o,u);if(n.dirty&&function uo(n){return 4==(4&n[2])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const f=l.crossesNgTemplate?Sw(o,i,u,[]):$0(o,i,l,u);n.reset(f,vh),n.notifyOnChanges()}return!0}return!1}function G0(n,i,o,u){const l=Yn();if(l.firstCreatePass){const f=ri();(function K0(n,i,o){null===n.queries&&(n.queries=new Tw),n.queries.track(new Aw(i,o))})(l,new j0(i,o,u),f.index),function CI(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function W0(n,i,o){const u=new Iw(4==(4&o));Vf(n,i,u,u.destroy),null===i[19]&&(i[19]=new Cw),i[19].queries.push(new Dw(u))}(l,bt(),o)}function z0(){return function DI(n,i){return n[19].queries[i].queryList}(bt(),pa())}function q0(n,i){return n.queries.getByIndex(i)}function kv(...n){}const fE=new j("Application Initializer");let Lv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=kv,this.reject=kv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(np(f))o.push(f);else if(am(f)){const v=new Promise((C,x)=>{f.subscribe({complete:C,error:x})});o.push(v)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Vi(fE,8))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pE=new j("AppId",{providedIn:"root",factory:function gE(){return`${Rw()}${Rw()}${Rw()}`}});function Rw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mE=new j("Platform Initializer"),WI=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yE=new j("appBootstrapListener");let KI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Fv=new j("LocaleId",{providedIn:"root",factory:()=>Dc(Fv,Lt.Optional|Lt.SkipSelf)||function qI(){return typeof $localize<"u"&&$localize.locale||Bd}()}),ZI=new j("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class YI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let QI=(()=>{class n{compileModuleSync(o){return new pt(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),f=lc(In(o).declarations).reduce((v,C)=>{const x=qe(C);return x&&v.push(new qu(x)),v},[]);return new YI(u,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eb=(()=>Promise.resolve(0))();function Nw(n){typeof Zone>"u"?eb.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Yu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ol(!1),this.onMicrotaskEmpty=new ol(!1),this.onStable=new ol(!1),this.onError=new ol(!1),typeof Zone>"u")throw new Ue(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function tb(){let n=Bn.requestAnimationFrame,i=Bn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function ib(n){const i=()=>{!function rb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Bn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Lw(n),n.isCheckStableRunning=!0,kw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Lw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,f,v,C)=>{try{return wE(n),o.invokeTask(l,f,v,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&i(),EE(n)}},onInvoke:(o,u,l,f,v,C,x)=>{try{return wE(n),o.invoke(l,f,v,C,x)}finally{n.shouldCoalesceRunChangeDetection&&i(),EE(n)}},onHasTask:(o,u,l,f)=>{o.hasTask(l,f),u===l&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,Lw(n),kw(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,u,l,f)=>(o.handleError(l,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yu.isInAngularZone())throw new Ue(909,!1)}static assertNotInAngularZone(){if(Yu.isInAngularZone())throw new Ue(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+l,i,nb,kv,kv);try{return f.runTask(v,o,u)}finally{f.cancelTask(v)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const nb={};function kw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Lw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function wE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function EE(n){n._nesting--,kw(n)}class sb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ol,this.onMicrotaskEmpty=new ol,this.onStable=new ol,this.onError=new ol}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const IE=new j(""),bE=new j("");let Fw,ob=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fw||(function ab(n){Fw=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yu.assertNotInAngularZone(),Nw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nw(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Vi(Yu),Vi(DE),Vi(bE))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})(),DE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Fw?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Gd=null;const CE=new j("AllowMultipleToken"),Vw=new j("PlatformDestroyListeners");class lb{constructor(i,o){this.name=i,this.token=o}}function AE(n,i,o=[]){const u=`Platform: ${i}`,l=new j(u);return(f=[])=>{let v=Uw();if(!v||v.injector.get(CE,!1)){const C=[...o,...f,{provide:l,useValue:!0}];n?n(C):function db(n){if(Gd&&!Gd.get(CE,!1))throw new Ue(400,!1);Gd=n;const i=n.get(xE);(function TE(n){const i=n.get(mE,null);i&&i.forEach(o=>o())})(n)}(function SE(n=[],i){return Rl.create({name:i,providers:[{provide:mf,useValue:"platform"},{provide:Vw,useValue:new Set([()=>Gd=null])},...n]})}(C,u))}return function fb(n){const i=Uw();if(!i)throw new Ue(401,!1);return i}()}}function Uw(){return Gd?.get(xE)??null}let xE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function PE(n,i){let o;return o="noop"===n?new sb:("zone.js"===n?void 0:n)||new Yu(i),o}(u?.ngZone,function ME(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),f=[{provide:Yu,useValue:l}];return l.run(()=>{const v=Rl.create({providers:f,parent:this.injector,name:o.moduleType.name}),C=o.create(v),x=C.injector.get(gd,null);if(!x)throw new Ue(402,!1);return l.runOutsideAngular(()=>{const B=l.onError.subscribe({next:Q=>{x.handleError(Q)}});C.onDestroy(()=>{Uv(this._modules,C),B.unsubscribe()})}),function OE(n,i,o){try{const u=o();return np(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(x,l,()=>{const B=C.injector.get(Lv);return B.runInitializers(),B.donePromise.then(()=>(function zl(n){Me(n,"Expected localeId to be defined"),"string"==typeof n&&(nv=n.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Fv,Bd)||Bd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(o,u=[]){const l=RE({},u);return function ub(n,i,o){const u=new pt(o);return Promise.resolve(u)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(o){const u=o.injector.get(Vv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Ue(403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Vw,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Vi(Rl))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function RE(n,i){return Array.isArray(i)?i.reduce(RE,n):{...n,...i}}let Vv=(()=>{class n{constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new z.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new z.y(C=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Yu.assertNotInAngularZone(),Nw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{Yu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{x.unsubscribe(),B.unsubscribe()}});this.isStable=(0,ue.T)(f,v.pipe((0,ee.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const l=o instanceof zp;if(!this._injector.get(Lv).done)throw!l&&qt(o),new Ue(405,false);let v;v=l?o:this._injector.get(yh).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const C=function cb(n){return n.isBoundToModule}(v)?void 0:this._injector.get(k),B=v.create(Rl.NULL,[],u||v.selector,C),Q=B.location.nativeElement,ce=B.injector.get(IE,null);return ce?.registerApplication(Q),B.onDestroy(()=>{this.detachView(B.hostView),Uv(this.components,B),ce?.unregisterApplication(Q)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new Ue(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Uv(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(yE,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Uv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ue(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Vi(Yu),Vi(su),Vi(gd))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uv(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let kE=!0,LE=!1;function gb(){return LE=!0,kE}function mb(){if(LE)throw new Error("Cannot enable prod mode after platform setup.");kE=!1}let yb=(()=>{class n{}return n.__NG_ELEMENT_ID__=vb,n})();function vb(n){return function _b(n,i,o){if(Sr(n)&&!o){const u=Gr(n.index,i);return new Nh(u,u)}return 47&n.type?new Nh(i[16],i):null}(ri(),bt(),16==(16&n))}class BE{constructor(){}supports(i){return Fh(i)}create(i){return new Cb(i)}}const Db=(n,i)=>i;class Cb{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Db}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,f=null;for(;o||u;){const v=!u||o&&o.currentIndex<$E(u,l,f)?o:u,C=$E(v,l,f),x=v.currentIndex;if(v===u)l--,u=u._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{f||(f=[]);const B=C-l,Q=x-l;if(B!=Q){for(let Pe=0;Pe<B;Pe++){const tt=Pe<f.length?f[Pe]:f[Pe]=0,Dt=tt+Pe;Q<=Dt&&Dt<B&&(f[Pe]=tt+1)}f[v.previousIndex]=Q-B}}C!==x&&i(v,C,x)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Fh(i))throw new Ue(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,f,v,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let C=0;C<this.length;C++)f=i[C],v=this._trackByFn(C,f),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,f,v,C)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,v,C),u=!0),o=o._next}else l=0,function qg(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[pc()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,C=>{v=this._trackByFn(l,C),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,C,v,l)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,v,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,f,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,f,l)):i=this._addAfter(new Tb(o,u),f,l),i}_verifyReinsertion(i,o,u,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?i=this._reinsertAfter(f,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,f=i._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new jE),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Tb{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ab{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class jE{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new Ab,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $E(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class HE{constructor(){}supports(i){return i instanceof Map||Zg(i)}create(){return new Sb}}class Sb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Zg(i)))throw new Ue(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const f=l._prev,v=l._next;return f&&(f._next=v),v&&(v._prev=f),l._next=null,l._prev=null,l}const u=new xb(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class xb{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GE(){return new Gw([new BE])}let Gw=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||GE()),deps:[[n,new Fu,new gu]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Ue(901,!1)}}return n.\u0275prov=He({token:n,providedIn:"root",factory:GE}),n})();function zE(){return new zw([new HE])}let zw=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||zE()),deps:[[n,new Fu,new gu]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Ue(901,!1)}}return n.\u0275prov=He({token:n,providedIn:"root",factory:zE}),n})();const Ob=AE(null,"core",[]);let Rb=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Vi(Vv))},n.\u0275mod=Ar({type:n}),n.\u0275inj=It({}),n})();function Nb(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(xe,le,O)=>{"use strict";O.d(le,{Fj:()=>at,qu:()=>Gs,u:()=>so,sg:()=>Po,JJ:()=>An,JL:()=>Sn,wV:()=>gt,UX:()=>Zo,kI:()=>vt,_Y:()=>Ae});var g=O(4650),F=O(6895),z=O(8996),ue=O(9751),ee=O(4742),pe=O(8421),ye=O(7669),we=O(5403),fe=O(3268),ne=O(1810),ae=O(4004);let Ge=(()=>{class U{constructor(M,Y){this._renderer=M,this._elementRef=Y,this.onChange=et=>{},this.onTouched=()=>{}}setProperty(M,Y){this._renderer.setProperty(this._elementRef.nativeElement,M,Y)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return U.\u0275fac=function(M){return new(M||U)(g.Y36(g.Qsj),g.Y36(g.SBq))},U.\u0275dir=g.lG2({type:U}),U})(),We=(()=>{class U extends Ge{}return U.\u0275fac=function(){let N;return function(Y){return(N||(N=g.n5z(U)))(Y||U)}}(),U.\u0275dir=g.lG2({type:U,features:[g.qOj]}),U})();const Ue=new g.OlP("NgValueAccessor"),$e={provide:Ue,useExisting:(0,g.Gpc)(()=>at),multi:!0},Pt=new g.OlP("CompositionEventMode");let at=(()=>{class U extends Ge{constructor(M,Y,et){super(M,Y),this._compositionMode=et,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function De(){const U=(0,F.q)()?(0,F.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(M){this.setProperty("value",M??"")}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return U.\u0275fac=function(M){return new(M||U)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Pt,8))},U.\u0275dir=g.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,Y){1&M&&g.NdJ("input",function(Jt){return Y._handleInput(Jt.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(Jt){return Y._compositionEnd(Jt.target.value)})},features:[g._Bn([$e]),g.qOj]}),U})();function Ne(U){return null==U||("string"==typeof U||Array.isArray(U))&&0===U.length}function Ct(U){return null!=U&&"number"==typeof U.length}const lt=new g.OlP("NgValidators"),Ke=new g.OlP("NgAsyncValidators"),Be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vt{static min(N){return function Tt(U){return N=>{if(Ne(N.value)||Ne(U))return null;const M=parseFloat(N.value);return!isNaN(M)&&M<U?{min:{min:U,actual:N.value}}:null}}(N)}static max(N){return function jt(U){return N=>{if(Ne(N.value)||Ne(U))return null;const M=parseFloat(N.value);return!isNaN(M)&&M>U?{max:{max:U,actual:N.value}}:null}}(N)}static required(N){return function Ut(U){return Ne(U.value)?{required:!0}:null}(N)}static requiredTrue(N){return function Dr(U){return!0===U.value?null:{required:!0}}(N)}static email(N){return function Ht(U){return Ne(U.value)||Be.test(U.value)?null:{email:!0}}(N)}static minLength(N){return function lr(U){return N=>Ne(N.value)||!Ct(N.value)?null:N.value.length<U?{minlength:{requiredLength:U,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function Nn(U){return N=>Ct(N.value)&&N.value.length>U?{maxlength:{requiredLength:U,actualLength:N.value.length}}:null}(N)}static pattern(N){return function Me(U){if(!U)return Oe;let N,M;return"string"==typeof U?(M="","^"!==U.charAt(0)&&(M+="^"),M+=U,"$"!==U.charAt(U.length-1)&&(M+="$"),N=new RegExp(M)):(M=U.toString(),N=U),Y=>{if(Ne(Y.value))return null;const et=Y.value;return N.test(et)?null:{pattern:{requiredPattern:M,actualValue:et}}}}(N)}static nullValidator(N){return null}static compose(N){return At(N)}static composeAsync(N){return rn(N)}}function Oe(U){return null}function te(U){return null!=U}function Xe(U){return(0,g.QGY)(U)?(0,z.D)(U):U}function ht(U){let N={};return U.forEach(M=>{N=null!=M?{...N,...M}:N}),0===Object.keys(N).length?null:N}function He(U,N){return N.map(M=>M(U))}function It(U){return U.map(N=>function Qe(U){return!U.validate}(N)?N:M=>N.validate(M))}function At(U){if(!U)return null;const N=U.filter(te);return 0==N.length?null:function(M){return ht(He(M,N))}}function Vt(U){return null!=U?At(It(U)):null}function rn(U){if(!U)return null;const N=U.filter(te);return 0==N.length?null:function(M){return function re(...U){const N=(0,ye.jO)(U),{args:M,keys:Y}=(0,ee.D)(U),et=new ue.y(Jt=>{const{length:ur}=M;if(!ur)return void Jt.complete();const Ai=new Array(ur);let mi=ur,os=ur;for(let Es=0;Es<ur;Es++){let Ki=!1;(0,pe.Xf)(M[Es]).subscribe((0,we.x)(Jt,co=>{Ki||(Ki=!0,os--),Ai[Es]=co},()=>mi--,void 0,()=>{(!mi||!Ki)&&(os||Jt.next(Y?(0,ne.n)(Y,Ai):Ai),Jt.complete())}))}});return N?et.pipe((0,fe.Z)(N)):et}(He(M,N).map(Xe)).pipe((0,ae.U)(ht))}}function xn(U){return null!=U?rn(It(U)):null}function _n(U,N){return null===U?[N]:Array.isArray(U)?[...U,N]:[U,N]}function tr(U){return U._rawValidators}function Xt(U){return U._rawAsyncValidators}function nr(U){return U?Array.isArray(U)?U:[U]:[]}function On(U,N){return Array.isArray(U)?U.includes(N):U===N}function En(U,N){const M=nr(N);return nr(U).forEach(et=>{On(M,et)||M.push(et)}),M}function Lt(U,N){return nr(N).filter(M=>!On(U,M))}class un{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=Vt(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=xn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,M){return!!this.control&&this.control.hasError(N,M)}getError(N,M){return this.control?this.control.getError(N,M):null}}class Ln extends un{get formDirective(){return null}get path(){return null}}class Cr extends un{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ci{constructor(N){this._cd=N}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let An=(()=>{class U extends Ci{constructor(M){super(M)}}return U.\u0275fac=function(M){return new(M||U)(g.Y36(Cr,2))},U.\u0275dir=g.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,Y){2&M&&g.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)},features:[g.qOj]}),U})(),Sn=(()=>{class U extends Ci{constructor(M){super(M)}}return U.\u0275fac=function(M){return new(M||U)(g.Y36(Ln,10))},U.\u0275dir=g.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,Y){2&M&&g.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)("ng-submitted",Y.isSubmitted)},features:[g.qOj]}),U})();const Ar="VALID",Nr="INVALID",_e="PENDING",se="DISABLED";function Ce(U){return(qt(U)?U.validators:U)||null}function qe(U){return Array.isArray(U)?Vt(U):U||null}function ke(U,N){return(qt(N)?N.asyncValidators:U)||null}function xt(U){return Array.isArray(U)?xn(U):U||null}function qt(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function In(U,N,M){const Y=U.controls;if(!(N?Object.keys(Y):Y).length)throw new g.vHH(1e3,"");if(!Y[M])throw new g.vHH(1001,"")}function rr(U,N,M){U._forEachChild((Y,et)=>{if(void 0===M[et])throw new g.vHH(1002,"")})}class de{constructor(N,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=N,this._rawAsyncValidators=M,this._composedValidatorFn=qe(this._rawValidators),this._composedAsyncValidatorFn=xt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===Ar}get invalid(){return this.status===Nr}get pending(){return this.status==_e}get disabled(){return this.status===se}get enabled(){return this.status!==se}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._rawValidators=N,this._composedValidatorFn=qe(N)}setAsyncValidators(N){this._rawAsyncValidators=N,this._composedAsyncValidatorFn=xt(N)}addValidators(N){this.setValidators(En(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(En(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(Lt(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(Lt(N,this._rawAsyncValidators))}hasValidator(N){return On(this._rawValidators,N)}hasAsyncValidator(N){return On(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=_e,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=se,this.errors=null,this._forEachChild(Y=>{Y.disable({...N,onlySelf:!0})}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...N,skipPristineCheck:M}),this._onDisabledChange.forEach(Y=>Y(!0))}enable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=Ar,this._forEachChild(Y=>{Y.enable({...N,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors({...N,skipPristineCheck:M}),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}getRawValue(){return this.value}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ar||this.status===_e)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?se:Ar}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=_e,this._hasOwnPendingAsyncValidator=!0;const M=Xe(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(Y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Y,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,M={}){this.errors=N,this._updateControlsErrors(!1!==M.emitEvent)}get(N){let M=N;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((Y,et)=>Y&&Y._find(et),this)}getError(N,M){const Y=M?this.get(M):this;return Y&&Y.errors?Y.errors[N]:null}hasError(N,M){return!!this.getError(N,M)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?se:this.errors?Nr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_e)?_e:this._anyControlsHaveStatus(Nr)?Nr:Ar}_anyControlsHaveStatus(N){return this._anyControls(M=>M.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){qt(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(N){return null}}class oe extends de{constructor(N,M,Y){super(Ce(M),ke(Y,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,M){return this.controls[N]?this.controls[N]:(this.controls[N]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(N,M,Y={}){this.registerControl(N,M),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}removeControl(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(N,M,Y={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],M&&this.registerControl(N,M),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,M={}){rr(this,0,N),Object.keys(N).forEach(Y=>{In(this,!0,Y),this.controls[Y].setValue(N[Y],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(Object.keys(N).forEach(Y=>{const et=this.controls[Y];et&&et.patchValue(N[Y],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N={},M={}){this._forEachChild((Y,et)=>{Y.reset(N[et],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(N,M,Y)=>(N[Y]=M.getRawValue(),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(M,Y)=>!!Y._syncPendingControls()||M);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(M=>{const Y=this.controls[M];Y&&N(Y,M)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const[M,Y]of Object.entries(this.controls))if(this.contains(M)&&N(Y))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,Y,et)=>((Y.enabled||this.disabled)&&(M[et]=Y.value),M))}_reduceChildren(N,M){let Y=N;return this._forEachChild((et,Jt)=>{Y=M(Y,et,Jt)}),Y}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(N){return this.controls.hasOwnProperty(N)?this.controls[N]:null}}class ft extends oe{}function Le(U,N){ln(U,N),N.valueAccessor.writeValue(U.value),U.disabled&&N.valueAccessor.setDisabledState?.(!0),function qn(U,N){N.valueAccessor.registerOnChange(M=>{U._pendingValue=M,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&Hn(U,N)})}(U,N),function Ur(U,N){const M=(Y,et)=>{N.valueAccessor.writeValue(Y),et&&N.viewToModelUpdate(Y)};U.registerOnChange(M),N._registerOnDestroy(()=>{U._unregisterOnChange(M)})}(U,N),function kr(U,N){N.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&Hn(U,N),"submit"!==U.updateOn&&U.markAsTouched()})}(U,N),function _t(U,N){if(N.valueAccessor.setDisabledState){const M=Y=>{N.valueAccessor.setDisabledState(Y)};U.registerOnDisabledChange(M),N._registerOnDestroy(()=>{U._unregisterOnDisabledChange(M)})}}(U,N)}function Fe(U,N,M=!0){const Y=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(Y),N.valueAccessor.registerOnTouched(Y)),mn(U,N),U&&(N._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function yt(U,N){U.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(N)})}function ln(U,N){const M=tr(U);null!==N.validator?U.setValidators(_n(M,N.validator)):"function"==typeof M&&U.setValidators([M]);const Y=Xt(U);null!==N.asyncValidator?U.setAsyncValidators(_n(Y,N.asyncValidator)):"function"==typeof Y&&U.setAsyncValidators([Y]);const et=()=>U.updateValueAndValidity();yt(N._rawValidators,et),yt(N._rawAsyncValidators,et)}function mn(U,N){let M=!1;if(null!==U){if(null!==N.validator){const et=tr(U);if(Array.isArray(et)&&et.length>0){const Jt=et.filter(ur=>ur!==N.validator);Jt.length!==et.length&&(M=!0,U.setValidators(Jt))}}if(null!==N.asyncValidator){const et=Xt(U);if(Array.isArray(et)&&et.length>0){const Jt=et.filter(ur=>ur!==N.asyncValidator);Jt.length!==et.length&&(M=!0,U.setAsyncValidators(Jt))}}}const Y=()=>{};return yt(N._rawValidators,Y),yt(N._rawAsyncValidators,Y),M}function Hn(U,N){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function Ot(U,N){const M=U.indexOf(N);M>-1&&U.splice(M,1)}function Gn(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const Sr=class extends de{constructor(N=null,M,Y){super(Ce(M),ke(Y,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qt(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=Gn(N)?N.value:N)}setValue(N,M={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(N,M={}){this.setValue(N,M)}reset(N=this.defaultValue,M={}){this._applyFormState(N),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){Ot(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){Ot(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){Gn(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}};let Ae=(()=>{class U{}return U.\u0275fac=function(M){return new(M||U)},U.\u0275dir=g.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),U})();const ze={provide:Ue,useExisting:(0,g.Gpc)(()=>gt),multi:!0};let gt=(()=>{class U extends We{writeValue(M){this.setProperty("value",M??"")}registerOnChange(M){this.onChange=Y=>{M(""==Y?null:parseFloat(Y))}}}return U.\u0275fac=function(){let N;return function(Y){return(N||(N=g.n5z(U)))(Y||U)}}(),U.\u0275dir=g.lG2({type:U,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(M,Y){1&M&&g.NdJ("input",function(Jt){return Y.onChange(Jt.target.value)})("blur",function(){return Y.onTouched()})},features:[g._Bn([ze]),g.qOj]}),U})(),gr=(()=>{class U{}return U.\u0275fac=function(M){return new(M||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({}),U})();const ti=new g.OlP("NgModelWithFormControlWarning"),$i={provide:Ln,useExisting:(0,g.Gpc)(()=>Po)};let Po=(()=>{class U extends Ln{constructor(M,Y){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(M),this._setAsyncValidators(Y)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const Y=this.form.get(M.path);return Le(Y,M),Y.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),Y}getControl(M){return this.form.get(M.path)}removeControl(M){Fe(M.control||null,M,!1),function ge(U,N){const M=U.indexOf(N);M>-1&&U.splice(M,1)}(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,Y){this.form.get(M.path).setValue(Y)}onSubmit(M){return this.submitted=!0,function ys(U,N){U._syncPendingControls(),N.forEach(M=>{const Y=M.control;"submit"===Y.updateOn&&Y._pendingChange&&(M.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const Y=M.control,et=this.form.get(M.path);Y!==et&&(Fe(Y||null,M),(U=>U instanceof Sr)(et)&&(Le(et,M),M.control=et))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const Y=this.form.get(M.path);(function fi(U,N){ln(U,N)})(Y,M),Y.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const Y=this.form.get(M.path);Y&&function ii(U,N){return mn(U,N)}(Y,M)&&Y.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ln(this.form,this),this._oldForm&&mn(this._oldForm,this)}_checkFormPresent(){}}return U.\u0275fac=function(M){return new(M||U)(g.Y36(lt,10),g.Y36(Ke,10))},U.\u0275dir=g.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(M,Y){1&M&&g.NdJ("submit",function(Jt){return Y.onSubmit(Jt)})("reset",function(){return Y.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([$i]),g.qOj,g.TTD]}),U})();const Go={provide:Cr,useExisting:(0,g.Gpc)(()=>so)};let so=(()=>{class U extends Cr{constructor(M,Y,et,Jt,ur){super(),this._ngModelWarningConfig=ur,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(Y),this._setAsyncValidators(et),this.valueAccessor=function _r(U,N){if(!N)return null;let M,Y,et;return Array.isArray(N),N.forEach(Jt=>{Jt.constructor===at?M=Jt:function Mi(U){return Object.getPrototypeOf(U.constructor)===We}(Jt)?Y=Jt:et=Jt}),et||Y||M||null}(0,Jt)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),function ts(U,N){if(!U.hasOwnProperty("model"))return!1;const M=U.model;return!!M.isFirstChange()||!Object.is(N,M.currentValue)}(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return function wn(U,N){return[...N.path,U]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return U._ngModelWarningSentOnce=!1,U.\u0275fac=function(M){return new(M||U)(g.Y36(Ln,13),g.Y36(lt,10),g.Y36(Ke,10),g.Y36(Ue,10),g.Y36(ti,8))},U.\u0275dir=g.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([Go]),g.qOj,g.TTD]}),U})(),Yn=(()=>{class U{}return U.\u0275fac=function(M){return new(M||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({imports:[gr]}),U})(),Zo=(()=>{class U{static withConfig(M){return{ngModule:U,providers:[{provide:ti,useValue:M.warnOnNgModelWithFormControl}]}}}return U.\u0275fac=function(M){return new(M||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({imports:[Yn]}),U})();class ri extends de{constructor(N,M,Y){super(Ce(M),ke(Y,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[this._adjustIndex(N)]}push(N,M={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(N,M,Y={}){this.controls.splice(N,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:Y.emitEvent})}removeAt(N,M={}){let Y=this._adjustIndex(N);Y<0&&(Y=0),this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),this.controls.splice(Y,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(N,M,Y={}){let et=this._adjustIndex(N);et<0&&(et=0),this.controls[et]&&this.controls[et]._registerOnCollectionChange(()=>{}),this.controls.splice(et,1),M&&(this.controls.splice(et,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,M={}){rr(this,0,N),N.forEach((Y,et)=>{In(this,!1,et),this.at(et).setValue(Y,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(N.forEach((Y,et)=>{this.at(et)&&this.at(et).patchValue(Y,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N=[],M={}){this._forEachChild((Y,et)=>{Y.reset(N[et],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(N=>N.getRawValue())}clear(N={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_adjustIndex(N){return N<0?N+this.length:N}_syncPendingControls(){let N=this.controls.reduce((M,Y)=>!!Y._syncPendingControls()||M,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((M,Y)=>{N(M,Y)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(M=>M.enabled&&N(M))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}_find(N){return this.at(N)??null}}function Ti(U){return!!U&&(void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn)}let Gs=(()=>{class U{constructor(){this.useNonNullable=!1}get nonNullable(){const M=new U;return M.useNonNullable=!0,M}group(M,Y=null){const et=this._reduceControls(M);let Jt={};return Ti(Y)?Jt=Y:null!==Y&&(Jt.validators=Y.validator,Jt.asyncValidators=Y.asyncValidator),new oe(et,Jt)}record(M,Y=null){const et=this._reduceControls(M);return new ft(et,Y)}control(M,Y,et){let Jt={};return this.useNonNullable?(Ti(Y)?Jt=Y:(Jt.validators=Y,Jt.asyncValidators=et),new Sr(M,{...Jt,nonNullable:!0})):new Sr(M,Y,et)}array(M,Y,et){const Jt=M.map(ur=>this._createControl(ur));return new ri(Jt,Y,et)}_reduceControls(M){const Y={};return Object.keys(M).forEach(et=>{Y[et]=this._createControl(M[et])}),Y}_createControl(M){return M instanceof Sr||M instanceof de?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return U.\u0275fac=function(M){return new(M||U)},U.\u0275prov=g.Yz7({token:U,factory:U.\u0275fac,providedIn:Zo}),U})()},1481:(xe,le,O)=>{"use strict";O.d(le,{Dx:()=>An,b2:()=>Ln,q6:()=>On});var g=O(6895),F=O(4650);class z extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends z{static makeCurrent(){(0,g.HT)(new ue)}onAndCancel(oe,X,Ve){return oe.addEventListener(X,Ve,!1),()=>{oe.removeEventListener(X,Ve,!1)}}dispatchEvent(oe,X){oe.dispatchEvent(X)}remove(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}createElement(oe,X){return(X=X||this.getDefaultDocument()).createElement(oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(oe){return oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(oe){return oe instanceof DocumentFragment}getGlobalEventTarget(oe,X){return"window"===X?window:"document"===X?oe:"body"===X?oe.body:null}getBaseHref(oe){const X=function pe(){return ee=ee||document.querySelector("base"),ee?ee.getAttribute("href"):null}();return null==X?null:function we(de){ye=ye||document.createElement("a"),ye.setAttribute("href",de);const oe=ye.pathname;return"/"===oe.charAt(0)?oe:`/${oe}`}(X)}resetBaseElement(){ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(oe){return(0,g.Mx)(document.cookie,oe)}}let ye,ee=null;const fe=new F.OlP("TRANSITION_ID"),re=[{provide:F.ip1,useFactory:function ne(de,oe,X){return()=>{X.get(F.CZH).donePromise.then(()=>{const Ve=(0,g.q)(),ft=oe.querySelectorAll(`style[ng-transition="${de}"]`);for(let Wt=0;Wt<ft.length;Wt++)Ve.remove(ft[Wt])})}},deps:[fe,g.K0,F.zs3],multi:!0}];let Ge=(()=>{class de{build(){return new XMLHttpRequest}}return de.\u0275fac=function(X){return new(X||de)},de.\u0275prov=F.Yz7({token:de,factory:de.\u0275fac}),de})();const We=new F.OlP("EventManagerPlugins");let Ue=(()=>{class de{constructor(X,Ve){this._zone=Ve,this._eventNameToPlugin=new Map,X.forEach(ft=>ft.manager=this),this._plugins=X.slice().reverse()}addEventListener(X,Ve,ft){return this._findPluginFor(Ve).addEventListener(X,Ve,ft)}addGlobalEventListener(X,Ve,ft){return this._findPluginFor(Ve).addGlobalEventListener(X,Ve,ft)}getZone(){return this._zone}_findPluginFor(X){const Ve=this._eventNameToPlugin.get(X);if(Ve)return Ve;const ft=this._plugins;for(let Wt=0;Wt<ft.length;Wt++){const wn=ft[Wt];if(wn.supports(X))return this._eventNameToPlugin.set(X,wn),wn}throw new Error(`No event manager plugin found for event ${X}`)}}return de.\u0275fac=function(X){return new(X||de)(F.LFG(We),F.LFG(F.R0b))},de.\u0275prov=F.Yz7({token:de,factory:de.\u0275fac}),de})();class St{constructor(oe){this._doc=oe}addGlobalEventListener(oe,X,Ve){const ft=(0,g.q)().getGlobalEventTarget(this._doc,oe);if(!ft)throw new Error(`Unsupported event target ${ft} for event ${X}`);return this.addEventListener(ft,X,Ve)}}let it=(()=>{class de{constructor(){this._stylesSet=new Set}addStyles(X){const Ve=new Set;X.forEach(ft=>{this._stylesSet.has(ft)||(this._stylesSet.add(ft),Ve.add(ft))}),this.onStylesAdded(Ve)}onStylesAdded(X){}getAllStyles(){return Array.from(this._stylesSet)}}return de.\u0275fac=function(X){return new(X||de)},de.\u0275prov=F.Yz7({token:de,factory:de.\u0275fac}),de})(),$e=(()=>{class de extends it{constructor(X){super(),this._doc=X,this._hostNodes=new Map,this._hostNodes.set(X.head,[])}_addStylesToHost(X,Ve,ft){X.forEach(Wt=>{const wn=this._doc.createElement("style");wn.textContent=Wt,ft.push(Ve.appendChild(wn))})}addHost(X){const Ve=[];this._addStylesToHost(this._stylesSet,X,Ve),this._hostNodes.set(X,Ve)}removeHost(X){const Ve=this._hostNodes.get(X);Ve&&Ve.forEach(De),this._hostNodes.delete(X)}onStylesAdded(X){this._hostNodes.forEach((Ve,ft)=>{this._addStylesToHost(X,ft,Ve)})}ngOnDestroy(){this._hostNodes.forEach(X=>X.forEach(De))}}return de.\u0275fac=function(X){return new(X||de)(F.LFG(g.K0))},de.\u0275prov=F.Yz7({token:de,factory:de.\u0275fac}),de})();function De(de){(0,g.q)().remove(de)}const Pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},at=/%COMP%/g;function vt(de,oe,X){for(let Ve=0;Ve<oe.length;Ve++){let ft=oe[Ve];Array.isArray(ft)?vt(de,ft,X):(ft=ft.replace(at,de),X.push(ft))}return X}function Tt(de){return oe=>{if("__ngUnwrap__"===oe)return de;!1===de(oe)&&(oe.preventDefault(),oe.returnValue=!1)}}let Ut=(()=>{class de{constructor(X,Ve,ft){this.eventManager=X,this.sharedStylesHost=Ve,this.appId=ft,this.rendererByCompId=new Map,this.defaultRenderer=new Dr(X)}createRenderer(X,Ve){if(!X||!Ve)return this.defaultRenderer;switch(Ve.encapsulation){case F.ifc.Emulated:{let ft=this.rendererByCompId.get(Ve.id);return ft||(ft=new Me(this.eventManager,this.sharedStylesHost,Ve,this.appId),this.rendererByCompId.set(Ve.id,ft)),ft.applyToHost(X),ft}case 1:case F.ifc.ShadowDom:return new Oe(this.eventManager,this.sharedStylesHost,X,Ve);default:if(!this.rendererByCompId.has(Ve.id)){const ft=vt(Ve.id,Ve.styles,[]);this.sharedStylesHost.addStyles(ft),this.rendererByCompId.set(Ve.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return de.\u0275fac=function(X){return new(X||de)(F.LFG(Ue),F.LFG($e),F.LFG(F.AFp))},de.\u0275prov=F.Yz7({token:de,factory:de.\u0275fac}),de})();class Dr{constructor(oe){this.eventManager=oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(oe,X){return X?document.createElementNS(Pt[X]||X,oe):document.createElement(oe)}createComment(oe){return document.createComment(oe)}createText(oe){return document.createTextNode(oe)}appendChild(oe,X){(Nn(oe)?oe.content:oe).appendChild(X)}insertBefore(oe,X,Ve){oe&&(Nn(oe)?oe.content:oe).insertBefore(X,Ve)}removeChild(oe,X){oe&&oe.removeChild(X)}selectRootElement(oe,X){let Ve="string"==typeof oe?document.querySelector(oe):oe;if(!Ve)throw new Error(`The selector "${oe}" did not match any elements`);return X||(Ve.textContent=""),Ve}parentNode(oe){return oe.parentNode}nextSibling(oe){return oe.nextSibling}setAttribute(oe,X,Ve,ft){if(ft){X=ft+":"+X;const Wt=Pt[ft];Wt?oe.setAttributeNS(Wt,X,Ve):oe.setAttribute(X,Ve)}else oe.setAttribute(X,Ve)}removeAttribute(oe,X,Ve){if(Ve){const ft=Pt[Ve];ft?oe.removeAttributeNS(ft,X):oe.removeAttribute(`${Ve}:${X}`)}else oe.removeAttribute(X)}addClass(oe,X){oe.classList.add(X)}removeClass(oe,X){oe.classList.remove(X)}setStyle(oe,X,Ve,ft){ft&(F.JOm.DashCase|F.JOm.Important)?oe.style.setProperty(X,Ve,ft&F.JOm.Important?"important":""):oe.style[X]=Ve}removeStyle(oe,X,Ve){Ve&F.JOm.DashCase?oe.style.removeProperty(X):oe.style[X]=""}setProperty(oe,X,Ve){oe[X]=Ve}setValue(oe,X){oe.nodeValue=X}listen(oe,X,Ve){return"string"==typeof oe?this.eventManager.addGlobalEventListener(oe,X,Tt(Ve)):this.eventManager.addEventListener(oe,X,Tt(Ve))}}function Nn(de){return"TEMPLATE"===de.tagName&&void 0!==de.content}class Me extends Dr{constructor(oe,X,Ve,ft){super(oe),this.component=Ve;const Wt=vt(ft+"-"+Ve.id,Ve.styles,[]);X.addStyles(Wt),this.contentAttr=function Ke(de){return"_ngcontent-%COMP%".replace(at,de)}(ft+"-"+Ve.id),this.hostAttr=function Be(de){return"_nghost-%COMP%".replace(at,de)}(ft+"-"+Ve.id)}applyToHost(oe){super.setAttribute(oe,this.hostAttr,"")}createElement(oe,X){const Ve=super.createElement(oe,X);return super.setAttribute(Ve,this.contentAttr,""),Ve}}class Oe extends Dr{constructor(oe,X,Ve,ft){super(oe),this.sharedStylesHost=X,this.hostEl=Ve,this.shadowRoot=Ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=vt(ft.id,ft.styles,[]);for(let wn=0;wn<Wt.length;wn++){const Le=document.createElement("style");Le.textContent=Wt[wn],this.shadowRoot.appendChild(Le)}}nodeOrShadowRoot(oe){return oe===this.hostEl?this.shadowRoot:oe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(oe,X){return super.appendChild(this.nodeOrShadowRoot(oe),X)}insertBefore(oe,X,Ve){return super.insertBefore(this.nodeOrShadowRoot(oe),X,Ve)}removeChild(oe,X){return super.removeChild(this.nodeOrShadowRoot(oe),X)}parentNode(oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(oe)))}}let te=(()=>{class de extends St{constructor(X){super(X)}supports(X){return!0}addEventListener(X,Ve,ft){return X.addEventListener(Ve,ft,!1),()=>this.removeEventListener(X,Ve,ft)}removeEventListener(X,Ve,ft){return X.removeEventListener(Ve,ft)}}return de.\u0275fac=function(X){return new(X||de)(F.LFG(g.K0))},de.\u0275prov=F.Yz7({token:de,factory:de.\u0275fac}),de})();const Xe=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},He={alt:de=>de.altKey,control:de=>de.ctrlKey,meta:de=>de.metaKey,shift:de=>de.shiftKey};let Qe=(()=>{class de extends St{constructor(X){super(X)}supports(X){return null!=de.parseEventName(X)}addEventListener(X,Ve,ft){const Wt=de.parseEventName(Ve),wn=de.eventCallback(Wt.fullKey,ft,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(X,Wt.domEventName,wn))}static parseEventName(X){const Ve=X.toLowerCase().split("."),ft=Ve.shift();if(0===Ve.length||"keydown"!==ft&&"keyup"!==ft)return null;const Wt=de._normalizeKey(Ve.pop());let wn="",Le=Ve.indexOf("code");if(Le>-1&&(Ve.splice(Le,1),wn="code."),Xe.forEach(yt=>{const _t=Ve.indexOf(yt);_t>-1&&(Ve.splice(_t,1),wn+=yt+".")}),wn+=Wt,0!=Ve.length||0===Wt.length)return null;const Fe={};return Fe.domEventName=ft,Fe.fullKey=wn,Fe}static matchEventFullKeyCode(X,Ve){let ft=ht[X.key]||X.key,Wt="";return Ve.indexOf("code.")>-1&&(ft=X.code,Wt="code."),!(null==ft||!ft)&&(ft=ft.toLowerCase()," "===ft?ft="space":"."===ft&&(ft="dot"),Xe.forEach(wn=>{wn!==ft&&(0,He[wn])(X)&&(Wt+=wn+".")}),Wt+=ft,Wt===Ve)}static eventCallback(X,Ve,ft){return Wt=>{de.matchEventFullKeyCode(Wt,X)&&ft.runGuarded(()=>Ve(Wt))}}static _normalizeKey(X){return"esc"===X?"escape":X}}return de.\u0275fac=function(X){return new(X||de)(F.LFG(g.K0))},de.\u0275prov=F.Yz7({token:de,factory:de.\u0275fac}),de})();const On=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:g.bD},{provide:F.g9A,useValue:function _n(){ue.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function Xt(){return(0,F.RDi)(document),document},deps:[]}]),En=new F.OlP(""),Lt=[{provide:F.rWj,useClass:class ae{addToWindow(oe){F.dqk.getAngularTestability=(Ve,ft=!0)=>{const Wt=oe.findTestabilityInTree(Ve,ft);if(null==Wt)throw new Error("Could not find testability for element.");return Wt},F.dqk.getAllAngularTestabilities=()=>oe.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>oe.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(Ve=>{const ft=F.dqk.getAllAngularTestabilities();let Wt=ft.length,wn=!1;const Le=function(Fe){wn=wn||Fe,Wt--,0==Wt&&Ve(wn)};ft.forEach(function(Fe){Fe.whenStable(Le)})})}findTestabilityInTree(oe,X,Ve){return null==X?null:oe.getTestability(X)??(Ve?(0,g.q)().isShadowRoot(X)?this.findTestabilityInTree(oe,X.host,!0):this.findTestabilityInTree(oe,X.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],un=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function tr(){return new F.qLn},deps:[]},{provide:We,useClass:te,multi:!0,deps:[g.K0,F.R0b,F.Lbi]},{provide:We,useClass:Qe,multi:!0,deps:[g.K0]},{provide:Ut,useClass:Ut,deps:[Ue,$e,F.AFp]},{provide:F.FYo,useExisting:Ut},{provide:it,useExisting:$e},{provide:$e,useClass:$e,deps:[g.K0]},{provide:Ue,useClass:Ue,deps:[We,F.R0b]},{provide:g.JF,useClass:Ge,deps:[]},[]];let Ln=(()=>{class de{constructor(X){}static withServerTransition(X){return{ngModule:de,providers:[{provide:F.AFp,useValue:X.appId},{provide:fe,useExisting:F.AFp},re]}}}return de.\u0275fac=function(X){return new(X||de)(F.LFG(En,12))},de.\u0275mod=F.oAB({type:de}),de.\u0275inj=F.cJS({providers:[...un,...Lt],imports:[g.ez,F.hGG]}),de})(),An=(()=>{class de{constructor(X){this._doc=X}getTitle(){return this._doc.title}setTitle(X){this._doc.title=X||""}}return de.\u0275fac=function(X){return new(X||de)(F.LFG(g.K0))},de.\u0275prov=F.Yz7({token:de,factory:function(X){let Ve=null;return Ve=X?new X:function jr(){return new An((0,F.LFG)(g.K0))}(),Ve},providedIn:"root"}),de})();typeof window<"u"&&window},2607:(xe,le,O)=>{"use strict";O.d(le,{F0:()=>Mt,rH:()=>Qt,Od:()=>wt,yS:()=>rt,Bz:()=>ja,lC:()=>mo});var g=O(4650),F=O(8996),z=O(9646),ue=O(1135),ee=O(6805),pe=O(9751),ye=O(4742),we=O(4671),fe=O(3268),ne=O(7669),re=O(1810),ae=O(5403),Ge=O(9672);function We(...E){const y=(0,ne.yG)(E),_=(0,ne.jO)(E),{args:A,keys:L}=(0,ye.D)(E);if(0===A.length)return(0,F.D)([],y);const q=new pe.y(function Ue(E,y,_=we.y){return A=>{St(y,()=>{const{length:L}=E,q=new Array(L);let he=L,Ee=L;for(let ot=0;ot<L;ot++)St(y,()=>{const Gt=(0,F.D)(E[ot],y);let Un=!1;Gt.subscribe((0,ae.x)(A,dn=>{q[ot]=dn,Un||(Un=!0,Ee--),Ee||A.next(_(q.slice()))},()=>{--he||A.complete()}))},A)},A)}}(A,y,L?he=>(0,re.n)(L,he):we.y));return _?q.pipe((0,fe.Z)(_)):q}function St(E,y,_){E?(0,Ge.f)(_,E,y):y()}var it=O(7272),$e=O(8421);function De(E){return new pe.y(y=>{(0,$e.Xf)(E()).subscribe(y)})}var Pt=O(9635),at=O(576);function Ye(E,y){const _=(0,at.m)(E)?E:()=>E,A=L=>L.error(_());return new pe.y(y?L=>y.schedule(A,0,L):A)}var Ne=O(515),Ct=O(727),lt=O(4482);function Ke(){return(0,lt.e)((E,y)=>{let _=null;E._refCount++;const A=(0,ae.x)(y,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(_=null);const L=E._connection,q=_;_=null,L&&(!q||L===q)&&L.unsubscribe(),y.unsubscribe()});E.subscribe(A),A.closed||(_=E.connect())})}class Be extends pe.y{constructor(y,_){super(),this.source=y,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,lt.A)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new Ct.w0;const _=this.getSubject();y.add(this.source.subscribe((0,ae.x)(_,void 0,()=>{this._teardown(),_.complete()},A=>{this._teardown(),_.error(A)},()=>this._teardown()))),y.closed&&(this._connection=null,y=Ct.w0.EMPTY)}return y}refCount(){return Ke()(this)}}var vt=O(7579),Tt=O(6895),jt=O(4004),Ut=O(3900),Dr=O(5698),Ht=O(8675),lr=O(9300),Nn=O(5577),Me=O(590),Oe=O(4351),te=O(8505),Xe=O(262),ht=O(5026);function He(E){return E<=0?()=>Ne.E:(0,lt.e)((y,_)=>{let A=[];y.subscribe((0,ae.x)(_,L=>{A.push(L),E<A.length&&A.shift()},()=>{for(const L of A)_.next(L);_.complete()},void 0,()=>{A=null}))})}var Qe=O(8068),It=O(6590);function At(E,y){const _=arguments.length>=2;return A=>A.pipe(E?(0,lr.h)((L,q)=>E(L,q,A)):we.y,He(1),_?(0,It.d)(y):(0,Qe.T)(()=>new ee.K))}function xn(E){return(0,lt.e)((y,_)=>{try{y.subscribe(_)}finally{_.add(E)}})}var _n=O(8189),tr=O(1481);const Xt="primary",nr=Symbol("RouteTitle");class On{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const _=this.params[y];return Array.isArray(_)?_[0]:_}return null}getAll(y){if(this.has(y)){const _=this.params[y];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function En(E){return new On(E)}function Lt(E,y,_){const A=_.path.split("/");if(A.length>E.length||"full"===_.pathMatch&&(y.hasChildren()||A.length<E.length))return null;const L={};for(let q=0;q<A.length;q++){const he=A[q],Ee=E[q];if(he.startsWith(":"))L[he.substring(1)]=Ee;else if(he!==Ee.path)return null}return{consumed:E.slice(0,A.length),posParams:L}}function Ln(E,y){const _=E?Object.keys(E):void 0,A=y?Object.keys(y):void 0;if(!_||!A||_.length!=A.length)return!1;let L;for(let q=0;q<_.length;q++)if(L=_[q],!Cr(E[L],y[L]))return!1;return!0}function Cr(E,y){if(Array.isArray(E)&&Array.isArray(y)){if(E.length!==y.length)return!1;const _=[...E].sort(),A=[...y].sort();return _.every((L,q)=>A[q]===L)}return E===y}function Ci(E){return Array.prototype.concat.apply([],E)}function ei(E){return E.length>0?E[E.length-1]:null}function An(E,y){for(const _ in E)E.hasOwnProperty(_)&&y(E[_],_)}function Sn(E){return(0,g.CqO)(E)?E:(0,g.QGY)(E)?(0,F.D)(Promise.resolve(E)):(0,z.of)(E)}const Bn={exact:function hn(E,y,_){if(!Zn(E.segments,y.segments)||!Fn(E.segments,y.segments,_)||E.numberOfChildren!==y.numberOfChildren)return!1;for(const A in y.children)if(!E.children[A]||!hn(E.children[A],y.children[A],_))return!1;return!0},subset:Wn},$r={exact:function Tr(E,y){return Ln(E,y)},subset:function Pr(E,y){return Object.keys(y).length<=Object.keys(E).length&&Object.keys(y).every(_=>Cr(E[_],y[_]))},ignored:()=>!0};function sr(E,y,_){return Bn[_.paths](E.root,y.root,_.matrixParams)&&$r[_.queryParams](E.queryParams,y.queryParams)&&!("exact"===_.fragment&&E.fragment!==y.fragment)}function Wn(E,y,_){return es(E,y,y.segments,_)}function es(E,y,_,A){if(E.segments.length>_.length){const L=E.segments.slice(0,_.length);return!(!Zn(L,_)||y.hasChildren()||!Fn(L,_,A))}if(E.segments.length===_.length){if(!Zn(E.segments,_)||!Fn(E.segments,_,A))return!1;for(const L in y.children)if(!E.children[L]||!Wn(E.children[L],y.children[L],A))return!1;return!0}{const L=_.slice(0,E.segments.length),q=_.slice(E.segments.length);return!!(Zn(E.segments,L)&&Fn(E.segments,L,A)&&E.children[Xt])&&es(E.children[Xt],y,q,A)}}function Fn(E,y,_){return y.every((A,L)=>$r[_](E[L].parameters,A.parameters))}class vr{constructor(y,_,A){this.root=y,this.queryParams=_,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}toString(){return Nr.serialize(this)}}class cn{constructor(y,_){this.segments=y,this.children=_,this.parent=null,An(_,(A,L)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _e(this)}}class Hr{constructor(y,_){this.path=y,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=En(this.parameters)),this._parameterMap}toString(){return rr(this)}}function Zn(E,y){return E.length===y.length&&E.every((_,A)=>_.path===y[A].path)}let $n=(()=>{class E{}return E.\u0275fac=function(_){return new(_||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return new Ar},providedIn:"root"}),E})();class Ar{parse(y){const _=new Fe(y);return new vr(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(y){const _=`/${se(y.root,!0)}`,A=function oe(E){const y=Object.keys(E).map(_=>{const A=E[_];return Array.isArray(A)?A.map(L=>`${qe(_)}=${qe(L)}`).join("&"):`${qe(_)}=${qe(A)}`}).filter(_=>!!_);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${_}${A}${"string"==typeof y.fragment?`#${function ke(E){return encodeURI(E)}(y.fragment)}`:""}`}}const Nr=new Ar;function _e(E){return E.segments.map(y=>rr(y)).join("/")}function se(E,y){if(!E.hasChildren())return _e(E);if(y){const _=E.children[Xt]?se(E.children[Xt],!1):"",A=[];return An(E.children,(L,q)=>{q!==Xt&&A.push(`${q}:${se(L,!1)}`)}),A.length>0?`${_}(${A.join("//")})`:_}{const _=function hi(E,y){let _=[];return An(E.children,(A,L)=>{L===Xt&&(_=_.concat(y(A,L)))}),An(E.children,(A,L)=>{L!==Xt&&(_=_.concat(y(A,L)))}),_}(E,(A,L)=>L===Xt?[se(E.children[Xt],!1)]:[`${L}:${se(A,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[Xt]?`${_e(E)}/${_[0]}`:`${_e(E)}/(${_.join("//")})`}}function Ce(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qe(E){return Ce(E).replace(/%3B/gi,";")}function xt(E){return Ce(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qt(E){return decodeURIComponent(E)}function In(E){return qt(E.replace(/\+/g,"%20"))}function rr(E){return`${xt(E.path)}${function de(E){return Object.keys(E).map(y=>`;${xt(y)}=${xt(E[y])}`).join("")}(E.parameters)}`}const X=/^[^\/()?;=#]+/;function Ve(E){const y=E.match(X);return y?y[0]:""}const ft=/^[^=?&#]+/,wn=/^[^&#]+/;class Fe{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(y.length>0||Object.keys(_).length>0)&&(A[Xt]=new cn(y,_)),A}parseSegment(){const y=Ve(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(y),new Hr(qt(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const _=Ve(this.remaining);if(!_)return;this.capture(_);let A="";if(this.consumeOptional("=")){const L=Ve(this.remaining);L&&(A=L,this.capture(A))}y[qt(_)]=qt(A)}parseQueryParam(y){const _=function Wt(E){const y=E.match(ft);return y?y[0]:""}(this.remaining);if(!_)return;this.capture(_);let A="";if(this.consumeOptional("=")){const he=function Le(E){const y=E.match(wn);return y?y[0]:""}(this.remaining);he&&(A=he,this.capture(A))}const L=In(_),q=In(A);if(y.hasOwnProperty(L)){let he=y[L];Array.isArray(he)||(he=[he],y[L]=he),he.push(q)}else y[L]=q}parseParens(y){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Ve(this.remaining),L=this.remaining[A.length];if("/"!==L&&")"!==L&&";"!==L)throw new g.vHH(4010,!1);let q;A.indexOf(":")>-1?(q=A.slice(0,A.indexOf(":")),this.capture(q),this.capture(":")):y&&(q=Xt);const he=this.parseChildren();_[q]=1===Object.keys(he).length?he[Xt]:new cn([],he),this.consumeOptional("//")}return _}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new g.vHH(4011,!1)}}function yt(E){return E.segments.length>0?new cn([],{[Xt]:E}):E}function _t(E){const y={};for(const A of Object.keys(E.children)){const q=_t(E.children[A]);(q.segments.length>0||q.hasChildren())&&(y[A]=q)}return function ln(E){if(1===E.numberOfChildren&&E.children[Xt]){const y=E.children[Xt];return new cn(E.segments.concat(y.segments),y.children)}return E}(new cn(E.segments,y))}function mn(E){return E instanceof vr}function fi(E,y,_,A,L){if(0===_.length)return ls(y.root,y.root,y.root,A,L);const q=function ts(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Di(!0,0,E);let y=0,_=!1;const A=E.reduce((L,q,he)=>{if("object"==typeof q&&null!=q){if(q.outlets){const Ee={};return An(q.outlets,(ot,Gt)=>{Ee[Gt]="string"==typeof ot?ot.split("/"):ot}),[...L,{outlets:Ee}]}if(q.segmentPath)return[...L,q.segmentPath]}return"string"!=typeof q?[...L,q]:0===he?(q.split("/").forEach((Ee,ot)=>{0==ot&&"."===Ee||(0==ot&&""===Ee?_=!0:".."===Ee?y++:""!=Ee&&L.push(Ee))}),L):[...L,q]},[]);return new Di(_,y,A)}(_);return q.toRoot()?ls(y.root,y.root,new cn([],{}),A,L):function he(ot){const Gt=function _r(E,y,_,A){if(E.isAbsolute)return new Mi(y.root,!0,0);if(-1===A)return new Mi(_,_===y.root,0);return function ge(E,y,_){let A=E,L=y,q=_;for(;q>L;){if(q-=L,A=A.parent,!A)throw new g.vHH(4005,!1);L=A.segments.length}return new Mi(A,!1,L-q)}(_,A+(ii(E.commands[0])?0:1),E.numberOfDoubleDots)}(q,y,E.snapshot?._urlSegment,ot),Un=Gt.processChildren?nt(Gt.segmentGroup,Gt.index,q.commands):Te(Gt.segmentGroup,Gt.index,q.commands);return ls(y.root,Gt.segmentGroup,Un,A,L)}(E.snapshot?._lastPathIndex)}function ii(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function _i(E){return"object"==typeof E&&null!=E&&E.outlets}function ls(E,y,_,A,L){let he,q={};A&&An(A,(ot,Gt)=>{q[Gt]=Array.isArray(ot)?ot.map(Un=>`${Un}`):`${ot}`}),he=E===y?_:or(E,y,_);const Ee=yt(_t(he));return new vr(Ee,q,L)}function or(E,y,_){const A={};return An(E.children,(L,q)=>{A[q]=L===y?_:or(L,y,_)}),new cn(E.segments,A)}class Di{constructor(y,_,A){if(this.isAbsolute=y,this.numberOfDoubleDots=_,this.commands=A,y&&A.length>0&&ii(A[0]))throw new g.vHH(4003,!1);const L=A.find(_i);if(L&&L!==ei(A))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mi{constructor(y,_,A){this.segmentGroup=y,this.processChildren=_,this.index=A}}function Te(E,y,_){if(E||(E=new cn([],{})),0===E.segments.length&&E.hasChildren())return nt(E,y,_);const A=function Et(E,y,_){let A=0,L=y;const q={match:!1,pathIndex:0,commandIndex:0};for(;L<E.segments.length;){if(A>=_.length)return q;const he=E.segments[L],Ee=_[A];if(_i(Ee))break;const ot=`${Ee}`,Gt=A<_.length-1?_[A+1]:null;if(L>0&&void 0===ot)break;if(ot&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!dr(ot,Gt,he))return q;A+=2}else{if(!dr(ot,{},he))return q;A++}L++}return{match:!0,pathIndex:L,commandIndex:A}}(E,y,_),L=_.slice(A.commandIndex);if(A.match&&A.pathIndex<E.segments.length){const q=new cn(E.segments.slice(0,A.pathIndex),{});return q.children[Xt]=new cn(E.segments.slice(A.pathIndex),E.children),nt(q,0,L)}return A.match&&0===L.length?new cn(E.segments,{}):A.match&&!E.hasChildren()?Ot(E,y,_):A.match?nt(E,0,L):Ot(E,y,_)}function nt(E,y,_){if(0===_.length)return new cn(E.segments,{});{const A=function ut(E){return _i(E[0])?E[0].outlets:{[Xt]:E}}(_),L={};return An(A,(q,he)=>{"string"==typeof q&&(q=[q]),null!==q&&(L[he]=Te(E.children[he],y,q))}),An(E.children,(q,he)=>{void 0===A[he]&&(L[he]=q)}),new cn(E.segments,L)}}function Ot(E,y,_){const A=E.segments.slice(0,y);let L=0;for(;L<_.length;){const q=_[L];if(_i(q)){const ot=Gn(q.outlets);return new cn(A,ot)}if(0===L&&ii(_[0])){A.push(new Hr(E.segments[y].path,Sr(_[0]))),L++;continue}const he=_i(q)?q.outlets[Xt]:`${q}`,Ee=L<_.length-1?_[L+1]:null;he&&Ee&&ii(Ee)?(A.push(new Hr(he,Sr(Ee))),L+=2):(A.push(new Hr(he,{})),L++)}return new cn(A,{})}function Gn(E){const y={};return An(E,(_,A)=>{"string"==typeof _&&(_=[_]),null!==_&&(y[A]=Ot(new cn([],{}),0,_))}),y}function Sr(E){const y={};return An(E,(_,A)=>y[A]=`${_}`),y}function dr(E,y,_){return E==_.path&&Ln(y,_.parameters)}class ar{constructor(y,_){this.id=y,this.url=_}}class bn extends ar{constructor(y,_,A="imperative",L=null){super(y,_),this.type=0,this.navigationTrigger=A,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class si extends ar{constructor(y,_,A){super(y,_),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ji extends ar{constructor(y,_,A,L){super(y,_),this.reason=A,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xr extends ar{constructor(y,_,A,L){super(y,_),this.error=A,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xo extends ar{constructor(y,_,A,L){super(y,_),this.urlAfterRedirects=A,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lr extends ar{constructor(y,_,A,L){super(y,_),this.urlAfterRedirects=A,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mo extends ar{constructor(y,_,A,L,q){super(y,_),this.urlAfterRedirects=A,this.state=L,this.shouldActivate=q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class go extends ar{constructor(y,_,A,L){super(y,_),this.urlAfterRedirects=A,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zs extends ar{constructor(y,_,A,L){super(y,_),this.urlAfterRedirects=A,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re{constructor(y){this.route=y,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ae{constructor(y){this.route=y,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ze{constructor(y){this.snapshot=y,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gt{constructor(y){this.snapshot=y,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(y){this.snapshot=y,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(y){this.snapshot=y,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(y,_,A){this.routerEvent=y,this.position=_,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fr{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const _=this.pathFromRoot(y);return _.length>1?_[_.length-2]:null}children(y){const _=ns(y,this._root);return _?_.children.map(A=>A.value):[]}firstChild(y){const _=ns(y,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(y){const _=$s(y,this._root);return _.length<2?[]:_[_.length-2].children.map(L=>L.value).filter(L=>L!==y)}pathFromRoot(y){return $s(y,this._root).map(_=>_.value)}}function ns(E,y){if(E===y.value)return y;for(const _ of y.children){const A=ns(E,_);if(A)return A}return null}function $s(E,y){if(E===y.value)return[y];for(const _ of y.children){const A=$s(E,_);if(A.length)return A.unshift(y),A}return[]}class ti{constructor(y,_){this.value=y,this.children=_}toString(){return`TreeNode(${this.value})`}}function Ss(E){const y={};return E&&E.children.forEach(_=>y[_.value.outlet]=_),y}class rs extends fr{constructor(y,_){super(y),this.snapshot=_,Go(this,y)}toString(){return this.snapshot.toString()}}function $i(E,y){const _=function Po(E,y){const he=new xs([],{},{},"",{},Xt,y,null,E.root,-1,{});return new Ys("",new ti(he,[]))}(E,y),A=new ue.X([new Hr("",{})]),L=new ue.X({}),q=new ue.X({}),he=new ue.X({}),Ee=new ue.X(""),ot=new ui(A,L,he,Ee,q,Xt,y,_.root);return ot.snapshot=_.root,new rs(new ti(ot,[]),_)}class ui{constructor(y,_,A,L,q,he,Ee,ot){this.url=y,this.params=_,this.queryParams=A,this.fragment=L,this.data=q,this.outlet=he,this.component=Ee,this.title=this.data?.pipe((0,jt.U)(Gt=>Gt[nr]))??(0,z.of)(void 0),this._futureSnapshot=ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,jt.U)(y=>En(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,jt.U)(y=>En(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hi(E,y="emptyOnly"){const _=E.pathFromRoot;let A=0;if("always"!==y)for(A=_.length-1;A>=1;){const L=_[A],q=_[A-1];if(L.routeConfig&&""===L.routeConfig.path)A--;else{if(q.component)break;A--}}return function ds(E){return E.reduce((y,_)=>({params:{...y.params,..._.params},data:{...y.data,..._.data},resolve:{..._.data,...y.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(A))}class xs{constructor(y,_,A,L,q,he,Ee,ot,Gt,Un,dn,wr){this.url=y,this.params=_,this.queryParams=A,this.fragment=L,this.data=q,this.outlet=he,this.component=Ee,this.title=this.data?.[nr],this.routeConfig=ot,this._urlSegment=Gt,this._lastPathIndex=Un,this._correctedLastPathIndex=wr??Un,this._resolve=dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=En(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ys extends fr{constructor(y,_){super(_),this.url=y,Go(this,_)}toString(){return so(this._root)}}function Go(E,y){y.value._routerState=E,y.children.forEach(_=>Go(E,_))}function so(E){const y=E.children.length>0?` { ${E.children.map(so).join(", ")} } `:"";return`${E.value}${y}`}function oo(E){if(E.snapshot){const y=E.snapshot,_=E._futureSnapshot;E.snapshot=_,Ln(y.queryParams,_.queryParams)||E.queryParams.next(_.queryParams),y.fragment!==_.fragment&&E.fragment.next(_.fragment),Ln(y.params,_.params)||E.params.next(_.params),function un(E,y){if(E.length!==y.length)return!1;for(let _=0;_<E.length;++_)if(!Ln(E[_],y[_]))return!1;return!0}(y.url,_.url)||E.url.next(_.url),Ln(y.data,_.data)||E.data.next(_.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function zo(E,y){const _=Ln(E.params,y.params)&&function Kn(E,y){return Zn(E,y)&&E.every((_,A)=>Ln(_.parameters,y[A].parameters))}(E.url,y.url);return _&&!(!E.parent!=!y.parent)&&(!E.parent||zo(E.parent,y.parent))}function Or(E,y,_){if(_&&E.shouldReuseRoute(y.value,_.value.snapshot)){const A=_.value;A._futureSnapshot=y.value;const L=function fa(E,y,_){return y.children.map(A=>{for(const L of _.children)if(E.shouldReuseRoute(A.value,L.value.snapshot))return Or(E,A,L);return Or(E,A)})}(E,y,_);return new ti(A,L)}{if(E.shouldAttach(y.value)){const q=E.retrieve(y.value);if(null!==q){const he=q.route;return he.value._futureSnapshot=y.value,he.children=y.children.map(Ee=>Or(E,Ee)),he}}const A=function vs(E){return new ui(new ue.X(E.url),new ue.X(E.params),new ue.X(E.queryParams),new ue.X(E.fragment),new ue.X(E.data),E.outlet,E.component,E)}(y.value),L=y.children.map(q=>Or(E,q));return new ti(A,L)}}const Qs="ngNavigationCancelingError";function Yr(E,y){const{redirectTo:_,navigationBehaviorOptions:A}=mn(y)?{redirectTo:y,navigationBehaviorOptions:void 0}:y,L=zr(!1,0,y);return L.url=_,L.navigationBehaviorOptions=A,L}function zr(E,y,_){const A=new Error("NavigationCancelingError: "+(E||""));return A[Qs]=!0,A.cancellationCode=y,_&&(A.url=_),A}function Pi(E){return Hs(E)&&mn(E.url)}function Hs(E){return E&&E[Qs]}class is{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new pi,this.attachRef=null}}let pi=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(_,A){const L=this.getOrCreateContext(_);L.outlet=A,this.contexts.set(_,L)}onChildOutletDestroyed(_){const A=this.getContext(_);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let A=this.getContext(_);return A||(A=new is,this.contexts.set(_,A)),A}getContext(_){return this.contexts.get(_)||null}}return E.\u0275fac=function(_){return new(_||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const hs=!1;let mo=(()=>{class E{constructor(_,A,L,q,he){this.parentContexts=_,this.location=A,this.changeDetector=q,this.environmentInjector=he,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=L||Xt,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,hs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,hs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,hs);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,A){this.activated=_,this._activatedRoute=A,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,A){if(this.isActivated)throw new g.vHH(4013,hs);this._activatedRoute=_;const L=this.location,he=_._futureSnapshot.component,Ee=this.parentContexts.getOrCreateContext(this.name).children,ot=new ao(_,Ee,L.injector);if(A&&function Gr(E){return!!E.resolveComponentFactory}(A)){const Gt=A.resolveComponentFactory(he);this.activated=L.createComponent(Gt,L.length,ot)}else this.activated=L.createComponent(he,{index:L.length,injector:ot,environmentInjector:A??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(_){return new(_||E)(g.Y36(pi),g.Y36(g.s_b),g.$8M("name"),g.Y36(g.sBO),g.Y36(g.lqb))},E.\u0275dir=g.lG2({type:E,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),E})();class ao{constructor(y,_,A){this.route=y,this.childContexts=_,this.parent=A}get(y,_){return y===ui?this.route:y===pi?this.childContexts:this.parent.get(y,_)}}let uo=(()=>{class E{}return E.\u0275fac=function(_){return new(_||E)},E.\u0275cmp=g.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(_,A){1&_&&g._UZ(0,"router-outlet")},dependencies:[mo],encapsulation:2}),E})();function Gi(E,y){return E.providers&&!E._injector&&(E._injector=(0,g.MMx)(E.providers,y,`Route: ${E.path}`)),E._injector??y}function vo(E){const y=E.children&&E.children.map(vo),_=y?{...E,children:y}:{...E};return!_.component&&!_.loadComponent&&(y||_.loadChildren)&&_.outlet&&_.outlet!==Xt&&(_.component=uo),_}function Wi(E){return E.outlet||Xt}function _s(E,y){const _=E.filter(A=>Wi(A)===y);return _.push(...E.filter(A=>Wi(A)!==y)),_}function Ri(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let y=E.parent;y;y=y.parent){const _=y.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class bt{constructor(y,_,A,L){this.routeReuseStrategy=y,this.futureState=_,this.currState=A,this.forwardEvent=L}activate(y){const _=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,A,y),oo(this.futureState.root),this.activateChildRoutes(_,A,y)}deactivateChildRoutes(y,_,A){const L=Ss(_);y.children.forEach(q=>{const he=q.value.outlet;this.deactivateRoutes(q,L[he],A),delete L[he]}),An(L,(q,he)=>{this.deactivateRouteAndItsChildren(q,A)})}deactivateRoutes(y,_,A){const L=y.value,q=_?_.value:null;if(L===q)if(L.component){const he=A.getContext(L.outlet);he&&this.deactivateChildRoutes(y,_,he.children)}else this.deactivateChildRoutes(y,_,A);else q&&this.deactivateRouteAndItsChildren(_,A)}deactivateRouteAndItsChildren(y,_){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,_):this.deactivateRouteAndOutlet(y,_)}detachAndStoreRouteSubtree(y,_){const A=_.getContext(y.value.outlet),L=A&&y.value.component?A.children:_,q=Ss(y);for(const he of Object.keys(q))this.deactivateRouteAndItsChildren(q[he],L);if(A&&A.outlet){const he=A.outlet.detach(),Ee=A.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:he,route:y,contexts:Ee})}}deactivateRouteAndOutlet(y,_){const A=_.getContext(y.value.outlet),L=A&&y.value.component?A.children:_,q=Ss(y);for(const he of Object.keys(q))this.deactivateRouteAndItsChildren(q[he],L);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(y,_,A){const L=Ss(_);y.children.forEach(q=>{this.activateRoutes(q,L[q.value.outlet],A),this.forwardEvent(new Tn(q.value.snapshot))}),y.children.length&&this.forwardEvent(new gt(y.value.snapshot))}activateRoutes(y,_,A){const L=y.value,q=_?_.value:null;if(oo(L),L===q)if(L.component){const he=A.getOrCreateContext(L.outlet);this.activateChildRoutes(y,_,he.children)}else this.activateChildRoutes(y,_,A);else if(L.component){const he=A.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const Ee=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),he.children.onOutletReAttached(Ee.contexts),he.attachRef=Ee.componentRef,he.route=Ee.route.value,he.outlet&&he.outlet.attach(Ee.componentRef,Ee.route.value),oo(Ee.route.value),this.activateChildRoutes(y,null,he.children)}else{const Ee=Ri(L.snapshot),ot=Ee?.get(g._Vd)??null;he.attachRef=null,he.route=L,he.resolver=ot,he.injector=Ee,he.outlet&&he.outlet.activateWith(L,he.injector),this.activateChildRoutes(y,null,he.children)}}else this.activateChildRoutes(y,null,A)}}class Yn{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class _o{constructor(y,_){this.component=y,this.route=_}}function Zo(E,y,_){const A=E._root;return Ji(A,y?y._root:null,_,[A.value])}function ws(E,y){const _=Symbol(),A=y.get(E,_);return A===_?"function"!=typeof E||(0,g.Z0I)(E)?y.get(E):E:A}function Ji(E,y,_,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const q=Ss(y);return E.children.forEach(he=>{(function Ti(E,y,_,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const q=E.value,he=y?y.value:null,Ee=_?_.getContext(E.value.outlet):null;if(he&&q.routeConfig===he.routeConfig){const ot=function Gs(E,y,_){if("function"==typeof _)return _(E,y);switch(_){case"pathParamsChange":return!Zn(E.url,y.url);case"pathParamsOrQueryParamsChange":return!Zn(E.url,y.url)||!Ln(E.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zo(E,y)||!Ln(E.queryParams,y.queryParams);default:return!zo(E,y)}}(he,q,q.routeConfig.runGuardsAndResolvers);ot?L.canActivateChecks.push(new Yn(A)):(q.data=he.data,q._resolvedData=he._resolvedData),Ji(E,y,q.component?Ee?Ee.children:null:_,A,L),ot&&Ee&&Ee.outlet&&Ee.outlet.isActivated&&L.canDeactivateChecks.push(new _o(Ee.outlet.component,he))}else he&&Js(y,Ee,L),L.canActivateChecks.push(new Yn(A)),Ji(E,null,q.component?Ee?Ee.children:null:_,A,L)})(he,q[he.value.outlet],_,A.concat([he.value]),L),delete q[he.value.outlet]}),An(q,(he,Ee)=>Js(he,_.getContext(Ee),L)),L}function Js(E,y,_){const A=Ss(E),L=E.value;An(A,(q,he)=>{Js(q,L.component?y?y.children.getContext(he):null:y,_)}),_.canDeactivateChecks.push(new _o(L.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,L))}function ss(E){return"function"==typeof E}function Ai(E){return E instanceof ee.K||"EmptyError"===E?.name}const mi=Symbol("INITIAL_VALUE");function os(){return(0,Ut.w)(E=>We(E.map(y=>y.pipe((0,Dr.q)(1),(0,Ht.O)(mi)))).pipe((0,jt.U)(y=>{for(const _ of y)if(!0!==_){if(_===mi)return mi;if(!1===_||_ instanceof vr)return _}return!0}),(0,lr.h)(y=>y!==mi),(0,Dr.q)(1)))}function Ms(E){return(0,Pt.z)((0,te.b)(y=>{if(mn(y))throw Yr(0,y)}),(0,jt.U)(y=>!0===y))}const No={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ko(E,y,_,A,L){const q=wo(E,y,_);return q.matched?function Qo(E,y,_,A){const L=y.canMatch;if(!L||0===L.length)return(0,z.of)(!0);const q=L.map(he=>{const Ee=ws(he,E);return Sn(function et(E){return E&&ss(E.canMatch)}(Ee)?Ee.canMatch(y,_):E.runInContext(()=>Ee(y,_)))});return(0,z.of)(q).pipe(os(),Ms())}(A=Gi(y,A),y,_).pipe((0,jt.U)(he=>!0===he?q:{...No})):(0,z.of)(q)}function wo(E,y,_){if(""===y.path)return"full"===y.pathMatch&&(E.hasChildren()||_.length>0)?{...No}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const L=(y.matcher||Lt)(_,E,y);if(!L)return{...No};const q={};An(L.posParams,(Ee,ot)=>{q[ot]=Ee.path});const he=L.consumed.length>0?{...q,...L.consumed[L.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:L.consumed,remainingSegments:_.slice(L.consumed.length),parameters:he,positionalParamSegments:L.posParams??{}}}function Eo(E,y,_,A,L="corrected"){if(_.length>0&&function Qr(E,y,_){return _.some(A=>Jo(E,y,A)&&Wi(A)!==Xt)}(E,_,A)){const he=new cn(y,function to(E,y,_,A){const L={};L[Xt]=A,A._sourceSegment=E,A._segmentIndexShift=y.length;for(const q of _)if(""===q.path&&Wi(q)!==Xt){const he=new cn([],{});he._sourceSegment=E,he._segmentIndexShift=y.length,L[Wi(q)]=he}return L}(E,y,A,new cn(_,E.children)));return he._sourceSegment=E,he._segmentIndexShift=y.length,{segmentGroup:he,slicedSegments:[]}}if(0===_.length&&function Da(E,y,_){return _.some(A=>Jo(E,y,A))}(E,_,A)){const he=new cn(E.segments,function Mr(E,y,_,A,L,q){const he={};for(const Ee of A)if(Jo(E,_,Ee)&&!L[Wi(Ee)]){const ot=new cn([],{});ot._sourceSegment=E,ot._segmentIndexShift="legacy"===q?E.segments.length:y.length,he[Wi(Ee)]=ot}return{...L,...he}}(E,y,_,A,E.children,L));return he._sourceSegment=E,he._segmentIndexShift=y.length,{segmentGroup:he,slicedSegments:_}}const q=new cn(E.segments,E.children);return q._sourceSegment=E,q._segmentIndexShift=y.length,{segmentGroup:q,slicedSegments:_}}function Jo(E,y,_){return(!(E.hasChildren()||y.length>0)||"full"!==_.pathMatch)&&""===_.path}function Io(E,y,_,A){return!!(Wi(E)===A||A!==Xt&&Jo(y,_,E))&&("**"===E.path||wo(y,E,_).matched)}function Ca(E,y,_){return 0===y.length&&!E.children[_]}const lo=!1;class Ps{constructor(y){this.segmentGroup=y||null}}class no{constructor(y){this.urlTree=y}}function Os(E){return Ye(new Ps(E))}function bo(E){return Ye(new no(E))}class bs{constructor(y,_,A,L,q){this.injector=y,this.configLoader=_,this.urlSerializer=A,this.urlTree=L,this.config=q,this.allowRedirects=!0}apply(){const y=Eo(this.urlTree.root,[],[],this.config).segmentGroup,_=new cn(y.segments,y.children);return this.expandSegmentGroup(this.injector,this.config,_,Xt).pipe((0,jt.U)(q=>this.createUrlTree(_t(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Xe.K)(q=>{if(q instanceof no)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof Ps?this.noMatchError(q):q}))}match(y){return this.expandSegmentGroup(this.injector,this.config,y.root,Xt).pipe((0,jt.U)(L=>this.createUrlTree(_t(L),y.queryParams,y.fragment))).pipe((0,Xe.K)(L=>{throw L instanceof Ps?this.noMatchError(L):L}))}noMatchError(y){return new g.vHH(4002,lo)}createUrlTree(y,_,A){const L=yt(y);return new vr(L,_,A)}expandSegmentGroup(y,_,A,L){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(y,_,A).pipe((0,jt.U)(q=>new cn([],q))):this.expandSegment(y,A,_,A.segments,L,!0)}expandChildren(y,_,A){const L=[];for(const q of Object.keys(A.children))"primary"===q?L.unshift(q):L.push(q);return(0,F.D)(L).pipe((0,Oe.b)(q=>{const he=A.children[q],Ee=_s(_,q);return this.expandSegmentGroup(y,Ee,he,q).pipe((0,jt.U)(ot=>({segment:ot,outlet:q})))}),(0,ht.R)((q,he)=>(q[he.outlet]=he.segment,q),{}),At())}expandSegment(y,_,A,L,q,he){return(0,F.D)(A).pipe((0,Oe.b)(Ee=>this.expandSegmentAgainstRoute(y,_,A,Ee,L,q,he).pipe((0,Xe.K)(Gt=>{if(Gt instanceof Ps)return(0,z.of)(null);throw Gt}))),(0,Me.P)(Ee=>!!Ee),(0,Xe.K)((Ee,ot)=>{if(Ai(Ee))return Ca(_,L,q)?(0,z.of)(new cn([],{})):Os(_);throw Ee}))}expandSegmentAgainstRoute(y,_,A,L,q,he,Ee){return Io(L,_,q,he)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(y,_,L,q,he):Ee&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,_,A,L,q,he):Os(_):Os(_)}expandSegmentAgainstRouteUsingRedirect(y,_,A,L,q,he){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,A,L,he):this.expandRegularSegmentAgainstRouteUsingRedirect(y,_,A,L,q,he)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,_,A,L){const q=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?bo(q):this.lineralizeSegments(A,q).pipe((0,Nn.z)(he=>{const Ee=new cn(he,{});return this.expandSegment(y,Ee,_,he,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,_,A,L,q,he){const{matched:Ee,consumedSegments:ot,remainingSegments:Gt,positionalParamSegments:Un}=wo(_,L,q);if(!Ee)return Os(_);const dn=this.applyRedirectCommands(ot,L.redirectTo,Un);return L.redirectTo.startsWith("/")?bo(dn):this.lineralizeSegments(L,dn).pipe((0,Nn.z)(wr=>this.expandSegment(y,_,A,wr.concat(Gt),he,!1)))}matchSegmentAgainstRoute(y,_,A,L,q){return"**"===A.path?(y=Gi(A,y),A.loadChildren?(A._loadedRoutes?(0,z.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(y,A)).pipe((0,jt.U)(Ee=>(A._loadedRoutes=Ee.routes,A._loadedInjector=Ee.injector,new cn(L,{})))):(0,z.of)(new cn(L,{}))):ko(_,A,L,y).pipe((0,Ut.w)(({matched:he,consumedSegments:Ee,remainingSegments:ot})=>he?this.getChildConfig(y=A._injector??y,A,L).pipe((0,Nn.z)(Un=>{const dn=Un.injector??y,wr=Un.routes,{segmentGroup:Vr,slicedSegments:li}=Eo(_,Ee,ot,wr),Ao=new cn(Vr.segments,Vr.children);if(0===li.length&&Ao.hasChildren())return this.expandChildren(dn,wr,Ao).pipe((0,jt.U)(Ma=>new cn(Ee,Ma)));if(0===wr.length&&0===li.length)return(0,z.of)(new cn(Ee,{}));const ho=Wi(A)===q;return this.expandSegment(dn,Ao,wr,li,ho?Xt:q,!0).pipe((0,jt.U)(va=>new cn(Ee.concat(va.segments),va.children)))})):Os(_)))}getChildConfig(y,_,A){return _.children?(0,z.of)({routes:_.children,injector:y}):_.loadChildren?void 0!==_._loadedRoutes?(0,z.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function eo(E,y,_,A){const L=y.canLoad;if(void 0===L||0===L.length)return(0,z.of)(!0);const q=L.map(he=>{const Ee=ws(he,E);return Sn(function U(E){return E&&ss(E.canLoad)}(Ee)?Ee.canLoad(y,_):E.runInContext(()=>Ee(y,_)))});return(0,z.of)(q).pipe(os(),Ms())}(y,_,A).pipe((0,Nn.z)(L=>L?this.configLoader.loadChildren(y,_).pipe((0,te.b)(q=>{_._loadedRoutes=q.routes,_._loadedInjector=q.injector})):function Do(E){return Ye(zr(lo,3))}())):(0,z.of)({routes:[],injector:y})}lineralizeSegments(y,_){let A=[],L=_.root;for(;;){if(A=A.concat(L.segments),0===L.numberOfChildren)return(0,z.of)(A);if(L.numberOfChildren>1||!L.children[Xt])return Ye(new g.vHH(4e3,lo));L=L.children[Xt]}}applyRedirectCommands(y,_,A){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),y,A)}applyRedirectCreateUrlTree(y,_,A,L){const q=this.createSegmentGroup(y,_.root,A,L);return new vr(q,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(y,_){const A={};return An(y,(L,q)=>{if("string"==typeof L&&L.startsWith(":")){const Ee=L.substring(1);A[q]=_[Ee]}else A[q]=L}),A}createSegmentGroup(y,_,A,L){const q=this.createSegments(y,_.segments,A,L);let he={};return An(_.children,(Ee,ot)=>{he[ot]=this.createSegmentGroup(y,Ee,A,L)}),new cn(q,he)}createSegments(y,_,A,L){return _.map(q=>q.path.startsWith(":")?this.findPosParam(y,q,L):this.findOrReturn(q,A))}findPosParam(y,_,A){const L=A[_.path.substring(1)];if(!L)throw new g.vHH(4001,lo);return L}findOrReturn(y,_){let A=0;for(const L of _){if(L.path===y.path)return _.splice(A),L;A++}return y}}class fu{}class Fr{constructor(y,_,A,L,q,he,Ee,ot){this.injector=y,this.rootComponentType=_,this.config=A,this.urlTree=L,this.url=q,this.paramsInheritanceStrategy=he,this.relativeLinkResolution=Ee,this.urlSerializer=ot}recognize(){const y=Eo(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,y,Xt).pipe((0,jt.U)(_=>{if(null===_)return null;const A=new xs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xt,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new ti(A,_),q=new Ys(this.url,L);return this.inheritParamsAndData(q._root),q}))}inheritParamsAndData(y){const _=y.value,A=Hi(_,this.paramsInheritanceStrategy);_.params=Object.freeze(A.params),_.data=Object.freeze(A.data),y.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(y,_,A,L){return 0===A.segments.length&&A.hasChildren()?this.processChildren(y,_,A):this.processSegment(y,_,A,A.segments,L)}processChildren(y,_,A){return(0,F.D)(Object.keys(A.children)).pipe((0,Oe.b)(L=>{const q=A.children[L],he=_s(_,L);return this.processSegmentGroup(y,he,q,L)}),(0,ht.R)((L,q)=>L&&q?(L.push(...q),L):null),function Vt(E,y=!1){return(0,lt.e)((_,A)=>{let L=0;_.subscribe((0,ae.x)(A,q=>{const he=E(q,L++);(he||y)&&A.next(q),!he&&A.complete()}))})}(L=>null!==L),(0,It.d)(null),At(),(0,jt.U)(L=>{if(null===L)return null;const q=Z(L);return function T(E){E.sort((y,_)=>y.value.outlet===Xt?-1:_.value.outlet===Xt?1:y.value.outlet.localeCompare(_.value.outlet))}(q),q}))}processSegment(y,_,A,L,q){return(0,F.D)(_).pipe((0,Oe.b)(he=>this.processSegmentAgainstRoute(he._injector??y,he,A,L,q)),(0,Me.P)(he=>!!he),(0,Xe.K)(he=>{if(Ai(he))return Ca(A,L,q)?(0,z.of)([]):(0,z.of)(null);throw he}))}processSegmentAgainstRoute(y,_,A,L,q){if(_.redirectTo||!Io(_,A,L,q))return(0,z.of)(null);let he;if("**"===_.path){const Ee=L.length>0?ei(L).parameters:{},ot=mt(A)+L.length,Gt=new xs(L,Ee,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qn(_),Wi(_),_.component??_._loadedComponent??null,_,st(A),ot,kn(_),ot);he=(0,z.of)({snapshot:Gt,consumedSegments:[],remainingSegments:[]})}else he=ko(A,_,L,y).pipe((0,jt.U)(({matched:Ee,consumedSegments:ot,remainingSegments:Gt,parameters:Un})=>{if(!Ee)return null;const dn=mt(A)+ot.length;return{snapshot:new xs(ot,Un,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qn(_),Wi(_),_.component??_._loadedComponent??null,_,st(A),dn,kn(_),dn),consumedSegments:ot,remainingSegments:Gt}}));return he.pipe((0,Ut.w)(Ee=>{if(null===Ee)return(0,z.of)(null);const{snapshot:ot,consumedSegments:Gt,remainingSegments:Un}=Ee;y=_._injector??y;const dn=_._loadedInjector??y,wr=function H(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(_),{segmentGroup:Vr,slicedSegments:li}=Eo(A,Gt,Un,wr.filter(ho=>void 0===ho.redirectTo),this.relativeLinkResolution);if(0===li.length&&Vr.hasChildren())return this.processChildren(dn,wr,Vr).pipe((0,jt.U)(ho=>null===ho?null:[new ti(ot,ho)]));if(0===wr.length&&0===li.length)return(0,z.of)([new ti(ot,[])]);const Ao=Wi(_)===q;return this.processSegment(dn,wr,Vr,li,Ao?Xt:q).pipe((0,jt.U)(ho=>null===ho?null:[new ti(ot,ho)]))}))}}function R(E){const y=E.value.routeConfig;return y&&""===y.path&&void 0===y.redirectTo}function Z(E){const y=[],_=new Set;for(const A of E){if(!R(A)){y.push(A);continue}const L=y.find(q=>A.value.routeConfig===q.value.routeConfig);void 0!==L?(L.children.push(...A.children),_.add(L)):y.push(A)}for(const A of _){const L=Z(A.children);y.push(new ti(A.value,L))}return y.filter(A=>!_.has(A))}function st(E){let y=E;for(;y._sourceSegment;)y=y._sourceSegment;return y}function mt(E){let y=E,_=y._segmentIndexShift??0;for(;y._sourceSegment;)y=y._sourceSegment,_+=y._segmentIndexShift??0;return _-1}function Qn(E){return E.data||{}}function kn(E){return E.resolve||{}}function Ni(E){return"string"==typeof E.title||null===E.title}function zs(E){return(0,Ut.w)(y=>{const _=E(y);return _?(0,F.D)(_).pipe((0,jt.U)(()=>y)):(0,z.of)(y)})}let ki=(()=>{class E{buildTitle(_){let A,L=_.root;for(;void 0!==L;)A=this.getResolvedTitleForRoute(L)??A,L=L.children.find(q=>q.outlet===Xt);return A}getResolvedTitleForRoute(_){return _.data[nr]}}return E.\u0275fac=function(_){return new(_||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return(0,g.f3M)(Co)},providedIn:"root"}),E})(),Co=(()=>{class E extends ki{constructor(_){super(),this.title=_}updateTitle(_){const A=this.buildTitle(_);void 0!==A&&this.title.setTitle(A)}}return E.\u0275fac=function(_){return new(_||E)(g.LFG(tr.Dx))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class Ta{}class ga extends class na{shouldDetach(y){return!1}store(y,_){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,_){return y.routeConfig===_.routeConfig}}{}const ra=new g.OlP("",{providedIn:"root",factory:()=>({})}),Lo=new g.OlP("ROUTES");let Aa=(()=>{class E{constructor(_,A){this.injector=_,this.compiler=A,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,z.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const A=Sn(_.loadComponent()).pipe((0,te.b)(q=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=q}),xn(()=>{this.componentLoaders.delete(_)})),L=new Be(A,()=>new vt.x).pipe(Ke());return this.componentLoaders.set(_,L),L}loadChildren(_,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,z.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const q=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,jt.U)(Ee=>{this.onLoadEndListener&&this.onLoadEndListener(A);let ot,Gt,Un=!1;Array.isArray(Ee)?Gt=Ee:(ot=Ee.create(_).injector,Gt=Ci(ot.get(Lo,[],g.XFs.Self|g.XFs.Optional)));return{routes:Gt.map(vo),injector:ot}}),xn(()=>{this.childrenLoaders.delete(A)})),he=new Be(q,()=>new vt.x).pipe(Ke());return this.childrenLoaders.set(A,he),he}loadModuleFactoryOrRoutes(_){return Sn(_()).pipe((0,Nn.z)(A=>A instanceof g.YKP||Array.isArray(A)?(0,z.of)(A):(0,F.D)(this.compiler.compileModuleAsync(A))))}}return E.\u0275fac=function(_){return new(_||E)(g.LFG(g.zs3),g.LFG(g.Sil))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class Si{}class Va{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,_){return y}}function Sa(E){throw E}function ma(E,y,_){return y.parse("/")}const kt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ii(){const E=(0,g.f3M)($n),y=(0,g.f3M)(pi),_=(0,g.f3M)(Tt.Ye),A=(0,g.f3M)(g.zs3),L=(0,g.f3M)(g.Sil),q=(0,g.f3M)(Lo,{optional:!0})??[],he=(0,g.f3M)(ra,{optional:!0})??{},Ee=(0,g.f3M)(Co),ot=(0,g.f3M)(ki,{optional:!0}),Gt=(0,g.f3M)(Si,{optional:!0}),Un=(0,g.f3M)(Ta,{optional:!0}),dn=new Mt(null,E,y,_,A,L,Ci(q));return Gt&&(dn.urlHandlingStrategy=Gt),Un&&(dn.routeReuseStrategy=Un),dn.titleStrategy=ot??Ee,function Ei(E,y){E.errorHandler&&(y.errorHandler=E.errorHandler),E.malformedUriErrorHandler&&(y.malformedUriErrorHandler=E.malformedUriErrorHandler),E.onSameUrlNavigation&&(y.onSameUrlNavigation=E.onSameUrlNavigation),E.paramsInheritanceStrategy&&(y.paramsInheritanceStrategy=E.paramsInheritanceStrategy),E.relativeLinkResolution&&(y.relativeLinkResolution=E.relativeLinkResolution),E.urlUpdateStrategy&&(y.urlUpdateStrategy=E.urlUpdateStrategy),E.canceledNavigationResolution&&(y.canceledNavigationResolution=E.canceledNavigationResolution)}(he,dn),dn}let Mt=(()=>{class E{constructor(_,A,L,q,he,Ee,ot){this.rootComponentType=_,this.urlSerializer=A,this.rootContexts=L,this.location=q,this.config=ot,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new vt.x,this.errorHandler=Sa,this.malformedUriErrorHandler=ma,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,z.of)(void 0),this.urlHandlingStrategy=new Va,this.routeReuseStrategy=new ga,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=he.get(Aa),this.configLoader.onLoadEndListener=wr=>this.triggerEvent(new Ae(wr)),this.configLoader.onLoadStartListener=wr=>this.triggerEvent(new Re(wr)),this.ngModule=he.get(g.h0i),this.console=he.get(g.c2e);const dn=he.get(g.R0b);this.isNgZoneEnabled=dn instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(ot),this.currentUrlTree=function sn(){return new vr(new cn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$i(this.currentUrlTree,this.rootComponentType),this.transitions=new ue.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(_){const A=this.events;return _.pipe((0,lr.h)(L=>0!==L.id),(0,jt.U)(L=>({...L,extractedUrl:this.urlHandlingStrategy.extract(L.rawUrl)})),(0,Ut.w)(L=>{let q=!1,he=!1;return(0,z.of)(L).pipe((0,te.b)(Ee=>{this.currentNavigation={id:Ee.id,initialUrl:Ee.rawUrl,extractedUrl:Ee.extractedUrl,trigger:Ee.source,extras:Ee.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ut.w)(Ee=>{const ot=this.browserUrlTree.toString(),Gt=!this.navigated||Ee.extractedUrl.toString()!==ot||ot!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Gt)&&this.urlHandlingStrategy.shouldProcessUrl(Ee.rawUrl))return Xa(Ee.source)&&(this.browserUrlTree=Ee.extractedUrl),(0,z.of)(Ee).pipe((0,Ut.w)(dn=>{const wr=this.transitions.getValue();return A.next(new bn(dn.id,this.serializeUrl(dn.extractedUrl),dn.source,dn.restoredState)),wr!==this.transitions.getValue()?Ne.E:Promise.resolve(dn)}),function Xo(E,y,_,A){return(0,Ut.w)(L=>function Is(E,y,_,A,L){return new bs(E,y,_,A,L).apply()}(E,y,_,L.extractedUrl,A).pipe((0,jt.U)(q=>({...L,urlAfterRedirects:q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,te.b)(dn=>{this.currentNavigation={...this.currentNavigation,finalUrl:dn.urlAfterRedirects},L.urlAfterRedirects=dn.urlAfterRedirects}),function jn(E,y,_,A,L,q){return(0,Nn.z)(he=>function ea(E,y,_,A,L,q,he="emptyOnly",Ee="legacy"){return new Fr(E,y,_,A,L,he,Ee,q).recognize().pipe((0,Ut.w)(ot=>null===ot?function wi(E){return new pe.y(y=>y.error(E))}(new fu):(0,z.of)(ot)))}(E,y,_,he.urlAfterRedirects,A.serialize(he.urlAfterRedirects),A,L,q).pipe((0,jt.U)(Ee=>({...he,targetSnapshot:Ee}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,te.b)(dn=>{if(L.targetSnapshot=dn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!dn.extras.skipLocationChange){const Vr=this.urlHandlingStrategy.merge(dn.urlAfterRedirects,dn.rawUrl);this.setBrowserUrl(Vr,dn)}this.browserUrlTree=dn.urlAfterRedirects}const wr=new xo(dn.id,this.serializeUrl(dn.extractedUrl),this.serializeUrl(dn.urlAfterRedirects),dn.targetSnapshot);A.next(wr)}));if(Gt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:wr,extractedUrl:Vr,source:li,restoredState:Ao,extras:ho}=Ee,Xi=new bn(wr,this.serializeUrl(Vr),li,Ao);A.next(Xi);const va=$i(Vr,this.rootComponentType).snapshot;return L={...Ee,targetSnapshot:va,urlAfterRedirects:Vr,extras:{...ho,skipLocationChange:!1,replaceUrl:!1}},(0,z.of)(L)}return this.rawUrlTree=Ee.rawUrl,Ee.resolve(null),Ne.E}),(0,te.b)(Ee=>{const ot=new Lr(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot);this.triggerEvent(ot)}),(0,jt.U)(Ee=>L={...Ee,guards:Zo(Ee.targetSnapshot,Ee.currentSnapshot,this.rootContexts)}),function Es(E,y){return(0,Nn.z)(_=>{const{targetSnapshot:A,currentSnapshot:L,guards:{canActivateChecks:q,canDeactivateChecks:he}}=_;return 0===he.length&&0===q.length?(0,z.of)({..._,guardsResult:!0}):function Ki(E,y,_,A){return(0,F.D)(E).pipe((0,Nn.z)(L=>function Ro(E,y,_,A,L){const q=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,z.of)(!0);const he=q.map(Ee=>{const ot=Ri(y)??L,Gt=ws(Ee,ot);return Sn(function Y(E){return E&&ss(E.canDeactivate)}(Gt)?Gt.canDeactivate(E,y,_,A):ot.runInContext(()=>Gt(E,y,_,A))).pipe((0,Me.P)())});return(0,z.of)(he).pipe(os())}(L.component,L.route,_,y,A)),(0,Me.P)(L=>!0!==L,!0))}(he,A,L,E).pipe((0,Nn.z)(Ee=>Ee&&function Wr(E){return"boolean"==typeof E}(Ee)?function co(E,y,_,A){return(0,F.D)(y).pipe((0,Oe.b)(L=>(0,it.z)(function qi(E,y){return null!==E&&y&&y(new ze(E)),(0,z.of)(!0)}(L.route.parent,A),function pa(E,y){return null!==E&&y&&y(new Rt(E)),(0,z.of)(!0)}(L.route,A),function Xs(E,y,_){const A=y[y.length-1],q=y.slice(0,y.length-1).reverse().map(he=>function ri(E){const y=E.routeConfig?E.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:E,guards:y}:null}(he)).filter(he=>null!==he).map(he=>De(()=>{const Ee=he.guards.map(ot=>{const Gt=Ri(he.node)??_,Un=ws(ot,Gt);return Sn(function M(E){return E&&ss(E.canActivateChild)}(Un)?Un.canActivateChild(A,E):Gt.runInContext(()=>Un(A,E))).pipe((0,Me.P)())});return(0,z.of)(Ee).pipe(os())}));return(0,z.of)(q).pipe(os())}(E,L.path,_),function Yo(E,y,_){const A=y.routeConfig?y.routeConfig.canActivate:null;if(!A||0===A.length)return(0,z.of)(!0);const L=A.map(q=>De(()=>{const he=Ri(y)??_,Ee=ws(q,he);return Sn(function N(E){return E&&ss(E.canActivate)}(Ee)?Ee.canActivate(y,E):he.runInContext(()=>Ee(y,E))).pipe((0,Me.P)())}));return(0,z.of)(L).pipe(os())}(E,L.route,_))),(0,Me.P)(L=>!0!==L,!0))}(A,q,E,y):(0,z.of)(Ee)),(0,jt.U)(Ee=>({..._,guardsResult:Ee})))})}(this.ngModule.injector,Ee=>this.triggerEvent(Ee)),(0,te.b)(Ee=>{if(L.guardsResult=Ee.guardsResult,mn(Ee.guardsResult))throw Yr(0,Ee.guardsResult);const ot=new Mo(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot,!!Ee.guardsResult);this.triggerEvent(ot)}),(0,lr.h)(Ee=>!!Ee.guardsResult||(this.restoreHistory(Ee),this.cancelNavigationTransition(Ee,"",3),!1)),zs(Ee=>{if(Ee.guards.canActivateChecks.length)return(0,z.of)(Ee).pipe((0,te.b)(ot=>{const Gt=new go(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent(Gt)}),(0,Ut.w)(ot=>{let Gt=!1;return(0,z.of)(ot).pipe(function zn(E,y){return(0,Nn.z)(_=>{const{targetSnapshot:A,guards:{canActivateChecks:L}}=_;if(!L.length)return(0,z.of)(_);let q=0;return(0,F.D)(L).pipe((0,Oe.b)(he=>function ci(E,y,_,A){const L=E.routeConfig,q=E._resolve;return void 0!==L?.title&&!Ni(L)&&(q[nr]=L.title),function pr(E,y,_,A){const L=function Jr(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===L.length)return(0,z.of)({});const q={};return(0,F.D)(L).pipe((0,Nn.z)(he=>function Ds(E,y,_,A){const L=Ri(y)??A,q=ws(E,L);return Sn(q.resolve?q.resolve(y,_):L.runInContext(()=>q(y,_)))}(E[he],y,_,A).pipe((0,Me.P)(),(0,te.b)(Ee=>{q[he]=Ee}))),He(1),function rn(E){return(0,jt.U)(()=>E)}(q),(0,Xe.K)(he=>Ai(he)?Ne.E:Ye(he)))}(q,E,y,A).pipe((0,jt.U)(he=>(E._resolvedData=he,E.data=Hi(E,_).resolve,L&&Ni(L)&&(E.data[nr]=L.title),null)))}(he.route,A,E,y)),(0,te.b)(()=>q++),He(1),(0,Nn.z)(he=>q===L.length?(0,z.of)(_):Ne.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,te.b)({next:()=>Gt=!0,complete:()=>{Gt||(this.restoreHistory(ot),this.cancelNavigationTransition(ot,"",2))}}))}),(0,te.b)(ot=>{const Gt=new Zs(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent(Gt)}))}),zs(Ee=>{const ot=Gt=>{const Un=[];Gt.routeConfig?.loadComponent&&!Gt.routeConfig._loadedComponent&&Un.push(this.configLoader.loadComponent(Gt.routeConfig).pipe((0,te.b)(dn=>{Gt.component=dn}),(0,jt.U)(()=>{})));for(const dn of Gt.children)Un.push(...ot(dn));return Un};return We(ot(Ee.targetSnapshot.root)).pipe((0,It.d)(),(0,Dr.q)(1))}),zs(()=>this.afterPreactivation()),(0,jt.U)(Ee=>{const ot=function ni(E,y,_){const A=Or(E,y._root,_?_._root:void 0);return new rs(A,y)}(this.routeReuseStrategy,Ee.targetSnapshot,Ee.currentRouterState);return L={...Ee,targetRouterState:ot}}),(0,te.b)(Ee=>{this.currentUrlTree=Ee.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ee.urlAfterRedirects,Ee.rawUrl),this.routerState=Ee.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ee.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ee),this.browserUrlTree=Ee.urlAfterRedirects)}),((E,y,_)=>(0,jt.U)(A=>(new bt(y,A.targetRouterState,A.currentRouterState,_).activate(E),A)))(this.rootContexts,this.routeReuseStrategy,Ee=>this.triggerEvent(Ee)),(0,te.b)({next(){q=!0},complete(){q=!0}}),xn(()=>{q||he||this.cancelNavigationTransition(L,"",1),this.currentNavigation?.id===L.id&&(this.currentNavigation=null)}),(0,Xe.K)(Ee=>{if(he=!0,Hs(Ee)){Pi(Ee)||(this.navigated=!0,this.restoreHistory(L,!0));const ot=new ji(L.id,this.serializeUrl(L.extractedUrl),Ee.message,Ee.cancellationCode);if(A.next(ot),Pi(Ee)){const Gt=this.urlHandlingStrategy.merge(Ee.url,this.rawUrlTree),Un={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xa(L.source)};this.scheduleNavigation(Gt,"imperative",null,Un,{resolve:L.resolve,reject:L.reject,promise:L.promise})}else L.resolve(!1)}else{this.restoreHistory(L,!0);const ot=new xr(L.id,this.serializeUrl(L.extractedUrl),Ee,L.targetSnapshot??void 0);A.next(ot);try{L.resolve(this.errorHandler(Ee))}catch(Gt){L.reject(Gt)}}return Ne.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next({...this.transitions.value,..._})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const A="popstate"===_.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{const L={replaceUrl:!0},q=_.state?.navigationId?_.state:null;if(q){const Ee={...q};delete Ee.navigationId,delete Ee.\u0275routerPageId,0!==Object.keys(Ee).length&&(L.state=Ee)}const he=this.parseUrl(_.url);this.scheduleNavigation(he,A,q,L)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){this.config=_.map(vo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,A={}){const{relativeTo:L,queryParams:q,fragment:he,queryParamsHandling:Ee,preserveFragment:ot}=A,Gt=L||this.routerState.root,Un=ot?this.currentUrlTree.fragment:he;let dn=null;switch(Ee){case"merge":dn={...this.currentUrlTree.queryParams,...q};break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=q||null}return null!==dn&&(dn=this.removeEmptyProps(dn)),fi(Gt,this.currentUrlTree,_,dn,Un??null)}navigateByUrl(_,A={skipLocationChange:!1}){const L=mn(_)?_:this.parseUrl(_),q=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(q,"imperative",null,A)}navigate(_,A={skipLocationChange:!1}){return function yn(E){for(let y=0;y<E.length;y++){if(null==E[y])throw new g.vHH(4008,false)}}(_),this.navigateByUrl(this.createUrlTree(_,A),A)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let A;try{A=this.urlSerializer.parse(_)}catch(L){A=this.malformedUriErrorHandler(L,this.urlSerializer,_)}return A}isActive(_,A){let L;if(L=!0===A?{...kt}:!1===A?{...Rr}:A,mn(_))return sr(this.currentUrlTree,_,L);const q=this.parseUrl(_);return sr(this.currentUrlTree,q,L)}removeEmptyProps(_){return Object.keys(_).reduce((A,L)=>{const q=_[L];return null!=q&&(A[L]=q),A},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new si(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,A,L,q,he){if(this.disposed)return Promise.resolve(!1);let Ee,ot,Gt;he?(Ee=he.resolve,ot=he.reject,Gt=he.promise):Gt=new Promise((wr,Vr)=>{Ee=wr,ot=Vr});const Un=++this.navigationId;let dn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(L=this.location.getState()),dn=L&&L.\u0275routerPageId?L.\u0275routerPageId:q.replaceUrl||q.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):dn=0,this.setTransition({id:Un,targetPageId:dn,source:A,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:q,resolve:Ee,reject:ot,promise:Gt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Gt.catch(wr=>Promise.reject(wr))}setBrowserUrl(_,A){const L=this.urlSerializer.serialize(_),q={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.isCurrentPathEqualTo(L)||A.extras.replaceUrl?this.location.replaceState(L,"",q):this.location.go(L,"",q)}restoreHistory(_,A=!1){if("computed"===this.canceledNavigationResolution){const L=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===L?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===L&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(L)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,A,L){const q=new ji(_.id,this.serializeUrl(_.extractedUrl),A,L);this.triggerEvent(q),_.resolve(!1)}generateNgRouterState(_,A){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:A}:{navigationId:_}}}return E.\u0275fac=function(_){g.$Z()},E.\u0275prov=g.Yz7({token:E,factory:function(){return Ii()},providedIn:"root"}),E})();function Xa(E){return"imperative"!==E}let Qt=(()=>{class E{constructor(_,A,L,q,he){this.router=_,this.route=A,this.tabIndexAttribute=L,this.renderer=q,this.el=he,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new vt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(_){this._preserveFragment=(0,g.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,g.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,g.D6c)(_)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(_){if(null!=this.tabIndexAttribute)return;const A=this.renderer,L=this.el.nativeElement;null!==_?A.setAttribute(L,"tabindex",_):A.removeAttribute(L,"tabindex")}ngOnChanges(_){this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(_){return new(_||E)(g.Y36(Mt),g.Y36(ui),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},E.\u0275dir=g.lG2({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,A){1&_&&g.NdJ("click",function(){return A.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[g.TTD]}),E})(),rt=(()=>{class E{constructor(_,A,L){this.router=_,this.route=A,this.locationStrategy=L,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new vt.x,this.subscription=_.events.subscribe(q=>{q instanceof si&&this.updateTargetUrlAndHref()})}set preserveFragment(_){this._preserveFragment=(0,g.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,g.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,g.D6c)(_)}get replaceUrl(){return this._replaceUrl}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,A,L,q,he){return!!(0!==_||A||L||q||he||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(_){return new(_||E)(g.Y36(Mt),g.Y36(ui),g.Y36(Tt.S$))},E.\u0275dir=g.lG2({type:E,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,A){1&_&&g.NdJ("click",function(q){return A.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&_&&g.uIk("target",A.target)("href",A.href,g.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[g.TTD]}),E})(),wt=(()=>{class E{constructor(_,A,L,q,he,Ee){this.router=_,this.element=A,this.renderer=L,this.cdr=q,this.link=he,this.linkWithHref=Ee,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.vpe,this.routerEventsSubscription=_.events.subscribe(ot=>{ot instanceof si&&this.update()})}ngAfterContentInit(){(0,z.of)(this.links.changes,this.linksWithHrefs.changes,(0,z.of)(null)).pipe((0,_n.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const _=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(A=>!!A).map(A=>A.onChanges);this.linkInputChangesSubscription=(0,F.D)(_).pipe((0,_n.J)()).subscribe(A=>{this.isActive!==this.isLinkActive(this.router)(A)&&this.update()})}set routerLinkActive(_){const A=Array.isArray(_)?_:_.split(" ");this.classes=A.filter(L=>!!L)}ngOnChanges(_){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const _=this.hasActiveLinks();this.isActive!==_&&(this.isActive=_,this.cdr.markForCheck(),this.classes.forEach(A=>{_?this.renderer.addClass(this.element.nativeElement,A):this.renderer.removeClass(this.element.nativeElement,A)}),_&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(_))})}isLinkActive(_){const A=function cr(E){return!!E.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>!!L.urlTree&&_.isActive(L.urlTree,A)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.linkWithHref&&_(this.linkWithHref)||this.links.some(_)||this.linksWithHrefs.some(_)}}return E.\u0275fac=function(_){return new(_||E)(g.Y36(Mt),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(Qt,8),g.Y36(rt,8))},E.\u0275dir=g.lG2({type:E,selectors:[["","routerLinkActive",""]],contentQueries:function(_,A,L){if(1&_&&(g.Suo(L,Qt,5),g.Suo(L,rt,5)),2&_){let q;g.iGM(q=g.CRH())&&(A.links=q),g.iGM(q=g.CRH())&&(A.linksWithHrefs=q)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[g.TTD]}),E})();class To{}let G=(()=>{class E{constructor(_,A,L,q,he){this.router=_,this.injector=L,this.preloadingStrategy=q,this.loader=he}setUpPreloading(){this.subscription=this.router.events.pipe((0,lr.h)(_=>_ instanceof si),(0,Oe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,A){const L=[];for(const q of A){q.providers&&!q._injector&&(q._injector=(0,g.MMx)(q.providers,_,`Route: ${q.path}`));const he=q._injector??_,Ee=q._loadedInjector??he;q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent?L.push(this.preloadConfig(he,q)):(q.children||q._loadedRoutes)&&L.push(this.processRoutes(Ee,q.children??q._loadedRoutes))}return(0,F.D)(L).pipe((0,_n.J)())}preloadConfig(_,A){return this.preloadingStrategy.preload(A,()=>{let L;L=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(_,A):(0,z.of)(null);const q=L.pipe((0,Nn.z)(he=>null===he?(0,z.of)(void 0):(A._loadedRoutes=he.routes,A._loadedInjector=he.injector,this.processRoutes(he.injector??_,he.routes))));if(A.loadComponent&&!A._loadedComponent){const he=this.loader.loadComponent(A);return(0,F.D)([q,he]).pipe((0,_n.J)())}return q})}}return E.\u0275fac=function(_){return new(_||E)(g.LFG(Mt),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(To),g.LFG(Aa))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const I=new g.OlP("");let S=(()=>{class E{constructor(_,A,L={}){this.router=_,this.viewportScroller=A,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof bn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof si&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof gr&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,A){this.router.triggerEvent(new gr(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return E.\u0275fac=function(_){g.$Z()},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac}),E})();function en(E,y){return{\u0275kind:E,\u0275providers:y}}function Vn(E){return[{provide:Lo,multi:!0,useValue:E}]}function Br(){const E=(0,g.f3M)(g.zs3);return y=>{const _=E.get(g.z2F);if(y!==_.components[0])return;const A=E.get(Mt),L=E.get(xa);1===E.get(Xr)&&A.initialNavigation(),E.get(Nu,null,g.XFs.Optional)?.setUpPreloading(),E.get(I,null,g.XFs.Optional)?.init(),A.resetRootComponentType(_.componentTypes[0]),L.closed||(L.next(),L.unsubscribe())}}const xa=new g.OlP("",{factory:()=>new vt.x}),Xr=new g.OlP("",{providedIn:"root",factory:()=>1});const Nu=new g.OlP("");function yi(E){return en(0,[{provide:Nu,useExisting:G},{provide:To,useExisting:E}])}const Cs=new g.OlP("ROUTER_FORROOT_GUARD"),ku=[Tt.Ye,{provide:$n,useClass:Ar},{provide:Mt,useFactory:Ii},pi,{provide:ui,useFactory:function dt(E){return E.routerState.root},deps:[Mt]},Aa];function Ba(){return new g.PXZ("Router",Mt)}let ja=(()=>{class E{constructor(_){}static forRoot(_,A){return{ngModule:E,providers:[ku,[],Vn(_),{provide:Cs,useFactory:ro,deps:[[Mt,new g.FiY,new g.tp0]]},{provide:ra,useValue:A||{}},A?.useHash?{provide:Tt.S$,useClass:Tt.Do}:{provide:Tt.S$,useClass:Tt.b0},{provide:I,useFactory:()=>{const E=(0,g.f3M)(Mt),y=(0,g.f3M)(Tt.EM),_=(0,g.f3M)(ra);return _.scrollOffset&&y.setOffset(_.scrollOffset),new S(E,y,_)}},A?.preloadingStrategy?yi(A.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Ba},A?.initialNavigation?Ic(A):[],[{provide:$a,useFactory:Br},{provide:g.tb,multi:!0,useExisting:$a}]]}}static forChild(_){return{ngModule:E,providers:[Vn(_)]}}}return E.\u0275fac=function(_){return new(_||E)(g.LFG(Cs,8))},E.\u0275mod=g.oAB({type:E}),E.\u0275inj=g.cJS({imports:[uo]}),E})();function ro(E){return"guarded"}function Ic(E){return["disabled"===E.initialNavigation?en(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const y=(0,g.f3M)(Mt);return()=>{y.setUpLocationChangeListener()}}},{provide:Xr,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?en(2,[{provide:Xr,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:y=>{const _=y.get(Tt.V_,Promise.resolve());let A=!1;return()=>_.then(()=>new Promise(q=>{const he=y.get(Mt),Ee=y.get(xa);(function L(q){y.get(Mt).events.pipe((0,lr.h)(Ee=>Ee instanceof si||Ee instanceof ji||Ee instanceof xr),(0,jt.U)(Ee=>Ee instanceof si||Ee instanceof ji&&(0===Ee.code||1===Ee.code)&&null),(0,lr.h)(Ee=>null!==Ee),(0,Dr.q)(1)).subscribe(()=>{q()})})(()=>{q(!0),A=!0}),he.afterPreactivation=()=>(q(!0),A||Ee.closed?(0,z.of)(void 0):Ee),he.initialNavigation()}))}}]).\u0275providers:[]]}const $a=new g.OlP("")},3942:(xe,le,O)=>{"use strict";O.d(le,{Z:()=>Ue});var g=O(2090),F=O(4859),z=O(6881),ue=O(1877);class ee{constructor(it,$e){this._delegate=it,this.firebase=$e,(0,z._addComponent)(it,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(it,$e=z._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const Pt=this._delegate.container.getProvider(it);return!Pt.isInitialized()&&"EXPLICIT"===(null===(De=Pt.getComponent())||void 0===De?void 0:De.instantiationMode)&&Pt.initialize(),Pt.getImmediate({identifier:$e})}_removeServiceInstance(it,$e=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance($e)}_addComponent(it){(0,z._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,z._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function fe(){const St=function we(St){const it={},$e={__esModule:!0,initializeApp:function at(lt,Ke={}){const Be=z.initializeApp(lt,Ke);if((0,g.r3)(it,Be.name))return it[Be.name];const vt=new St(Be,$e);return it[Be.name]=vt,vt},app:Pt,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Ne(lt){const Ke=lt.name,Be=Ke.replace("-compat","");if(z._registerComponent(lt)&&"PUBLIC"===lt.type){const vt=(Tt=Pt())=>{if("function"!=typeof Tt[Be])throw ye.create("invalid-app-argument",{appName:Ke});return Tt[Be]()};void 0!==lt.serviceProps&&(0,g.ZB)(vt,lt.serviceProps),$e[Be]=vt,St.prototype[Be]=function(...Tt){return this._getService.bind(this,Ke).apply(this,lt.multipleInstances?Tt:[])}}return"PUBLIC"===lt.type?$e[Be]:null},removeApp:function De(lt){delete it[lt]},useAsService:function Ct(lt,Ke){return"serverAuth"===Ke?null:Ke},modularAPIs:z}};function Pt(lt){if(!(0,g.r3)(it,lt=lt||z._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:lt});return it[lt]}return $e.default=$e,Object.defineProperty($e,"apps",{get:function Ye(){return Object.keys(it).map(lt=>it[lt])}}),Pt.App=St,$e}(ee);return St.INTERNAL=Object.assign(Object.assign({},St.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function it($e){(0,g.ZB)(St,$e)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),St}(),re=new ue.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const St=self.firebase.SDK_VERSION;St&&St.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=ne;!function We(St){(0,z.registerVersion)("@firebase/app-compat","0.2.13",St)}()},6881:(xe,le,O)=>{"use strict";O.r(le),O.d(le,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>es,_DEFAULT_ENTRY_NAME:()=>ei,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>sn,_apps:()=>An,_clearComponents:()=>Tr,_components:()=>Sn,_getProvider:()=>$r,_registerComponent:()=>Bn,_removeServiceInstance:()=>sr,deleteApp:()=>Hr,getApp:()=>vr,getApps:()=>cn,initializeApp:()=>Fn,onLog:()=>hi,registerVersion:()=>Zn,setLogLevel:()=>$n});var g=O(5861),F=O(4859),z=O(1877),ue=O(2090);let pe,ye;const ne=new WeakMap,re=new WeakMap,ae=new WeakMap,Ge=new WeakMap,We=new WeakMap;let it={get(Le,Fe,yt){if(Le instanceof IDBTransaction){if("done"===Fe)return re.get(Le);if("objectStoreNames"===Fe)return Le.objectStoreNames||ae.get(Le);if("store"===Fe)return yt.objectStoreNames[1]?void 0:yt.objectStore(yt.objectStoreNames[0])}return at(Le[Fe])},set:(Le,Fe,yt)=>(Le[Fe]=yt,!0),has:(Le,Fe)=>Le instanceof IDBTransaction&&("done"===Fe||"store"===Fe)||Fe in Le};function Pt(Le){return"function"==typeof Le?function De(Le){return Le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Le)?function(...Fe){return Le.apply(Ye(this),Fe),at(ne.get(this))}:function(...Fe){return at(Le.apply(Ye(this),Fe))}:function(Fe,...yt){const _t=Le.call(Ye(this),Fe,...yt);return ae.set(_t,Fe.sort?Fe.sort():[Fe]),at(_t)}}(Le):(Le instanceof IDBTransaction&&function St(Le){if(re.has(Le))return;const Fe=new Promise((yt,_t)=>{const ln=()=>{Le.removeEventListener("complete",mn),Le.removeEventListener("error",qn),Le.removeEventListener("abort",qn)},mn=()=>{yt(),ln()},qn=()=>{_t(Le.error||new DOMException("AbortError","AbortError")),ln()};Le.addEventListener("complete",mn),Le.addEventListener("error",qn),Le.addEventListener("abort",qn)});re.set(Le,Fe)}(Le),((Le,Fe)=>Fe.some(yt=>Le instanceof yt))(Le,function we(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Le,it):Le)}function at(Le){if(Le instanceof IDBRequest)return function Ue(Le){const Fe=new Promise((yt,_t)=>{const ln=()=>{Le.removeEventListener("success",mn),Le.removeEventListener("error",qn)},mn=()=>{yt(at(Le.result)),ln()},qn=()=>{_t(Le.error),ln()};Le.addEventListener("success",mn),Le.addEventListener("error",qn)});return Fe.then(yt=>{yt instanceof IDBCursor&&ne.set(yt,Le)}).catch(()=>{}),We.set(Fe,Le),Fe}(Le);if(Ge.has(Le))return Ge.get(Le);const Fe=Pt(Le);return Fe!==Le&&(Ge.set(Le,Fe),We.set(Fe,Le)),Fe}const Ye=Le=>We.get(Le),lt=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],Be=new Map;function vt(Le,Fe){if(!(Le instanceof IDBDatabase)||Fe in Le||"string"!=typeof Fe)return;if(Be.get(Fe))return Be.get(Fe);const yt=Fe.replace(/FromIndex$/,""),_t=Fe!==yt,ln=Ke.includes(yt);if(!(yt in(_t?IDBIndex:IDBObjectStore).prototype)||!ln&&!lt.includes(yt))return;const mn=function(){var qn=(0,g.Z)(function*(kr,...Hn){const Ur=this.transaction(kr,ln?"readwrite":"readonly");let fi=Ur.store;return _t&&(fi=fi.index(Hn.shift())),(yield Promise.all([fi[yt](...Hn),ln&&Ur.done]))[0]});return function(Hn){return qn.apply(this,arguments)}}();return Be.set(Fe,mn),mn}!function $e(Le){it=Le(it)}(Le=>({...Le,get:(Fe,yt,_t)=>vt(Fe,yt)||Le.get(Fe,yt,_t),has:(Fe,yt)=>!!vt(Fe,yt)||Le.has(Fe,yt)}));class Tt{constructor(Fe){this.container=Fe}getPlatformInfoString(){return this.container.getProviders().map(yt=>{if(function jt(Le){return"VERSION"===Le.getComponent()?.type}(yt)){const _t=yt.getImmediate();return`${_t.library}/${_t.version}`}return null}).filter(yt=>yt).join(" ")}}const Ut="@firebase/app",Ht=new z.Yd("@firebase/app"),ei="[DEFAULT]",jr={[Ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},An=new Map,Sn=new Map;function Bt(Le,Fe){try{Le.container.addComponent(Fe)}catch(yt){Ht.debug(`Component ${Fe.name} failed to register with FirebaseApp ${Le.name}`,yt)}}function sn(Le,Fe){Le.container.addOrOverwriteComponent(Fe)}function Bn(Le){const Fe=Le.name;if(Sn.has(Fe))return Ht.debug(`There were multiple attempts to register component ${Fe}.`),!1;Sn.set(Fe,Le);for(const yt of An.values())Bt(yt,Le);return!0}function $r(Le,Fe){const yt=Le.container.getProvider("heartbeat").getImmediate({optional:!0});return yt&&yt.triggerHeartbeat(),Le.container.getProvider(Fe)}function sr(Le,Fe,yt=ei){$r(Le,Fe).clearInstance(yt)}function Tr(){Sn.clear()}const Pr=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(Fe,yt,_t){this._isDeleted=!1,this._options=Object.assign({},Fe),this._config=Object.assign({},yt),this._name=yt.name,this._automaticDataCollectionEnabled=yt.automaticDataCollectionEnabled,this._container=_t,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Fe){this._isDeleted=Fe}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}const es="9.23.0";function Fn(Le,Fe={}){let yt=Le;"object"!=typeof Fe&&(Fe={name:Fe});const _t=Object.assign({name:ei,automaticDataCollectionEnabled:!1},Fe),ln=_t.name;if("string"!=typeof ln||!ln)throw Pr.create("bad-app-name",{appName:String(ln)});if(yt||(yt=(0,ue.aH)()),!yt)throw Pr.create("no-options");const mn=An.get(ln);if(mn){if((0,ue.vZ)(yt,mn.options)&&(0,ue.vZ)(_t,mn.config))return mn;throw Pr.create("duplicate-app",{appName:ln})}const qn=new F.H0(ln);for(const Hn of Sn.values())qn.addComponent(Hn);const kr=new Wn(yt,_t,qn);return An.set(ln,kr),kr}function vr(Le=ei){const Fe=An.get(Le);if(!Fe&&Le===ei&&(0,ue.aH)())return Fn();if(!Fe)throw Pr.create("no-app",{appName:Le});return Fe}function cn(){return Array.from(An.values())}function Hr(Le){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,g.Z)(function*(Le){const Fe=Le.name;An.has(Fe)&&(An.delete(Fe),yield Promise.all(Le.container.getProviders().map(yt=>yt.delete())),Le.isDeleted=!0)})).apply(this,arguments)}function Zn(Le,Fe,yt){var _t;let ln=null!==(_t=jr[Le])&&void 0!==_t?_t:Le;yt&&(ln+=`-${yt}`);const mn=ln.match(/\s|\//),qn=Fe.match(/\s|\//);if(mn||qn){const kr=[`Unable to register library "${ln}" with version "${Fe}":`];return mn&&kr.push(`library name "${ln}" contains illegal characters (whitespace or "/")`),mn&&qn&&kr.push("and"),qn&&kr.push(`version name "${Fe}" contains illegal characters (whitespace or "/")`),void Ht.warn(kr.join(" "))}Bn(new F.wA(`${ln}-version`,()=>({library:ln,version:Fe}),"VERSION"))}function hi(Le,Fe){if(null!==Le&&"function"!=typeof Le)throw Pr.create("invalid-log-argument");(0,z.Am)(Le,Fe)}function $n(Le){(0,z.Ub)(Le)}const _e="firebase-heartbeat-store";let se=null;function Ce(){return se||(se=function Ne(Le,Fe,{blocked:yt,upgrade:_t,blocking:ln,terminated:mn}={}){const qn=indexedDB.open(Le,Fe),kr=at(qn);return _t&&qn.addEventListener("upgradeneeded",Hn=>{_t(at(qn.result),Hn.oldVersion,Hn.newVersion,at(qn.transaction),Hn)}),yt&&qn.addEventListener("blocked",Hn=>yt(Hn.oldVersion,Hn.newVersion,Hn)),kr.then(Hn=>{mn&&Hn.addEventListener("close",()=>mn()),ln&&Hn.addEventListener("versionchange",Ur=>ln(Ur.oldVersion,Ur.newVersion,Ur))}).catch(()=>{}),kr}("firebase-heartbeat-database",1,{upgrade:(Le,Fe)=>{0===Fe&&Le.createObjectStore(_e)}}).catch(Le=>{throw Pr.create("idb-open",{originalErrorMessage:Le.message})})),se}function ke(){return(ke=(0,g.Z)(function*(Le){try{return yield(yield Ce()).transaction(_e).objectStore(_e).get(In(Le))}catch(Fe){if(Fe instanceof ue.ZR)Ht.warn(Fe.message);else{const yt=Pr.create("idb-get",{originalErrorMessage:Fe?.message});Ht.warn(yt.message)}}})).apply(this,arguments)}function xt(Le,Fe){return qt.apply(this,arguments)}function qt(){return(qt=(0,g.Z)(function*(Le,Fe){try{const _t=(yield Ce()).transaction(_e,"readwrite");yield _t.objectStore(_e).put(Fe,In(Le)),yield _t.done}catch(yt){if(yt instanceof ue.ZR)Ht.warn(yt.message);else{const _t=Pr.create("idb-set",{originalErrorMessage:yt?.message});Ht.warn(_t.message)}}})).apply(this,arguments)}function In(Le){return`${Le.name}!${Le.options.appId}`}class oe{constructor(Fe){this.container=Fe,this._heartbeatsCache=null;const yt=this.container.getProvider("app").getImmediate();this._storage=new ft(yt),this._heartbeatsCachePromise=this._storage.read().then(_t=>(this._heartbeatsCache=_t,_t))}triggerHeartbeat(){var Fe=this;return(0,g.Z)(function*(){const _t=Fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ln=X();if(null===Fe._heartbeatsCache&&(Fe._heartbeatsCache=yield Fe._heartbeatsCachePromise),Fe._heartbeatsCache.lastSentHeartbeatDate!==ln&&!Fe._heartbeatsCache.heartbeats.some(mn=>mn.date===ln))return Fe._heartbeatsCache.heartbeats.push({date:ln,agent:_t}),Fe._heartbeatsCache.heartbeats=Fe._heartbeatsCache.heartbeats.filter(mn=>{const qn=new Date(mn.date).valueOf();return Date.now()-qn<=2592e6}),Fe._storage.overwrite(Fe._heartbeatsCache)})()}getHeartbeatsHeader(){var Fe=this;return(0,g.Z)(function*(){if(null===Fe._heartbeatsCache&&(yield Fe._heartbeatsCachePromise),null===Fe._heartbeatsCache||0===Fe._heartbeatsCache.heartbeats.length)return"";const yt=X(),{heartbeatsToSend:_t,unsentEntries:ln}=function Ve(Le,Fe=1024){const yt=[];let _t=Le.slice();for(const ln of Le){const mn=yt.find(qn=>qn.agent===ln.agent);if(mn){if(mn.dates.push(ln.date),Wt(yt)>Fe){mn.dates.pop();break}}else if(yt.push({agent:ln.agent,dates:[ln.date]}),Wt(yt)>Fe){yt.pop();break}_t=_t.slice(1)}return{heartbeatsToSend:yt,unsentEntries:_t}}(Fe._heartbeatsCache.heartbeats),mn=(0,ue.L)(JSON.stringify({version:2,heartbeats:_t}));return Fe._heartbeatsCache.lastSentHeartbeatDate=yt,ln.length>0?(Fe._heartbeatsCache.heartbeats=ln,yield Fe._storage.overwrite(Fe._heartbeatsCache)):(Fe._heartbeatsCache.heartbeats=[],Fe._storage.overwrite(Fe._heartbeatsCache)),mn})()}}function X(){return(new Date).toISOString().substring(0,10)}class ft{constructor(Fe){this.app=Fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Fe=this;return(0,g.Z)(function*(){return(yield Fe._canUseIndexedDBPromise)&&(yield function qe(Le){return ke.apply(this,arguments)}(Fe.app))||{heartbeats:[]}})()}overwrite(Fe){var yt=this;return(0,g.Z)(function*(){var _t;if(yield yt._canUseIndexedDBPromise){const mn=yield yt.read();return xt(yt.app,{lastSentHeartbeatDate:null!==(_t=Fe.lastSentHeartbeatDate)&&void 0!==_t?_t:mn.lastSentHeartbeatDate,heartbeats:Fe.heartbeats})}})()}add(Fe){var yt=this;return(0,g.Z)(function*(){var _t;if(yield yt._canUseIndexedDBPromise){const mn=yield yt.read();return xt(yt.app,{lastSentHeartbeatDate:null!==(_t=Fe.lastSentHeartbeatDate)&&void 0!==_t?_t:mn.lastSentHeartbeatDate,heartbeats:[...mn.heartbeats,...Fe.heartbeats]})}})()}}function Wt(Le){return(0,ue.L)(JSON.stringify({version:2,heartbeats:Le})).length}!function wn(Le){Bn(new F.wA("platform-logger",Fe=>new Tt(Fe),"PRIVATE")),Bn(new F.wA("heartbeat",Fe=>new oe(Fe),"PRIVATE")),Zn(Ut,"0.9.13",Le),Zn(Ut,"0.9.13","esm2017"),Zn("fire-js","")}("")},4859:(xe,le,O)=>{"use strict";O.d(le,{H0:()=>we,wA:()=>z});var g=O(5861),F=O(2090);class z{constructor(ne,re,ae){this.name=ne,this.instanceFactory=re,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const ue="[DEFAULT]";class ee{constructor(ne,re){this.name=ne,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const re=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(re)){const ae=new F.BH;if(this.instancesDeferred.set(re,ae),this.isInitialized(re)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:re});Ge&&ae.resolve(Ge)}catch{}}return this.instancesDeferred.get(re).promise}getImmediate(ne){var re;const ae=this.normalizeInstanceIdentifier(ne?.identifier),Ge=null!==(re=ne?.optional)&&void 0!==re&&re;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(We){if(Ge)return null;throw We}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function ye(fe){return"EAGER"===fe.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[re,ae]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(re);try{const We=this.getOrInitializeService({instanceIdentifier:Ge});ae.resolve(We)}catch{}}}}clearInstance(ne=ue){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,g.Z)(function*(){const re=Array.from(ne.instances.values());yield Promise.all([...re.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...re.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=ue){return this.instances.has(ne)}getOptions(ne=ue){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:re={}}=ne,ae=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ae,options:re});for(const[We,Ue]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(We)&&Ue.resolve(Ge);return Ge}onInit(ne,re){var ae;const Ge=this.normalizeInstanceIdentifier(re),We=null!==(ae=this.onInitCallbacks.get(Ge))&&void 0!==ae?ae:new Set;We.add(ne),this.onInitCallbacks.set(Ge,We);const Ue=this.instances.get(Ge);return Ue&&ne(Ue,Ge),()=>{We.delete(ne)}}invokeOnInitCallbacks(ne,re){const ae=this.onInitCallbacks.get(re);if(ae)for(const Ge of ae)try{Ge(ne,re)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:re={}}){let ae=this.instances.get(ne);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=ne,fe===ue?void 0:fe),options:re}),this.instances.set(ne,ae),this.instancesOptions.set(ne,re),this.invokeOnInitCallbacks(ae,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,ae)}catch{}var fe;return ae||null}normalizeInstanceIdentifier(ne=ue){return this.component?this.component.multipleInstances?ne:ue:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const re=this.getProvider(ne.name);if(re.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);re.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const re=new ee(ne,this);return this.providers.set(ne,re),re}getProviders(){return Array.from(this.providers.values())}}},1877:(xe,le,O)=>{"use strict";O.d(le,{Am:()=>fe,Ub:()=>we,Yd:()=>ye,in:()=>F});const g=[];var F=(()=>{return(ne=F||(F={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",F;var ne})();const z={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},ue=F.INFO,ee={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},pe=(ne,re,...ae)=>{if(re<ne.logLevel)return;const Ge=(new Date).toISOString(),We=ee[re];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[We](`[${Ge}]  ${ne.name}:`,...ae)};class ye{constructor(re){this.name=re,this._logLevel=ue,this._logHandler=pe,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in F))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?z[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...re),this._logHandler(this,F.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...re),this._logHandler(this,F.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,F.INFO,...re),this._logHandler(this,F.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,F.WARN,...re),this._logHandler(this,F.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...re),this._logHandler(this,F.ERROR,...re)}}function we(ne){g.forEach(re=>{re.setLogLevel(ne)})}function fe(ne,re){for(const ae of g){let Ge=null;re&&re.level&&(Ge=z[re.level]),ae.userLogHandler=null===ne?null:(We,Ue,...St)=>{const it=St.map($e=>{if(null==$e)return null;if("string"==typeof $e)return $e;if("number"==typeof $e||"boolean"==typeof $e)return $e.toString();if($e instanceof Error)return $e.message;try{return JSON.stringify($e)}catch{return null}}).filter($e=>$e).join(" ");Ue>=(Ge??We.logLevel)&&ne({level:F[Ue].toLowerCase(),message:it,args:St,type:We.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1749),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(xe){const le={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},O="function"==typeof xe?xe():xe,z=Object.assign({},le,{features:O.features||!!O.logOnly&&{pause:!0,export:!0,test:!0}||le.features},O);if(z.maxAge&&z.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${z.maxAge}`);return z}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(le,O){if(this.action=le,this.timestamp=O,this.type=PERFORM_ACTION,typeof le.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(le){this.timestamp=le,this.type=RESET}}class Rollback{constructor(le){this.timestamp=le,this.type=ROLLBACK}}class Commit{constructor(le){this.timestamp=le,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(le){this.id=le,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(le,O,g=!0){this.start=le,this.end=O,this.active=g,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(le){this.index=le,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(le){this.actionId=le,this.type=JUMP_TO_ACTION}}class ImportState{constructor(le){this.nextLiftedState=le,this.type=IMPORT_STATE}}class LockChanges{constructor(le){this.status=le,this.type=LOCK_CHANGES}}class PauseRecording{constructor(le){this.status=le,this.type=PAUSE_RECORDING}}function difference(xe,le){return xe.filter(O=>le.indexOf(O)<0)}function unliftState(xe){const{computedStates:le,currentStateIndex:O}=xe;if(O>=le.length){const{state:F}=le[le.length-1];return F}const{state:g}=le[O];return g}function unliftAction(xe){return xe.actionsById[xe.nextActionId-1]}function liftAction(xe){return new PerformAction(xe,+Date.now())}function sanitizeActions(xe,le){return Object.keys(le).reduce((O,g)=>{const F=Number(g);return O[F]=sanitizeAction(xe,le[F],F),O},{})}function sanitizeAction(xe,le,O){return{...le,action:xe(le.action,O)}}function sanitizeStates(xe,le){return le.map((O,g)=>({state:sanitizeState(xe,O.state,g),error:O.error}))}function sanitizeState(xe,le,O){return xe(le,O)}function shouldFilterActions(xe){return xe.predicate||xe.actionsSafelist||xe.actionsBlocklist}function filterLiftedState(xe,le,O,g){const F=[],z={},ue=[];return xe.stagedActionIds.forEach((ee,pe)=>{const ye=xe.actionsById[ee];!ye||pe&&isActionFiltered(xe.computedStates[pe],ye,le,O,g)||(z[ee]=ye,F.push(ee),ue.push(xe.computedStates[pe]))}),{...xe,stagedActionIds:F,actionsById:z,computedStates:ue}}function isActionFiltered(xe,le,O,g,F){const z=O&&!O(xe,le.action),ue=g&&!le.action.type.match(g.map(pe=>escapeRegExp(pe)).join("|")),ee=F&&le.action.type.match(F.map(pe=>escapeRegExp(pe)).join("|"));return z||ue||ee}function escapeRegExp(xe){return xe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(xe,le,O,g,F){if(g)return{state:O,error:"Interrupted by an error up the chain"};let ue,z=O;try{z=xe(O,le)}catch(ee){ue=ee.toString(),F.handleError(ee)}return{state:z,error:ue}}function recomputeStates(xe,le,O,g,F,z,ue,ee,pe){if(le>=xe.length&&xe.length===z.length)return xe;const ye=xe.slice(0,le),we=z.length-(pe?1:0);for(let fe=le;fe<we;fe++){const ne=z[fe],re=F[ne].action,ae=ye[fe-1],Ge=ae?ae.state:g,We=ae?ae.error:void 0,St=ue.indexOf(ne)>-1?ae:computeNextEntry(O,re,Ge,We,ee);ye.push(St)}return pe&&ye.push(xe[xe.length-1]),ye}function liftInitialState(xe,le){return{monitorState:le(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:xe,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(xe,le,O,g,F={}){return z=>(ue,ee)=>{let{monitorState:pe,actionsById:ye,nextActionId:we,stagedActionIds:fe,skippedActionIds:ne,committedState:re,currentStateIndex:ae,computedStates:Ge,isLocked:We,isPaused:Ue}=ue||le;function St(De){let Pt=De,at=fe.slice(1,Pt+1);for(let Ye=0;Ye<at.length;Ye++){if(Ge[Ye+1].error){Pt=Ye,at=fe.slice(1,Pt+1);break}delete ye[at[Ye]]}ne=ne.filter(Ye=>-1===at.indexOf(Ye)),fe=[0,...fe.slice(Pt+1)],re=Ge[Pt].state,Ge=Ge.slice(Pt),ae=ae>Pt?ae-Pt:0}function it(){ye={0:liftAction(INIT_ACTION)},we=1,fe=[0],ne=[],re=Ge[ae].state,ae=0,Ge=[]}ue||(ye=Object.create(ye));let $e=0;switch(ee.type){case LOCK_CHANGES:We=ee.status,$e=1/0;break;case PAUSE_RECORDING:Ue=ee.status,Ue?(fe=[...fe,we],ye[we]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),we++,$e=fe.length-1,Ge=Ge.concat(Ge[Ge.length-1]),ae===fe.length-2&&ae++,$e=1/0):it();break;case RESET:ye={0:liftAction(INIT_ACTION)},we=1,fe=[0],ne=[],re=xe,ae=0,Ge=[];break;case COMMIT:it();break;case ROLLBACK:ye={0:liftAction(INIT_ACTION)},we=1,fe=[0],ne=[],ae=0,Ge=[];break;case TOGGLE_ACTION:{const{id:De}=ee;ne=-1===ne.indexOf(De)?[De,...ne]:ne.filter(at=>at!==De),$e=fe.indexOf(De);break}case SET_ACTIONS_ACTIVE:{const{start:De,end:Pt,active:at}=ee,Ye=[];for(let Ne=De;Ne<Pt;Ne++)Ye.push(Ne);ne=at?difference(ne,Ye):[...ne,...Ye],$e=fe.indexOf(De);break}case JUMP_TO_STATE:ae=ee.index,$e=1/0;break;case JUMP_TO_ACTION:{const De=fe.indexOf(ee.actionId);-1!==De&&(ae=De),$e=1/0;break}case SWEEP:fe=difference(fe,ne),ne=[],ae=Math.min(ae,fe.length-1);break;case PERFORM_ACTION:{if(We)return ue||le;if(Ue||ue&&isActionFiltered(ue.computedStates[ae],ee,F.predicate,F.actionsSafelist,F.actionsBlocklist)){const Pt=Ge[Ge.length-1];Ge=[...Ge.slice(0,-1),computeNextEntry(z,ee.action,Pt.state,Pt.error,O)],$e=1/0;break}F.maxAge&&fe.length===F.maxAge&&St(1),ae===fe.length-1&&ae++;const De=we++;ye[De]=ee,fe=[...fe,De],$e=fe.length-1;break}case IMPORT_STATE:({monitorState:pe,actionsById:ye,nextActionId:we,stagedActionIds:fe,skippedActionIds:ne,committedState:re,currentStateIndex:ae,computedStates:Ge,isLocked:We,isPaused:Ue}=ee.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:$e=0,F.maxAge&&fe.length>F.maxAge&&(Ge=recomputeStates(Ge,$e,z,re,ye,fe,ne,O,Ue),St(fe.length-F.maxAge),$e=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Ge.filter(Pt=>Pt.error).length>0)$e=0,F.maxAge&&fe.length>F.maxAge&&(Ge=recomputeStates(Ge,$e,z,re,ye,fe,ne,O,Ue),St(fe.length-F.maxAge),$e=1/0);else{if(!Ue&&!We){ae===fe.length-1&&ae++;const Pt=we++;ye[Pt]=new PerformAction(ee,+Date.now()),fe=[...fe,Pt],$e=fe.length-1,Ge=recomputeStates(Ge,$e,z,re,ye,fe,ne,O,Ue)}Ge=Ge.map(Pt=>({...Pt,state:z(Pt.state,RECOMPUTE_ACTION)})),ae=fe.length-1,F.maxAge&&fe.length>F.maxAge&&St(fe.length-F.maxAge),$e=1/0}break;default:$e=1/0}return Ge=recomputeStates(Ge,$e,z,re,ye,fe,ne,O,Ue),pe=g(pe,ee),{monitorState:pe,actionsById:ye,nextActionId:we,stagedActionIds:fe,skippedActionIds:ne,committedState:re,currentStateIndex:ae,computedStates:Ge,isLocked:We,isPaused:Ue}}}let DevtoolsDispatcher=(()=>{class xe extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return xe.\u0275fac=function(){let le;return function(g){return(le||(le=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(xe)))(g||xe)}}(),xe.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(xe,le,O){this.config=le,this.dispatcher=O,this.devtoolsExtension=xe,this.createActionStreams()}notify(xe,le){if(this.devtoolsExtension)if(xe.type===PERFORM_ACTION){if(le.isLocked||le.isPaused)return;const O=unliftState(le);if(shouldFilterActions(this.config)&&isActionFiltered(O,xe,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const g=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,O,le.currentStateIndex):O,F=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,xe,le.nextActionId):xe;this.sendToReduxDevtools(()=>this.extensionConnection.send(F,g))}else{const O={...le,stagedActionIds:le.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,le.actionsById):le.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,le.computedStates):le.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,O,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(xe=>{const le=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=le,le.init(),le.subscribe(O=>xe.next(O)),le.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const xe=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),le=xe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.START)),O=xe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.STOP)),g=xe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ee=>this.unwrapAction(ee.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(ee=>ee.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(pe=>pe.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>ee),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(ee)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(ee))),z=xe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ee=>this.unwrapAction(ee.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O)),ue=g.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O));this.start$=le.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>z)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ue))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(xe){const le={name:xe.name,features:xe.features,serialize:xe.serialize,autoPause:xe.autoPause??!1};return!1!==xe.maxAge&&(le.maxAge=xe.maxAge),le}sendToReduxDevtools(xe){try{xe()}catch(le){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",le)}}}return DevtoolsExtension.\u0275fac=function xe(le){return new(le||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class xe{constructor(O,g,F,z,ue,ee,pe,ye){const we=liftInitialState(pe,ye.monitor),fe=liftReducerWith(pe,we,ee,ye.monitor,ye),ne=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(g.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),z.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),O,z.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),re=F.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(fe)),ae=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Ge=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(re),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:it},[$e,De])=>{let Pt=De(it,$e);return $e.type!==PERFORM_ACTION&&shouldFilterActions(ye)&&(Pt=filterLiftedState(Pt,ye.predicate,ye.actionsSafelist,ye.actionsBlocklist)),z.notify($e,Pt),{state:Pt,action:$e}},{state:we,action:null})).subscribe(({state:it,action:$e})=>{ae.next(it),$e.type===PERFORM_ACTION&&ue.next($e.action)}),We=z.start$.subscribe(()=>{this.refresh()}),Ue=ae.asObservable(),St=Ue.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=We,this.stateSubscription=Ge,this.dispatcher=O,this.liftedState=Ue,this.state=St}dispatch(O){this.dispatcher.next(O)}next(O){this.dispatcher.next(O)}error(O){}complete(){}performAction(O){this.dispatch(new PerformAction(O,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(O){this.dispatch(new ToggleAction(O))}jumpToAction(O){this.dispatch(new JumpToAction(O))}jumpToState(O){this.dispatch(new JumpToState(O))}importState(O){this.dispatch(new ImportState(O))}lockChanges(O){this.dispatch(new LockChanges(O))}pauseRecording(O){this.dispatch(new PauseRecording(O))}}return xe.\u0275fac=function(O){return new(O||xe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},xe.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(xe,le){return Boolean(xe)||le.monitor!==noMonitor}function createReduxDevtoolsExtension(){const xe="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[xe]<"u"?window[xe]:null}function createStateObservable(xe){return xe.state}let StoreDevtoolsModule=(()=>{class xe{static instrument(O={}){return{ngModule:xe,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:O},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return xe.\u0275fac=function(O){return new(O||xe)},xe.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:xe}),xe.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),xe})()},9653:(xe,le,O)=>{"use strict";O.d(le,{UO:()=>Ct,qg:()=>Ne,Y6:()=>vt,mK:()=>En,n$:()=>On,Y$:()=>Cr,FR:()=>ei,yh:()=>Bt,Aw:()=>ii,wb:()=>Lt,PH:()=>We,Lq:()=>_r,on:()=>ys,Ky:()=>Ue});var g=O(4650),F=O(1135),z=O(9751),ue=O(7579),ee=O(233),pe=O(5363),ye=O(1365),we=O(5026),fe=O(4004),re=O(1884);const ae={};function We(ge,ut){if(ae[ge]=(ae[ge]||0)+1,"function"==typeof ut)return it(ge,(...nt)=>({...ut(...nt),type:ge}));switch(ut?ut._as:"empty"){case"empty":return it(ge,()=>({type:ge}));case"props":return it(ge,nt=>({...nt,type:ge}));default:throw new Error("Unexpected config.")}}function Ue(){return{_as:"props",_p:void 0}}function it(ge,ut){return Object.defineProperty(ut,"type",{value:ge,writable:!1})}const Ne="@ngrx/store/init";let Ct=(()=>{class ge extends F.X{constructor(){super({type:Ne})}next(Te){if("function"==typeof Te)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Te>"u")throw new TypeError("Actions must be objects");if(typeof Te.type>"u")throw new TypeError("Actions must have a type property");super.next(Te)}complete(){}ngOnDestroy(){super.complete()}}return ge.\u0275fac=function(Te){return new(Te||ge)},ge.\u0275prov=g.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const lt=[Ct],Ke=new g.OlP("@ngrx/store Internal Root Guard"),Be=new g.OlP("@ngrx/store Internal Initial State"),vt=new g.OlP("@ngrx/store Initial State"),Tt=new g.OlP("@ngrx/store Reducer Factory"),jt=new g.OlP("@ngrx/store Internal Reducer Factory Provider"),Ut=new g.OlP("@ngrx/store Initial Reducers"),Dr=new g.OlP("@ngrx/store Internal Initial Reducers"),Ht=new g.OlP("@ngrx/store Store Features"),lr=new g.OlP("@ngrx/store Internal Store Reducers"),Nn=new g.OlP("@ngrx/store Internal Feature Reducers"),Me=new g.OlP("@ngrx/store Internal Feature Configs"),Oe=new g.OlP("@ngrx/store Internal Store Features"),te=new g.OlP("@ngrx/store Internal Feature Reducers Token"),Xe=new g.OlP("@ngrx/store Feature Reducers"),ht=new g.OlP("@ngrx/store User Provided Meta Reducers"),He=new g.OlP("@ngrx/store Meta Reducers"),Qe=new g.OlP("@ngrx/store Internal Resolved Meta Reducers"),It=new g.OlP("@ngrx/store User Runtime Checks Config"),At=new g.OlP("@ngrx/store Internal User Runtime Checks Config"),Vt=new g.OlP("@ngrx/store Internal Runtime Checks"),rn=new g.OlP("@ngrx/store Check if Action types are unique");function xn(ge,ut={}){const Te=Object.keys(ge),nt={};for(let Ot=0;Ot<Te.length;Ot++){const Gn=Te[Ot];"function"==typeof ge[Gn]&&(nt[Gn]=ge[Gn])}const Et=Object.keys(nt);return function(Gn,Sr){Gn=void 0===Gn?ut:Gn;let dr=!1;const ar={};for(let bn=0;bn<Et.length;bn++){const si=Et[bn],xr=Gn[si],xo=(0,nt[si])(xr,Sr);ar[si]=xo,dr=dr||xo!==xr}return dr?ar:Gn}}function tr(...ge){return function(ut){if(0===ge.length)return ut;const Te=ge[ge.length-1];return ge.slice(0,-1).reduceRight((Et,Ot)=>Ot(Et),Te(ut))}}function Xt(ge,ut){return Array.isArray(ut)&&ut.length>0&&(ge=tr.apply(null,[...ut,ge])),(Te,nt)=>{const Et=ge(Te);return(Ot,Gn)=>Et(Ot=void 0===Ot?nt:Ot,Gn)}}class On extends z.y{}class En extends Ct{}const Lt="@ngrx/store/update-reducers";let un=(()=>{class ge extends F.X{constructor(Te,nt,Et,Ot){super(Ot(Et,nt)),this.dispatcher=Te,this.initialState=nt,this.reducers=Et,this.reducerFactory=Ot}get currentReducers(){return this.reducers}addFeature(Te){this.addFeatures([Te])}addFeatures(Te){const nt=Te.reduce((Et,{reducers:Ot,reducerFactory:Gn,metaReducers:Sr,initialState:dr,key:ar})=>{const bn="function"==typeof Ot?function nr(ge){const ut=Array.isArray(ge)&&ge.length>0?tr(...ge):Te=>Te;return(Te,nt)=>(Te=ut(Te),(Et,Ot)=>Te(Et=void 0===Et?nt:Et,Ot))}(Sr)(Ot,dr):Xt(Gn,Sr)(Ot,dr);return Et[ar]=bn,Et},{});this.addReducers(nt)}removeFeature(Te){this.removeFeatures([Te])}removeFeatures(Te){this.removeReducers(Te.map(nt=>nt.key))}addReducer(Te,nt){this.addReducers({[Te]:nt})}addReducers(Te){this.reducers={...this.reducers,...Te},this.updateReducers(Object.keys(Te))}removeReducer(Te){this.removeReducers([Te])}removeReducers(Te){Te.forEach(nt=>{this.reducers=function _n(ge,ut){return Object.keys(ge).filter(Te=>Te!==ut).reduce((Te,nt)=>Object.assign(Te,{[nt]:ge[nt]}),{})}(this.reducers,nt)}),this.updateReducers(Te)}updateReducers(Te){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Lt,features:Te})}ngOnDestroy(){this.complete()}}return ge.\u0275fac=function(Te){return new(Te||ge)(g.LFG(En),g.LFG(vt),g.LFG(Ut),g.LFG(Tt))},ge.\u0275prov=g.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Ln=[un,{provide:On,useExisting:un},{provide:En,useExisting:Ct}];let Cr=(()=>{class ge extends ue.x{ngOnDestroy(){this.complete()}}return ge.\u0275fac=function(){let ut;return function(nt){return(ut||(ut=g.n5z(ge)))(nt||ge)}}(),ge.\u0275prov=g.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Ci=[Cr];class ei extends z.y{}let jr=(()=>{class ge extends F.X{constructor(Te,nt,Et,Ot){super(Ot);const ar=Te.pipe((0,pe.Q)(ee.N)).pipe((0,ye.M)(nt)).pipe((0,we.R)(An,{state:Ot}));this.stateSubscription=ar.subscribe(({state:bn,action:si})=>{this.next(bn),Et.next(si)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return ge.INIT=Ne,ge.\u0275fac=function(Te){return new(Te||ge)(g.LFG(Ct),g.LFG(On),g.LFG(Cr),g.LFG(vt))},ge.\u0275prov=g.Yz7({token:ge,factory:ge.\u0275fac}),ge})();function An(ge={state:void 0},[ut,Te]){const{state:nt}=ge;return{state:Te(nt,ut),action:ut}}const Sn=[jr,{provide:ei,useExisting:jr}];let Bt=(()=>{class ge extends z.y{constructor(Te,nt,Et){super(),this.actionsObserver=nt,this.reducerManager=Et,this.source=Te}select(Te,...nt){return Bn.call(null,Te,...nt)(this)}lift(Te){const nt=new ge(this,this.actionsObserver,this.reducerManager);return nt.operator=Te,nt}dispatch(Te){this.actionsObserver.next(Te)}next(Te){this.actionsObserver.next(Te)}error(Te){this.actionsObserver.error(Te)}complete(){this.actionsObserver.complete()}addReducer(Te,nt){this.reducerManager.addReducer(Te,nt)}removeReducer(Te){this.reducerManager.removeReducer(Te)}}return ge.\u0275fac=function(Te){return new(Te||ge)(g.LFG(ei),g.LFG(Ct),g.LFG(un))},ge.\u0275prov=g.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const sn=[Bt];function Bn(ge,ut,...Te){return function(Et){let Ot;if("string"==typeof ge){const Gn=[ut,...Te].filter(Boolean);Ot=Et.pipe(function ne(...ge){const ut=ge.length;if(0===ut)throw new Error("list of properties cannot be empty.");return(0,fe.U)(Te=>{let nt=Te;for(let Et=0;Et<ut;Et++){const Ot=nt?.[ge[Et]];if(!(typeof Ot<"u"))return;nt=Ot}return nt})}(ge,...Gn))}else{if("function"!=typeof ge)throw new TypeError(`Unexpected type '${typeof ge}' in select operator, expected 'string' or 'function'`);Ot=Et.pipe((0,fe.U)(Gn=>ge(Gn,ut)))}return Ot.pipe((0,re.x)())}}const $r="https://ngrx.io/guide/store/configuration/runtime-checks";function sr(ge){return void 0===ge}function Tr(ge){return null===ge}function hn(ge){return Array.isArray(ge)}function Fn(ge){return"object"==typeof ge&&null!==ge}function Hr(ge){return"function"==typeof ge}function X(ge){Object.freeze(ge);const ut=Hr(ge);return Object.getOwnPropertyNames(ge).forEach(Te=>{if(!Te.startsWith("\u0275")&&function Zn(ge,ut){return Object.prototype.hasOwnProperty.call(ge,ut)}(ge,Te)&&(!ut||"caller"!==Te&&"callee"!==Te&&"arguments"!==Te)){const nt=ge[Te];(Fn(nt)||Hr(nt))&&!Object.isFrozen(nt)&&X(nt)}}),ge}function ft(ge,ut=[]){return(sr(ge)||Tr(ge))&&0===ut.length?{path:["root"],value:ge}:Object.keys(ge).reduce((nt,Et)=>{if(nt)return nt;const Ot=ge[Et];return function Kn(ge){return Hr(ge)&&ge.hasOwnProperty("\u0275cmp")}(Ot)?nt:!(sr(Ot)||Tr(Ot)||function es(ge){return"number"==typeof ge}(Ot)||function Wn(ge){return"boolean"==typeof ge}(Ot)||function Pr(ge){return"string"==typeof ge}(Ot)||hn(Ot))&&(function cn(ge){if(!function vr(ge){return Fn(ge)&&!hn(ge)}(ge))return!1;const ut=Object.getPrototypeOf(ge);return ut===Object.prototype||null===ut}(Ot)?ft(Ot,[...ut,Et]):{path:[...ut,Et],value:Ot})},!1)}function Wt(ge,ut){if(!1===ge)return;const Te=ge.path.join("."),nt=new Error(`Detected unserializable ${ut} at "${Te}". ${$r}#strict${ut}serializability`);throw nt.value=ge.value,nt.unserializablePath=Te,nt}function Le(ge){return(0,g.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ge}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Fe({strictActionSerializability:ge,strictStateSerializability:ut}){return Te=>ge||ut?function Ve(ge,ut){return function(Te,nt){ut.action(nt)&&Wt(ft(nt),"action");const Et=ge(Te,nt);return ut.state()&&Wt(ft(Et),"state"),Et}}(Te,{action:nt=>ge&&!_t(nt),state:()=>ut}):Te}function yt({strictActionImmutability:ge,strictStateImmutability:ut}){return Te=>ge||ut?function oe(ge,ut){return function(Te,nt){const Et=ut.action(nt)?X(nt):nt,Ot=ge(Te,Et);return ut.state()?X(Ot):Ot}}(Te,{action:nt=>ge&&!_t(nt),state:()=>ut}):Te}function _t(ge){return ge.type.startsWith("@ngrx")}function ln({strictActionWithinNgZone:ge}){return ut=>ge?function wn(ge,ut){return function(Te,nt){if(ut.action(nt)&&!g.R0b.isInAngularZone())throw new Error(`Action '${nt.type}' running outside NgZone. ${$r}#strictactionwithinngzone`);return ge(Te,nt)}}(ut,{action:Te=>ge&&!_t(Te)}):ut}function mn(ge){return[{provide:At,useValue:ge},{provide:It,useFactory:kr,deps:[At]},{provide:Vt,deps:[It],useFactory:Le},{provide:He,multi:!0,deps:[Vt],useFactory:yt},{provide:He,multi:!0,deps:[Vt],useFactory:Fe},{provide:He,multi:!0,deps:[Vt],useFactory:ln}]}function qn(){return[{provide:rn,multi:!0,deps:[Vt],useFactory:Hn}]}function kr(ge){return ge}function Hn(ge){if(!ge.strictActionTypeUniqueness)return;const ut=Object.entries(ae).filter(([,Te])=>Te>1).map(([Te])=>Te);if(ut.length)throw new Error(`Action types are registered more than once, ${ut.map(Te=>`"${Te}"`).join(", ")}. ${$r}#strictactiontypeuniqueness`)}let Ur=(()=>{class ge{constructor(Te,nt,Et,Ot,Gn,Sr){}}return ge.\u0275fac=function(Te){return new(Te||ge)(g.LFG(Ct),g.LFG(On),g.LFG(Cr),g.LFG(Bt),g.LFG(Ke,8),g.LFG(rn,8))},ge.\u0275mod=g.oAB({type:ge}),ge.\u0275inj=g.cJS({}),ge})(),fi=(()=>{class ge{constructor(Te,nt,Et,Ot,Gn){this.features=Te,this.featureReducers=nt,this.reducerManager=Et;const Sr=Te.map((dr,ar)=>{const si=nt.shift()[ar];return{...dr,reducers:si,initialState:Di(dr.initialState)}});Et.addFeatures(Sr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return ge.\u0275fac=function(Te){return new(Te||ge)(g.LFG(Oe),g.LFG(Xe),g.LFG(un),g.LFG(Ur),g.LFG(rn,8))},ge.\u0275mod=g.oAB({type:ge}),ge.\u0275inj=g.cJS({}),ge})(),ii=(()=>{class ge{static forRoot(Te,nt={}){return{ngModule:Ur,providers:[{provide:Ke,useFactory:Mi,deps:[[Bt,new g.FiY,new g.tp0]]},{provide:Be,useValue:nt.initialState},{provide:vt,useFactory:Di,deps:[Be]},{provide:Dr,useValue:Te},{provide:lr,useExisting:Te instanceof g.OlP?Te:Dr},{provide:Ut,deps:[g.zs3,Dr,[new g.tBr(lr)]],useFactory:_i},{provide:ht,useValue:nt.metaReducers?nt.metaReducers:[]},{provide:Qe,deps:[He,ht],useFactory:ts},{provide:jt,useValue:nt.reducerFactory?nt.reducerFactory:xn},{provide:Tt,deps:[jt,Qe],useFactory:Xt},lt,Ln,Ci,Sn,sn,mn(nt.runtimeChecks),qn()]}}static forFeature(Te,nt,Et={}){return{ngModule:fi,providers:[{provide:Me,multi:!0,useValue:Te instanceof Object?{}:Et},{provide:Ht,multi:!0,useValue:{key:Te instanceof Object?Te.name:Te,reducerFactory:Et instanceof g.OlP||!Et.reducerFactory?xn:Et.reducerFactory,metaReducers:Et instanceof g.OlP||!Et.metaReducers?[]:Et.metaReducers,initialState:Et instanceof g.OlP||!Et.initialState?void 0:Et.initialState}},{provide:Oe,deps:[g.zs3,Me,Ht],useFactory:ls},{provide:Nn,multi:!0,useValue:Te instanceof Object?Te.reducer:nt},{provide:te,multi:!0,useExisting:nt instanceof g.OlP?nt:Nn},{provide:Xe,multi:!0,deps:[g.zs3,Nn,[new g.tBr(te)]],useFactory:or},qn()]}}}return ge.\u0275fac=function(Te){return new(Te||ge)},ge.\u0275mod=g.oAB({type:ge}),ge.\u0275inj=g.cJS({}),ge})();function _i(ge,ut){return ut instanceof g.OlP?ge.get(ut):ut}function ls(ge,ut,Te){return Te.map((nt,Et)=>{if(ut[Et]instanceof g.OlP){const Ot=ge.get(ut[Et]);return{key:nt.key,reducerFactory:Ot.reducerFactory?Ot.reducerFactory:xn,metaReducers:Ot.metaReducers?Ot.metaReducers:[],initialState:Ot.initialState}}return nt})}function or(ge,ut){return ut.map(nt=>nt instanceof g.OlP?ge.get(nt):nt)}function Di(ge){return"function"==typeof ge?ge():ge}function ts(ge,ut){return ge.concat(ut)}function Mi(ge){if(ge)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function ys(...ge){return{reducer:ge.pop(),types:ge.map(nt=>nt.type)}}function _r(ge,...ut){const Te=new Map;for(const nt of ut)for(const Et of nt.types){const Ot=Te.get(Et);Te.set(Et,Ot?(Sr,dr)=>nt.reducer(Ot(Sr,dr),dr):nt.reducer)}return function(nt=ge,Et){const Ot=Te.get(Et.type);return Ot?Ot(nt,Et):nt}}},259:(xe,le,O)=>{"use strict";O.d(le,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=O(6881);(0,g.registerVersion)("firebase","9.23.0","app")},9260:(xe,le,O)=>{"use strict";O.d(le,{Z:()=>g.Z});var g=O(3942);g.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(xe,le,O)=>{"use strict";O.r(le);var g=O(5861),F=O(3942),z=O(2090),ue=O(6881),ee=O(7582),pe=O(1877),ye=O(4859);const Ue=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},St=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new pe.Yd("@firebase/auth");function at(m,...d){De.logLevel<=pe.in.ERROR&&De.error(`Auth (${ue.SDK_VERSION}): ${m}`,...d)}function Ye(m,...d){throw Ke(m,...d)}function Ne(m,...d){return Ke(m,...d)}function Ct(m,d,h){const w=Object.assign(Object.assign({},St()),{[d]:h});return new z.LL("auth","Firebase",w).create(d,{appName:m.name})}function lt(m,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&Ye(m,"argument-error"),Ct(m,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(m,...d){if("string"!=typeof m){const h=d[0],w=[...d.slice(1)];return w[0]&&(w[0].appName=m.name),m._errorFactory.create(h,...w)}return it.create(m,...d)}function Be(m,d,...h){if(!m)throw Ke(d,...h)}function vt(m){const d="INTERNAL ASSERTION FAILED: "+m;throw at(d),new Error(d)}function Tt(m,d){m||vt(d)}function jt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Ut(){return"http:"===Dr()||"https:"===Dr()}function Dr(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Nn{constructor(d,h){this.shortDelay=d,this.longDelay=h,Tt(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Ht(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ut()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(m,d){Tt(m.emulator,"Emulator should always be set here");const{url:h}=m.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class Oe{static initialize(d,h,w){this.fetchImpl=d,h&&(this.headersImpl=h),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new Nn(3e4,6e4);function ht(m,d){return m.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:m.tenantId}):d}function He(m,d,h,w){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,g.Z)(function*(m,d,h,w,V={}){return It(m,V,(0,g.Z)(function*(){let K={},me={};w&&("GET"===d?me=w:K={body:JSON.stringify(w)});const Ze=(0,z.xO)(Object.assign({key:m.config.apiKey},me)).slice(1),Nt=yield m._getAdditionalHeaders();return Nt["Content-Type"]="application/json",m.languageCode&&(Nt["X-Firebase-Locale"]=m.languageCode),Oe.fetch()(xn(m,m.config.apiHost,h,Ze),Object.assign({method:d,headers:Nt,referrerPolicy:"no-referrer"},K))}))})).apply(this,arguments)}function It(m,d,h){return At.apply(this,arguments)}function At(){return(At=(0,g.Z)(function*(m,d,h){m._canInitEmulator=!1;const w=Object.assign(Object.assign({},te),d);try{const V=new _n(m),K=yield Promise.race([h(),V.promise]);V.clearNetworkTimeout();const me=yield K.json();if("needConfirmation"in me)throw tr(m,"account-exists-with-different-credential",me);if(K.ok&&!("errorMessage"in me))return me;{const Ze=K.ok?me.errorMessage:me.error.message,[Nt,Yt]=Ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nt)throw tr(m,"credential-already-in-use",me);if("EMAIL_EXISTS"===Nt)throw tr(m,"email-already-in-use",me);if("USER_DISABLED"===Nt)throw tr(m,"user-disabled",me);const pn=w[Nt]||Nt.toLowerCase().replace(/[_\s]+/g,"-");if(Yt)throw Ct(m,pn,Yt);Ye(m,pn)}}catch(V){if(V instanceof z.ZR)throw V;Ye(m,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function Vt(m,d,h,w){return rn.apply(this,arguments)}function rn(){return(rn=(0,g.Z)(function*(m,d,h,w,V={}){const K=yield He(m,d,h,w,V);return"mfaPendingCredential"in K&&Ye(m,"multi-factor-auth-required",{_serverResponse:K}),K})).apply(this,arguments)}function xn(m,d,h,w){const V=`${d}${h}?${w}`;return m.config.emulator?Me(m.config,V):`${m.config.apiScheme}://${V}`}class _n{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,w)=>{this.timer=setTimeout(()=>w(Ne(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tr(m,d,h){const w={appName:m.name};h.email&&(w.email=h.email),h.phoneNumber&&(w.phoneNumber=h.phoneNumber);const V=Ne(m,d,w);return V.customData._tokenResponse=h,V}function nr(){return(nr=(0,g.Z)(function*(m,d){return He(m,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function On(m,d){return En.apply(this,arguments)}function En(){return(En=(0,g.Z)(function*(m,d){return He(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Lt(m,d){return un.apply(this,arguments)}function un(){return(un=(0,g.Z)(function*(m,d){return He(m,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Ln(m){if(m)try{const d=new Date(Number(m));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function ei(){return(ei=(0,g.Z)(function*(m,d=!1){const h=(0,z.m9)(m),w=yield h.getIdToken(d),V=An(w);Be(V&&V.exp&&V.auth_time&&V.iat,h.auth,"internal-error");const K="object"==typeof V.firebase?V.firebase:void 0,me=K?.sign_in_provider;return{claims:V,token:w,authTime:Ln(jr(V.auth_time)),issuedAtTime:Ln(jr(V.iat)),expirationTime:Ln(jr(V.exp)),signInProvider:me||null,signInSecondFactor:K?.sign_in_second_factor||null}})).apply(this,arguments)}function jr(m){return 1e3*Number(m)}function An(m){const[d,h,w]=m.split(".");if(void 0===d||void 0===h||void 0===w)return at("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,z.tV)(h);return V?JSON.parse(V):(at("Failed to decode base64 JWT payload"),null)}catch(V){return at("Caught error parsing JWT payload as JSON",V?.toString()),null}}function Bt(m,d){return sn.apply(this,arguments)}function sn(){return(sn=(0,g.Z)(function*(m,d,h=!1){if(h)return d;try{return yield d}catch(w){throw w instanceof z.ZR&&Bn(w)&&m.auth.currentUser===m&&(yield m.auth.signOut()),w}})).apply(this,arguments)}function Bn({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class $r{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const V=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const w=this.getInterval(d);this.timerId=setTimeout((0,g.Z)(function*(){yield h.iteration()}),w)}iteration(){var d=this;return(0,g.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&d.schedule(!0))}d.schedule()})()}}class sr{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ln(this.lastLoginAt),this.creationTime=Ln(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tr(m){return hn.apply(this,arguments)}function hn(){return(hn=(0,g.Z)(function*(m){var d;const h=m.auth,w=yield m.getIdToken(),V=yield Bt(m,Lt(h,{idToken:w}));Be(V?.users.length,h,"internal-error");const K=V.users[0];m._notifyReloadListener(K);const me=null!==(d=K.providerUserInfo)&&void 0!==d&&d.length?Fn(K.providerUserInfo):[],Ze=es(m.providerData,me),pn=!!m.isAnonymous&&!(m.email&&K.passwordHash||Ze?.length),vn={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:Ze,metadata:new sr(K.createdAt,K.lastLoginAt),isAnonymous:pn};Object.assign(m,vn)})).apply(this,arguments)}function Wn(){return(Wn=(0,g.Z)(function*(m){const d=(0,z.m9)(m);yield Tr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function es(m,d){return[...m.filter(w=>!d.some(V=>V.providerId===w.providerId)),...d]}function Fn(m){return m.map(d=>{var{providerId:h}=d,w=(0,ee._T)(d,["providerId"]);return{providerId:h,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function cn(){return(cn=(0,g.Z)(function*(m,d){const h=yield It(m,{},(0,g.Z)(function*(){const w=(0,z.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:V,apiKey:K}=m.config,me=xn(m,V,"/v1/token",`key=${K}`),Ze=yield m._getAdditionalHeaders();return Ze["Content-Type"]="application/x-www-form-urlencoded",Oe.fetch()(me,{method:"POST",headers:Ze,body:w})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class Hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Be(d.idToken,"internal-error"),Be(typeof d.idToken<"u","internal-error"),Be(typeof d.refreshToken<"u","internal-error");const h="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Sn(m){const d=An(m);return Be(d,"internal-error"),Be(typeof d.exp<"u","internal-error"),Be(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var w=this;return(0,g.Z)(function*(){return Be(!w.accessToken||w.refreshToken,d,"user-token-expired"),h||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(d,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var w=this;return(0,g.Z)(function*(){const{accessToken:V,refreshToken:K,expiresIn:me}=yield function vr(m,d){return cn.apply(this,arguments)}(d,h);w.updateTokensAndExpiration(V,K,Number(me))})()}updateTokensAndExpiration(d,h,w){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(d,h){const{refreshToken:w,accessToken:V,expirationTime:K}=h,me=new Hr;return w&&(Be("string"==typeof w,"internal-error",{appName:d}),me.refreshToken=w),V&&(Be("string"==typeof V,"internal-error",{appName:d}),me.accessToken=V),K&&(Be("number"==typeof K,"internal-error",{appName:d}),me.expirationTime=K),me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Hr,this.toJSON())}_performRefresh(){return vt("not implemented")}}function Kn(m,d){Be("string"==typeof m||typeof m>"u","internal-error",{appName:d})}class Zn{constructor(d){var{uid:h,auth:w,stsTokenManager:V}=d,K=(0,ee._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=w,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=K.displayName||null,this.email=K.email||null,this.emailVerified=K.emailVerified||!1,this.phoneNumber=K.phoneNumber||null,this.photoURL=K.photoURL||null,this.isAnonymous=K.isAnonymous||!1,this.tenantId=K.tenantId||null,this.providerData=K.providerData?[...K.providerData]:[],this.metadata=new sr(K.createdAt||void 0,K.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,g.Z)(function*(){const w=yield Bt(h,h.stsTokenManager.getToken(h.auth,d));return Be(w,h.auth,"internal-error"),h.accessToken!==w&&(h.accessToken=w,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),w})()}getIdTokenResult(d){return function Ci(m){return ei.apply(this,arguments)}(this,d)}reload(){return function Pr(m){return Wn.apply(this,arguments)}(this)}_assign(d){this!==d&&(Be(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const h=new Zn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(d){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var w=this;return(0,g.Z)(function*(){let V=!1;d.idToken&&d.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(d),V=!0),h&&(yield Tr(w)),yield w.auth._persistUserIfCurrent(w),V&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var d=this;return(0,g.Z)(function*(){const h=yield d.getIdToken();return yield Bt(d,function Xt(m,d){return nr.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var w,V,K,me,Ze,Nt,Yt,pn;const vn=null!==(w=h.displayName)&&void 0!==w?w:void 0,Yi=null!==(V=h.email)&&void 0!==V?V:void 0,oa=null!==(K=h.phoneNumber)&&void 0!==K?K:void 0,od=null!==(me=h.photoURL)&&void 0!==me?me:void 0,fh=null!==(Ze=h.tenantId)&&void 0!==Ze?Ze:void 0,Wu=null!==(Nt=h._redirectEventId)&&void 0!==Nt?Nt:void 0,$c=null!==(Yt=h.createdAt)&&void 0!==Yt?Yt:void 0,Hc=null!==(pn=h.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:Gc,emailVerified:ph,isAnonymous:ad,providerData:sc,stsTokenManager:df}=h;Be(Gc&&df,d,"internal-error");const ud=Hr.fromJSON(this.name,df);Be("string"==typeof Gc,d,"internal-error"),Kn(vn,d.name),Kn(Yi,d.name),Be("boolean"==typeof ph,d,"internal-error"),Be("boolean"==typeof ad,d,"internal-error"),Kn(oa,d.name),Kn(od,d.name),Kn(fh,d.name),Kn(Wu,d.name),Kn($c,d.name),Kn(Hc,d.name);const cd=new Zn({uid:Gc,auth:d,email:Yi,emailVerified:ph,displayName:vn,isAnonymous:ad,photoURL:od,phoneNumber:oa,tenantId:fh,stsTokenManager:ud,createdAt:$c,lastLoginAt:Hc});return sc&&Array.isArray(sc)&&(cd.providerData=sc.map(Vs=>Object.assign({},Vs))),Wu&&(cd._redirectEventId=Wu),cd}static _fromIdTokenResponse(d,h,w=!1){return(0,g.Z)(function*(){const V=new Hr;V.updateFromServerResponse(h);const K=new Zn({uid:h.localId,auth:d,stsTokenManager:V,isAnonymous:w});return yield Tr(K),K})()}}const hi=new Map;function $n(m){Tt(m instanceof Function,"Expected a class definition");let d=hi.get(m);return d?(Tt(d instanceof m,"Instance stored in cache mismatched with class"),d):(d=new m,hi.set(m,d),d)}const Nr=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(h,w){var V=this;return(0,g.Z)(function*(){V.storage[h]=w})()}_get(h){var w=this;return(0,g.Z)(function*(){const V=w.storage[h];return void 0===V?null:V})()}_remove(h){var w=this;return(0,g.Z)(function*(){delete w.storage[h]})()}_addListener(h,w){}_removeListener(h,w){}}return m.type="NONE",m})();function _e(m,d,h){return`firebase:${m}:${d}:${h}`}class se{constructor(d,h,w){this.persistence=d,this.auth=h,this.userKey=w;const{config:V,name:K}=this.auth;this.fullUserKey=_e(this.userKey,V.apiKey,K),this.fullPersistenceKey=_e("persistence",V.apiKey,K),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?Zn._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,g.Z)(function*(){if(h.persistence===d)return;const w=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,w?h.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,w="authUser"){return(0,g.Z)(function*(){if(!h.length)return new se($n(Nr),d,w);const V=(yield Promise.all(h.map(function(){var Yt=(0,g.Z)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return Yt.apply(this,arguments)}}()))).filter(Yt=>Yt);let K=V[0]||$n(Nr);const me=_e(w,d.config.apiKey,d.name);let Ze=null;for(const Yt of h)try{const pn=yield Yt._get(me);if(pn){const vn=Zn._fromJSON(d,pn);Yt!==K&&(Ze=vn),K=Yt;break}}catch{}const Nt=V.filter(Yt=>Yt._shouldAllowMigration);return K._shouldAllowMigration&&Nt.length?(K=Nt[0],Ze&&(yield K._set(me,Ze.toJSON())),yield Promise.all(h.map(function(){var Yt=(0,g.Z)(function*(pn){if(pn!==K)try{yield pn._remove(me)}catch{}});return function(pn){return Yt.apply(this,arguments)}}())),new se(K,d,w)):new se(K,d,w)})()}}function Ce(m){const d=m.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(qt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(qe(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(rr(d))return"Blackberry";if(de(d))return"Webos";if(ke(d))return"Safari";if((d.includes("chrome/")||xt(d))&&!d.includes("edge/"))return"Chrome";if(In(d))return"Android";{const w=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function qe(m=(0,z.z$)()){return/firefox\//i.test(m)}function ke(m=(0,z.z$)()){const d=m.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function xt(m=(0,z.z$)()){return/crios\//i.test(m)}function qt(m=(0,z.z$)()){return/iemobile/i.test(m)}function In(m=(0,z.z$)()){return/android/i.test(m)}function rr(m=(0,z.z$)()){return/blackberry/i.test(m)}function de(m=(0,z.z$)()){return/webos/i.test(m)}function oe(m=(0,z.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Wt(m=(0,z.z$)()){return oe(m)||In(m)||de(m)||rr(m)||/windows phone/i.test(m)||qt(m)}function Le(m,d=[]){let h;switch(m){case"Browser":h=Ce((0,z.z$)());break;case"Worker":h=`${Ce((0,z.z$)())}-${m}`;break;default:h=m}const w=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${ue.SDK_VERSION}/${w}`}function yt(){return(yt=(0,g.Z)(function*(m){return(yield He(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _t(m,d){return ln.apply(this,arguments)}function ln(){return(ln=(0,g.Z)(function*(m,d){return He(m,"GET","/v2/recaptchaConfig",ht(m,d))})).apply(this,arguments)}function mn(m){return void 0!==m&&void 0!==m.getResponse}function qn(m){return void 0!==m&&void 0!==m.enterprise}class kr{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(h=>"EMAIL_PASSWORD_PROVIDER"===h.provider&&"OFF"!==h.enforcementState)}}function Ur(m){return new Promise((d,h)=>{const w=document.createElement("script");w.setAttribute("src",m),w.onload=d,w.onerror=V=>{const K=Ne("internal-error");K.customData=V,h(K)},w.type="text/javascript",w.charset="UTF-8",function Hn(){var m,d;return null!==(d=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==d?d:document}().appendChild(w)})}function fi(m){return`__${m}${Math.floor(1e6*Math.random())}`}class or{constructor(d){this.type="recaptcha-enterprise",this.auth=_r(d)}verify(d="verify",h=!1){var w=this;return(0,g.Z)(function*(){function K(){return K=(0,g.Z)(function*(Ze){if(!h){if(null==Ze.tenantId&&null!=Ze._agentRecaptchaConfig)return Ze._agentRecaptchaConfig.siteKey;if(null!=Ze.tenantId&&void 0!==Ze._tenantRecaptchaConfigs[Ze.tenantId])return Ze._tenantRecaptchaConfigs[Ze.tenantId].siteKey}return new Promise(function(){var Nt=(0,g.Z)(function*(Yt,pn){_t(Ze,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(vn=>{if(void 0!==vn.recaptchaKey){const Yi=new kr(vn);return null==Ze.tenantId?Ze._agentRecaptchaConfig=Yi:Ze._tenantRecaptchaConfigs[Ze.tenantId]=Yi,Yt(Yi.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(vn=>{pn(vn)})});return function(Yt,pn){return Nt.apply(this,arguments)}}())}),K.apply(this,arguments)}function me(Ze,Nt,Yt){const pn=window.grecaptcha;qn(pn)?pn.enterprise.ready(()=>{pn.enterprise.execute(Ze,{action:d}).then(vn=>{Nt(vn)}).catch(()=>{Nt("NO_RECAPTCHA")})}):Yt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ze,Nt)=>{(function V(Ze){return K.apply(this,arguments)})(w.auth).then(Yt=>{if(!h&&qn(window.grecaptcha))me(Yt,Ze,Nt);else{if(typeof window>"u")return void Nt(new Error("RecaptchaVerifier is only supported in browser"));Ur("https://www.google.com/recaptcha/enterprise.js?render="+Yt).then(()=>{me(Yt,Ze,Nt)}).catch(pn=>{Nt(pn)})}}).catch(Yt=>{Nt(Yt)})})})()}}function Di(m,d,h){return ts.apply(this,arguments)}function ts(){return(ts=(0,g.Z)(function*(m,d,h,w=!1){const V=new or(m);let K;try{K=yield V.verify(h)}catch{K=yield V.verify(h,!0)}const me=Object.assign({},d);return Object.assign(me,w?{captchaResp:K}:{captchaResponse:K}),Object.assign(me,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(me,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),me})).apply(this,arguments)}class Mi{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,h){const w=K=>new Promise((me,Ze)=>{try{me(d(K))}catch(Nt){Ze(Nt)}});w.onAbort=h,this.queue.push(w);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(d){var h=this;return(0,g.Z)(function*(){if(h.auth.currentUser===d)return;const w=[];try{for(const V of h.queue)yield V(d),V.onAbort&&w.push(V.onAbort)}catch(V){w.reverse();for(const K of w)try{K()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:V?.message})}})()}}class ys{constructor(d,h,w,V){this.app=d,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=w,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ge(this),this.idTokenSubscription=new ge(this),this.beforeStateQueue=new Mi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(d,h){var w=this;return h&&(this._popupRedirectResolver=$n(h)),this._initializationPromise=this.queue((0,g.Z)(function*(){var V,K;if(!w._deleted&&(w.persistenceManager=yield se.create(w,d),!w._deleted)){if(null!==(V=w._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(h),w.lastNotifiedUid=(null===(K=w.currentUser)||void 0===K?void 0:K.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h,!0)}})()}initializeCurrentUser(d){var h=this;return(0,g.Z)(function*(){var w;const V=yield h.assertedPersistence.getCurrentUser();let K=V,me=!1;if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const Ze=null===(w=h.redirectUser)||void 0===w?void 0:w._redirectEventId,Nt=K?._redirectEventId,Yt=yield h.tryRedirectSignIn(d);(!Ze||Ze===Nt)&&Yt?.user&&(K=Yt.user,me=!0)}if(!K)return h.directlySetCurrentUser(null);if(!K._redirectEventId){if(me)try{yield h.beforeStateQueue.runMiddleware(K)}catch(Ze){K=V,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(Ze))}return K?h.reloadAndSetCurrentUserOrClear(K):h.directlySetCurrentUser(null)}return Be(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===K._redirectEventId?h.directlySetCurrentUser(K):h.reloadAndSetCurrentUserOrClear(K)})()}tryRedirectSignIn(d){var h=this;return(0,g.Z)(function*(){let w=null;try{w=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch{yield h._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,g.Z)(function*(){try{yield Tr(d)}catch(w){if("auth/network-request-failed"!==w?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function lr(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var d=this;return(0,g.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,g.Z)(function*(){const w=d?(0,z.m9)(d):null;return w&&Be(w.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(w&&w._clone(h))})()}_updateCurrentUser(d,h=!1){var w=this;return(0,g.Z)(function*(){if(!w._deleted)return d&&Be(w.tenantId===d.tenantId,w,"tenant-id-mismatch"),h||(yield w.beforeStateQueue.runMiddleware(d)),w.queue((0,g.Z)(function*(){yield w.directlySetCurrentUser(d),w.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,g.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var h=this;return this.queue((0,g.Z)(function*(){yield h.assertedPersistence.setPersistence($n(d))}))}initializeRecaptchaConfig(){var d=this;return(0,g.Z)(function*(){const h=yield _t(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new kr(h);null==d.tenantId?d._agentRecaptchaConfig=w:d._tenantRecaptchaConfigs[d.tenantId]=w,w.emailPasswordEnabled&&new or(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new z.LL("auth","Firebase",d())}onAuthStateChanged(d,h,w){return this.registerStateListener(this.authStateSubscription,d,h,w)}beforeAuthStateChanged(d,h){return this.beforeStateQueue.pushCallback(d,h)}onIdTokenChanged(d,h,w){return this.registerStateListener(this.idTokenSubscription,d,h,w)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var w=this;return(0,g.Z)(function*(){const V=yield w.getOrInitRedirectPersistenceManager(h);return null===d?V.removeCurrentUser():V.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,g.Z)(function*(){if(!h.redirectPersistenceManager){const w=d&&$n(d)||h._popupRedirectResolver;Be(w,h,"argument-error"),h.redirectPersistenceManager=yield se.create(h,[$n(w._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,g.Z)(function*(){var w,V;return h._isInitialized&&(yield h.queue((0,g.Z)(function*(){}))),(null===(w=h._currentUser)||void 0===w?void 0:w._redirectEventId)===d?h._currentUser:(null===(V=h.redirectUser)||void 0===V?void 0:V._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,g.Z)(function*(){if(d===h.currentUser)return h.queue((0,g.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,w,V){if(this._deleted)return()=>{};const K="function"==typeof h?h:h.next.bind(h),me=this._isInitialized?Promise.resolve():this._initializationPromise;return Be(me,this,"internal-error"),me.then(()=>K(this.currentUser)),"function"==typeof h?d.addObserver(h,w,V):d.addObserver(h)}directlySetCurrentUser(d){var h=this;return(0,g.Z)(function*(){h.currentUser&&h.currentUser!==d&&h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh(),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Le(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.Z)(function*(){var h;const w={"X-Client-Version":d.clientVersion};d.app.options.appId&&(w["X-Firebase-gmpid"]=d.app.options.appId);const V=yield null===(h=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();V&&(w["X-Firebase-Client"]=V);const K=yield d._getAppCheckToken();return K&&(w["X-Firebase-AppCheck"]=K),w})()}_getAppCheckToken(){var d=this;return(0,g.Z)(function*(){var h;const w=yield null===(h=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return w?.error&&function Pt(m,...d){De.logLevel<=pe.in.WARN&&De.warn(`Auth (${ue.SDK_VERSION}): ${m}`,...d)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function _r(m){return(0,z.m9)(m)}class ge{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,z.ne)(h=>this.observer=h)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Et(m){const d=m.indexOf(":");return d<0?"":m.substr(0,d+1)}function Gn(m){if(!m)return null;const d=Number(m);return isNaN(d)?null:d}class dr{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return vt("not implemented")}_getIdTokenResponse(d){return vt("not implemented")}_linkToIdToken(d,h){return vt("not implemented")}_getReauthenticationResolver(d){return vt("not implemented")}}function ar(m,d){return bn.apply(this,arguments)}function bn(){return(bn=(0,g.Z)(function*(m,d){return He(m,"POST","/v1/accounts:resetPassword",ht(m,d))})).apply(this,arguments)}function si(m,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,g.Z)(function*(m,d){return He(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function xr(m,d){return xo.apply(this,arguments)}function xo(){return(xo=(0,g.Z)(function*(m,d){return He(m,"POST","/v1/accounts:update",ht(m,d))})).apply(this,arguments)}function Lr(m,d){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:signInWithPassword",ht(m,d))})).apply(this,arguments)}function go(m,d){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(m,d){return He(m,"POST","/v1/accounts:sendOobCode",ht(m,d))})).apply(this,arguments)}function Re(m,d){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,g.Z)(function*(m,d){return go(m,d)})).apply(this,arguments)}function ze(m,d){return gt.apply(this,arguments)}function gt(){return(gt=(0,g.Z)(function*(m,d){return go(m,d)})).apply(this,arguments)}function Rt(m,d){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,g.Z)(function*(m,d){return go(m,d)})).apply(this,arguments)}function gr(m,d){return mr.apply(this,arguments)}function mr(){return(mr=(0,g.Z)(function*(m,d){return go(m,d)})).apply(this,arguments)}function ns(){return(ns=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:signInWithEmailLink",ht(m,d))})).apply(this,arguments)}function ti(){return(ti=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:signInWithEmailLink",ht(m,d))})).apply(this,arguments)}class Ss extends dr{constructor(d,h,w,V=null){super("password",w),this._email=d,this._password=h,this._tenantId=V}static _fromEmailAndPassword(d,h){return new Ss(d,h,"password")}static _fromEmailAndCode(d,h,w=null){return new Ss(d,h,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,g.Z)(function*(){var w;switch(h.signInMethod){case"password":const V={returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=d._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const K=yield Di(d,V,"signInWithPassword");return Lr(d,K)}return Lr(d,V).catch(function(){var K=(0,g.Z)(function*(me){if("auth/missing-recaptcha-token"===me.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ze=yield Di(d,V,"signInWithPassword");return Lr(d,Ze)}return Promise.reject(me)});return function(me){return K.apply(this,arguments)}}());case"emailLink":return function fr(m,d){return ns.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:Ye(d,"internal-error")}})()}_linkToIdToken(d,h){var w=this;return(0,g.Z)(function*(){switch(w.signInMethod){case"password":return si(d,{idToken:h,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function $s(m,d){return ti.apply(this,arguments)}(d,{idToken:h,email:w._email,oobCode:w._password});default:Ye(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function rs(m,d){return $i.apply(this,arguments)}function $i(){return($i=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:signInWithIdp",ht(m,d))})).apply(this,arguments)}class ui extends dr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new ui(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):Ye("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:w,signInMethod:V}=h,K=(0,ee._T)(h,["providerId","signInMethod"]);if(!w||!V)return null;const me=new ui(w,V);return me.idToken=K.idToken||void 0,me.accessToken=K.accessToken||void 0,me.secret=K.secret,me.nonce=K.nonce,me.pendingToken=K.pendingToken||null,me}_getIdTokenResponse(d){return rs(d,this.buildRequest())}_linkToIdToken(d,h){const w=this.buildRequest();return w.idToken=h,rs(d,w)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,rs(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,z.xO)(h)}return d}}function Hi(m,d){return ds.apply(this,arguments)}function ds(){return(ds=(0,g.Z)(function*(m,d){return He(m,"POST","/v1/accounts:sendVerificationCode",ht(m,d))})).apply(this,arguments)}function Ys(){return(Ys=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:signInWithPhoneNumber",ht(m,d))})).apply(this,arguments)}function so(){return(so=(0,g.Z)(function*(m,d){const h=yield Vt(m,"POST","/v1/accounts:signInWithPhoneNumber",ht(m,d));if(h.temporaryProof)throw tr(m,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const oo={USER_NOT_FOUND:"user-not-found"};function ni(){return(ni=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:signInWithPhoneNumber",ht(m,Object.assign(Object.assign({},d),{operation:"REAUTH"})),oo)})).apply(this,arguments)}class Or extends dr{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new Or({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new Or({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function xs(m,d){return Ys.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function Go(m,d){return so.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function zo(m,d){return ni.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:w,verificationCode:V}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:w,code:V}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:w,phoneNumber:V,temporaryProof:K}=d;return w||h||V||K?new Or({verificationId:h,verificationCode:w,phoneNumber:V,temporaryProof:K}):null}}class Qs{constructor(d){var h,w,V,K,me,Ze;const Nt=(0,z.zd)((0,z.pd)(d)),Yt=null!==(h=Nt.apiKey)&&void 0!==h?h:null,pn=null!==(w=Nt.oobCode)&&void 0!==w?w:null,vn=function fa(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Nt.mode)&&void 0!==V?V:null);Be(Yt&&pn&&vn,"argument-error"),this.apiKey=Yt,this.operation=vn,this.code=pn,this.continueUrl=null!==(K=Nt.continueUrl)&&void 0!==K?K:null,this.languageCode=null!==(me=Nt.languageCode)&&void 0!==me?me:null,this.tenantId=null!==(Ze=Nt.tenantId)&&void 0!==Ze?Ze:null}static parseLink(d){const h=function vs(m){const d=(0,z.zd)((0,z.pd)(m)).link,h=d?(0,z.zd)((0,z.pd)(d)).deep_link_id:null,w=(0,z.zd)((0,z.pd)(m)).deep_link_id;return(w?(0,z.zd)((0,z.pd)(w)).link:null)||w||h||d||m}(d);try{return new Qs(h)}catch{return null}}}let zr=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(h,w){return Ss._fromEmailAndPassword(h,w)}static credentialWithLink(h,w){const V=Qs.parseLink(w);return Be(V,"argument-error"),Ss._fromEmailAndCode(h,V.code,V.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Pi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Hs extends Pi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class is extends Hs{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return Be("providerId"in h&&"signInMethod"in h,"argument-error"),ui._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Be(d.idToken||d.accessToken,"argument-error"),ui._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return is.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return is.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:w,oauthTokenSecret:V,pendingToken:K,nonce:me,providerId:Ze}=d;if(!w&&!V&&!h&&!K||!Ze)return null;try{return new is(Ze)._credential({idToken:h,accessToken:w,nonce:me,pendingToken:K})}catch{return null}}}let pi=(()=>{class m extends Hs{constructor(){super("facebook.com")}static credential(h){return ui._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),hs=(()=>{class m extends Hs{constructor(){super("google.com"),this.addScope("profile")}static credential(h,w){return ui._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:w})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:w,oauthAccessToken:V}=h;if(!w&&!V)return null;try{return m.credential(w,V)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),mo=(()=>{class m extends Hs{constructor(){super("github.com")}static credential(h){return ui._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Gr extends dr{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return rs(d,this.buildRequest())}_linkToIdToken(d,h){const w=this.buildRequest();return w.idToken=h,rs(d,w)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,rs(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:w,signInMethod:V,pendingToken:K}=h;return w&&V&&K&&w===V?new Gr(w,K):null}static _create(d,h){return new Gr(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gi extends Pi{constructor(d){Be(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Gi.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Gi.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=Gr.fromJSON(d);return Be(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:w}=d;if(!h||!w)return null;try{return Gr._create(w,h)}catch{return null}}}let Wo=(()=>{class m extends Hs{constructor(){super("twitter.com")}static credential(h,w){return ui._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:w})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:w,oauthTokenSecret:V}=h;if(!w||!V)return null;try{return m.credential(w,V)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function zi(m,d){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:signUp",ht(m,d))})).apply(this,arguments)}class gi{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,w,V=!1){return(0,g.Z)(function*(){const K=yield Zn._fromIdTokenResponse(d,w,V),me=Dn(w);return new gi({user:K,providerId:me,_tokenResponse:w,operationType:h})})()}static _forOperation(d,h,w){return(0,g.Z)(function*(){yield d._updateTokensIfNecessary(w,!0);const V=Dn(w);return new gi({user:d,providerId:V,_tokenResponse:w,operationType:h})})()}}function Dn(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Ko(){return(Ko=(0,g.Z)(function*(m){var d;const h=_r(m);if(yield h._initializationPromise,null!==(d=h.currentUser)&&void 0!==d&&d.isAnonymous)return new gi({user:h.currentUser,providerId:null,operationType:"signIn"});const w=yield zi(h,{returnSecureToken:!0}),V=yield gi._fromIdTokenResponse(h,"signIn",w,!0);return yield h._updateCurrentUser(V.user),V})).apply(this,arguments)}class Oo extends z.ZR{constructor(d,h,w,V){var K;super(h.code,h.message),this.operationType=w,this.user=V,Object.setPrototypeOf(this,Oo.prototype),this.customData={appName:d.name,tenantId:null!==(K=d.tenantId)&&void 0!==K?K:void 0,_serverResponse:h.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(d,h,w,V){return new Oo(d,h,w,V)}}function vo(m,d,h,w){return("reauthenticate"===d?h._getReauthenticationResolver(m):h._getIdTokenResponse(m)).catch(K=>{throw"auth/multi-factor-auth-required"===K.code?Oo._fromErrorAndOperation(m,K,d,w):K})}function Wi(m){return new Set(m.map(({providerId:d})=>d).filter(d=>!!d))}function Ri(){return(Ri=(0,g.Z)(function*(m,d){const h=(0,z.m9)(m);yield Yn(!0,h,d);const{providerUserInfo:w}=yield On(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),V=Wi(w||[]);return h.providerData=h.providerData.filter(K=>V.has(K.providerId)),V.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function qo(m,d){return bt.apply(this,arguments)}function bt(){return(bt=(0,g.Z)(function*(m,d,h=!1){const w=yield Bt(m,d._linkToIdToken(m.auth,yield m.getIdToken()),h);return gi._forOperation(m,"link",w)})).apply(this,arguments)}function Yn(m,d,h){return _o.apply(this,arguments)}function _o(){return(_o=(0,g.Z)(function*(m,d,h){yield Tr(d);const V=!1===m?"provider-already-linked":"no-such-provider";Be(Wi(d.providerData).has(h)===m,d.auth,V)})).apply(this,arguments)}function Zo(m,d){return ri.apply(this,arguments)}function ri(){return(ri=(0,g.Z)(function*(m,d,h=!1){const{auth:w}=m,V="reauthenticate";try{const K=yield Bt(m,vo(w,V,d,m),h);Be(K.idToken,w,"internal-error");const me=An(K.idToken);Be(me,w,"internal-error");const{sub:Ze}=me;return Be(m.uid===Ze,w,"user-mismatch"),gi._forOperation(m,V,K)}catch(K){throw"auth/user-not-found"===K?.code&&Ye(w,"user-mismatch"),K}})).apply(this,arguments)}function ws(m,d){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,g.Z)(function*(m,d,h=!1){const w="signIn",V=yield vo(m,w,d),K=yield gi._fromIdTokenResponse(m,w,V);return h||(yield m._updateCurrentUser(K.user)),K})).apply(this,arguments)}function Ti(m,d){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,g.Z)(function*(m,d){return ws(_r(m),d)})).apply(this,arguments)}function Js(m,d){return ss.apply(this,arguments)}function ss(){return(ss=(0,g.Z)(function*(m,d){const h=(0,z.m9)(m);return yield Yn(!1,h,d.providerId),qo(h,d)})).apply(this,arguments)}function Wr(m,d){return U.apply(this,arguments)}function U(){return(U=(0,g.Z)(function*(m,d){return Zo((0,z.m9)(m),d)})).apply(this,arguments)}function N(m,d){return M.apply(this,arguments)}function M(){return(M=(0,g.Z)(function*(m,d){return Vt(m,"POST","/v1/accounts:signInWithCustomToken",ht(m,d))})).apply(this,arguments)}function et(){return(et=(0,g.Z)(function*(m,d){const h=_r(m),w=yield N(h,{token:d,returnSecureToken:!0}),V=yield gi._fromIdTokenResponse(h,"signIn",w);return yield h._updateCurrentUser(V.user),V})).apply(this,arguments)}class Jt{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?ur._fromServerResponse(d,h):"totpInfo"in h?Ai._fromServerResponse(d,h):Ye(d,"internal-error")}}class ur extends Jt{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new ur(h)}}class Ai extends Jt{constructor(d){super("totp",d)}static _fromServerResponse(d,h){return new Ai(h)}}function mi(m,d,h){var w;Be((null===(w=h.url)||void 0===w?void 0:w.length)>0,m,"invalid-continue-uri"),Be(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(Be(h.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(Be(h.android.packageName.length>0,m,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function Es(){return Es=(0,g.Z)(function*(m,d,h){var w;const V=_r(m),K={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=V._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const me=yield Di(V,K,"getOobCode",!0);h&&mi(V,me,h),yield ze(V,me)}else h&&mi(V,K,h),yield ze(V,K).catch(function(){var me=(0,g.Z)(function*(Ze){if("auth/missing-recaptcha-token"!==Ze.code)return Promise.reject(Ze);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Nt=yield Di(V,K,"getOobCode",!0);h&&mi(V,Nt,h),yield ze(V,Nt)}});return function(Ze){return me.apply(this,arguments)}}())}),Es.apply(this,arguments)}function co(){return(co=(0,g.Z)(function*(m,d,h){yield ar((0,z.m9)(m),{oobCode:d,newPassword:h})})).apply(this,arguments)}function qi(){return(qi=(0,g.Z)(function*(m,d){yield xr((0,z.m9)(m),{oobCode:d})})).apply(this,arguments)}function Yo(m,d){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,g.Z)(function*(m,d){const h=(0,z.m9)(m),w=yield ar(h,{oobCode:d}),V=w.requestType;switch(Be(V,h,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Be(w.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Be(w.mfaInfo,h,"internal-error");default:Be(w.email,h,"internal-error")}let K=null;return w.mfaInfo&&(K=Jt._fromServerResponse(_r(h),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:K},operation:V}})).apply(this,arguments)}function eo(){return(eo=(0,g.Z)(function*(m,d){const{data:h}=yield Yo((0,z.m9)(m),d);return h.email})).apply(this,arguments)}function Qo(){return Qo=(0,g.Z)(function*(m,d,h){var w;const V=_r(m),K={returnSecureToken:!0,email:d,password:h,clientType:"CLIENT_TYPE_WEB"};let me;if(null!==(w=V._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Yt=yield Di(V,K,"signUpPassword");me=zi(V,Yt)}else me=zi(V,K).catch(function(){var Yt=(0,g.Z)(function*(pn){if("auth/missing-recaptcha-token"===pn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const vn=yield Di(V,K,"signUpPassword");return zi(V,vn)}return Promise.reject(pn)});return function(pn){return Yt.apply(this,arguments)}}());const Ze=yield me.catch(Yt=>Promise.reject(Yt)),Nt=yield gi._fromIdTokenResponse(V,"signIn",Ze);return yield V._updateCurrentUser(Nt.user),Nt}),Qo.apply(this,arguments)}function wo(){return wo=(0,g.Z)(function*(m,d,h){var w;const V=_r(m),K={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function me(Ze,Nt){Be(Nt.handleCodeInApp,V,"argument-error"),Nt&&mi(V,Ze,Nt)}if(null!==(w=V._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Ze=yield Di(V,K,"getOobCode",!0);me(Ze,h),yield Rt(V,Ze)}else me(K,h),yield Rt(V,K).catch(function(){var Ze=(0,g.Z)(function*(Nt){if("auth/missing-recaptcha-token"!==Nt.code)return Promise.reject(Nt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Yt=yield Di(V,K,"getOobCode",!0);me(Yt,h),yield Rt(V,Yt)}});return function(Nt){return Ze.apply(this,arguments)}}())}),wo.apply(this,arguments)}function to(){return(to=(0,g.Z)(function*(m,d,h){const w=(0,z.m9)(m),V=zr.credentialWithLink(d,h||jt());return Be(V._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ti(w,V)})).apply(this,arguments)}function Qr(m,d){return Da.apply(this,arguments)}function Da(){return(Da=(0,g.Z)(function*(m,d){return He(m,"POST","/v1/accounts:createAuthUri",ht(m,d))})).apply(this,arguments)}function Io(){return(Io=(0,g.Z)(function*(m,d){const w={identifier:d,continueUri:Ut()?jt():"http://localhost"},{signinMethods:V}=yield Qr((0,z.m9)(m),w);return V||[]})).apply(this,arguments)}function lo(){return(lo=(0,g.Z)(function*(m,d){const h=(0,z.m9)(m),V={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};d&&mi(h.auth,V,d);const{email:K}=yield Re(h.auth,V);K!==m.email&&(yield m.reload())})).apply(this,arguments)}function no(){return(no=(0,g.Z)(function*(m,d,h){const w=(0,z.m9)(m),K={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:d};h&&mi(w.auth,K,h);const{email:me}=yield gr(w.auth,K);me!==m.email&&(yield m.reload())})).apply(this,arguments)}function Os(m,d){return bo.apply(this,arguments)}function bo(){return(bo=(0,g.Z)(function*(m,d){return He(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Do(){return(Do=(0,g.Z)(function*(m,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const w=(0,z.m9)(m),K={idToken:yield w.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},me=yield Bt(w,Os(w.auth,K));w.displayName=me.displayName||null,w.photoURL=me.photoUrl||null;const Ze=w.providerData.find(({providerId:Nt})=>"password"===Nt);Ze&&(Ze.displayName=w.displayName,Ze.photoURL=w.photoURL),yield w._updateTokensIfNecessary(me)})).apply(this,arguments)}function Xo(m,d,h){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,g.Z)(function*(m,d,h){const{auth:w}=m,K={idToken:yield m.getIdToken(),returnSecureToken:!0};d&&(K.email=d),h&&(K.password=h);const me=yield Bt(m,si(w,K));yield m._updateTokensIfNecessary(me,!0)})).apply(this,arguments)}class wi{constructor(d,h,w={}){this.isNewUser=d,this.providerId=h,this.profile=w}}class ea extends wi{constructor(d,h,w,V){super(d,h,w),this.username=V}}class Fr extends wi{constructor(d,h){super(d,"facebook.com",h)}}class T extends ea{constructor(d,h){super(d,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class H extends wi{constructor(d,h){super(d,"google.com",h)}}class R extends ea{constructor(d,h,w){super(d,"twitter.com",h,w)}}function Z(m){const{user:d,_tokenResponse:h}=m;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function fu(m){var d,h;if(!m)return null;const{providerId:w}=m,V=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},K=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!w&&m?.idToken){const me=null===(h=null===(d=An(m.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(me)return new wi(K,"anonymous"!==me&&"custom"!==me?me:null)}if(!w)return null;switch(w){case"facebook.com":return new Fr(K,V);case"github.com":return new T(K,V);case"google.com":return new H(K,V);case"twitter.com":return new R(K,V,m.screenName||null);case"custom":case"anonymous":return new wi(K,null);default:return new wi(K,w,V)}}(h)}class Jr{constructor(d,h,w){this.type=d,this.credential=h,this.auth=w}static _fromIdtoken(d,h){return new Jr("enroll",d,h)}static _fromMfaPendingCredential(d){return new Jr("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,w;if(d?.multiFactorSession){if(null!==(h=d.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Jr._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(w=d.multiFactorSession)&&void 0!==w&&w.idToken)return Jr._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Ds{constructor(d,h,w){this.session=d,this.hints=h,this.signInResolver=w}static _fromError(d,h){const w=_r(d),V=h.customData._serverResponse,K=(V.mfaInfo||[]).map(Ze=>Jt._fromServerResponse(w,Ze));Be(V.mfaPendingCredential,w,"internal-error");const me=Jr._fromMfaPendingCredential(V.mfaPendingCredential);return new Ds(me,K,function(){var Ze=(0,g.Z)(function*(Nt){const Yt=yield Nt._process(w,me);delete V.mfaInfo,delete V.mfaPendingCredential;const pn=Object.assign(Object.assign({},V),{idToken:Yt.idToken,refreshToken:Yt.refreshToken});switch(h.operationType){case"signIn":const vn=yield gi._fromIdTokenResponse(w,h.operationType,pn);return yield w._updateCurrentUser(vn.user),vn;case"reauthenticate":return Be(h.user,w,"internal-error"),gi._forOperation(h.user,h.operationType,pn);default:Ye(w,"internal-error")}});return function(Nt){return Ze.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,g.Z)(function*(){return h.signInResolver(d)})()}}function zs(m,d){return He(m,"POST","/v2/accounts/mfaEnrollment:start",ht(m,d))}class na{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(w=>Jt._fromServerResponse(d.auth,w)))})}static _fromUser(d){return new na(d)}getSession(){var d=this;return(0,g.Z)(function*(){return Jr._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,h){var w=this;return(0,g.Z)(function*(){const V=d,K=yield w.getSession(),me=yield Bt(w.user,V._process(w.user.auth,K,h));return yield w.user._updateTokensIfNecessary(me),w.user.reload()})()}unenroll(d){var h=this;return(0,g.Z)(function*(){const w="string"==typeof d?d:d.uid,V=yield h.user.getIdToken();try{const K=yield Bt(h.user,function Ta(m,d){return He(m,"POST","/v2/accounts/mfaEnrollment:withdraw",ht(m,d))}(h.user.auth,{idToken:V,mfaEnrollmentId:w}));h.enrolledFactors=h.enrolledFactors.filter(({uid:me})=>me!==w),yield h.user._updateTokensIfNecessary(K),yield h.user.reload()}catch(K){throw K}})()}}const ga=new WeakMap,ra="__sak";class Ja{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(ra,"1"),this.storage.removeItem(ra),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Li=(()=>{class m extends Ja{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,w)=>this.onStorageEvent(h,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Lo(){const m=(0,z.z$)();return ke(m)||oe(m)}()&&function wn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wt(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const w of Object.keys(this.listeners)){const V=this.storage.getItem(w),K=this.localCache[w];V!==K&&h(w,K,V)}}onStorageEvent(h,w=!1){if(!h.key)return void this.forAllChangedKeys((Ze,Nt,Yt)=>{this.notifyListeners(Ze,Yt)});const V=h.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ze=this.storage.getItem(V);if(h.newValue!==Ze)null!==h.newValue?this.storage.setItem(V,h.newValue):this.storage.removeItem(V);else if(this.localCache[V]===h.newValue&&!w)return}const K=()=>{const Ze=this.storage.getItem(V);!w&&this.localCache[V]===Ze||this.notifyListeners(V,Ze)},me=this.storage.getItem(V);!function ft(){return(0,z.w1)()&&10===document.documentMode}()||me===h.newValue||h.newValue===h.oldValue?K():setTimeout(K,10)}notifyListeners(h,w){this.localCache[h]=w;const V=this.listeners[h];if(V)for(const K of Array.from(V))K(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,w,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:w,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(w)}_removeListener(h,w){this.listeners[h]&&(this.listeners[h].delete(w),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,w){var V=()=>super._set,K=this;return(0,g.Z)(function*(){yield V().call(K,h,w),K.localCache[h]=JSON.stringify(w)})()}_get(h){var w=()=>super._get,V=this;return(0,g.Z)(function*(){const K=yield w().call(V,h);return V.localCache[h]=JSON.stringify(K),K})()}_remove(h){var w=()=>super._remove,V=this;return(0,g.Z)(function*(){yield w().call(V,h),delete V.localCache[h]})()}}return m.type="LOCAL",m})(),ma=(()=>{class m extends Ja{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,w){}_removeListener(h,w){}}return m.type="SESSION",m})();let Rr=(()=>{class m{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const w=this.receivers.find(K=>K.isListeningto(h));if(w)return w;const V=new m(h);return this.receivers.push(V),V}isListeningto(h){return this.eventTarget===h}handleEvent(h){var w=this;return(0,g.Z)(function*(){const V=h,{eventId:K,eventType:me,data:Ze}=V.data,Nt=w.handlersMap[me];if(!Nt?.size)return;V.ports[0].postMessage({status:"ack",eventId:K,eventType:me});const Yt=Array.from(Nt).map(function(){var vn=(0,g.Z)(function*(Yi){return Yi(V.origin,Ze)});return function(Yi){return vn.apply(this,arguments)}}()),pn=yield function kt(m){return Promise.all(m.map(function(){var d=(0,g.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(w){return{fulfilled:!1,reason:w}}});return function(h){return d.apply(this,arguments)}}()))}(Yt);V.ports[0].postMessage({status:"done",eventId:K,eventType:me,response:pn})})()}_subscribe(h,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(w)}_unsubscribe(h,w){this.handlersMap[h]&&w&&this.handlersMap[h].delete(w),(!w||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Ei(m="",d=10){let h="";for(let w=0;w<d;w++)h+=Math.floor(10*Math.random());return m+h}class Ii{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,w=50){var V=this;return(0,g.Z)(function*(){const K=typeof MessageChannel<"u"?new MessageChannel:null;if(!K)throw new Error("connection_unavailable");let me,Ze;return new Promise((Nt,Yt)=>{const pn=Ei("",20);K.port1.start();const vn=setTimeout(()=>{Yt(new Error("unsupported_event"))},w);Ze={messageChannel:K,onMessage(Yi){const oa=Yi;if(oa.data.eventId===pn)switch(oa.data.status){case"ack":clearTimeout(vn),me=setTimeout(()=>{Yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(me),Nt(oa.data.response);break;default:clearTimeout(vn),clearTimeout(me),Yt(new Error("invalid_response"))}}},V.handlers.add(Ze),K.port1.addEventListener("message",Ze.onMessage),V.target.postMessage({eventType:d,eventId:pn,data:h},[K.port2])}).finally(()=>{Ze&&V.removeMessageHandler(Ze)})})()}}function Mt(){return window}function Xa(){return typeof Mt().WorkerGlobalScope<"u"&&"function"==typeof Mt().importScripts}function rt(){return(rt=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const To="firebaseLocalStorageDb",ia="firebaseLocalStorage",G="fbase_key";class I{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function S(m,d){return m.transaction([ia],d?"readwrite":"readonly").objectStore(ia)}function ve(){const m=indexedDB.open(To,1);return new Promise((d,h)=>{m.addEventListener("error",()=>{h(m.error)}),m.addEventListener("upgradeneeded",()=>{const w=m.result;try{w.createObjectStore(ia,{keyPath:G})}catch(V){h(V)}}),m.addEventListener("success",(0,g.Z)(function*(){const w=m.result;w.objectStoreNames.contains(ia)?d(w):(w.close(),yield function j(){const m=indexedDB.deleteDatabase(To);return new I(m).toPromise()}(),d(yield ve()))}))})}function dt(m,d,h){return en.apply(this,arguments)}function en(){return(en=(0,g.Z)(function*(m,d,h){const w=S(m,!0).put({[G]:d,value:h});return new I(w).toPromise()})).apply(this,arguments)}function Kt(){return(Kt=(0,g.Z)(function*(m,d){const h=S(m,!1).get(d),w=yield new I(h).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Br(m,d){const h=S(m,!0).delete(d);return new I(h).toPromise()}const ya=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,g.Z)(function*(){return h.db||(h.db=yield ve()),h.db})()}_withRetries(h){var w=this;return(0,g.Z)(function*(){let V=0;for(;;)try{const K=yield w._openDb();return yield h(K)}catch(K){if(V++>3)throw K;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,g.Z)(function*(){return Xa()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,g.Z)(function*(){h.receiver=Rr._getInstance(function cr(){return Xa()?self:null}()),h.receiver._subscribe("keyChanged",function(){var w=(0,g.Z)(function*(V,K){return{keyProcessed:(yield h._poll()).includes(K.key)}});return function(V,K){return w.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var w=(0,g.Z)(function*(V,K){return["keyChanged"]});return function(V,K){return w.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,g.Z)(function*(){var w,V;if(h.activeServiceWorker=yield function Qt(){return rt.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Ii(h.activeServiceWorker);const K=yield h.sender._send("ping",{},800);!K||(null===(w=K[0])||void 0===w?void 0:w.fulfilled)&&(null===(V=K[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var w=this;return(0,g.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function wt(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:h},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const h=yield ve();return yield dt(h,ra,"1"),yield Br(h,ra),!0}catch{}return!1})()}_withPendingWrite(h){var w=this;return(0,g.Z)(function*(){w.pendingWrites++;try{yield h()}finally{w.pendingWrites--}})()}_set(h,w){var V=this;return(0,g.Z)(function*(){return V._withPendingWrite((0,g.Z)(function*(){return yield V._withRetries(K=>dt(K,h,w)),V.localCache[h]=w,V.notifyServiceWorker(h)}))})()}_get(h){var w=this;return(0,g.Z)(function*(){const V=yield w._withRetries(K=>function Vn(m,d){return Kt.apply(this,arguments)}(K,h));return w.localCache[h]=V,V})()}_remove(h){var w=this;return(0,g.Z)(function*(){return w._withPendingWrite((0,g.Z)(function*(){return yield w._withRetries(V=>Br(V,h)),delete w.localCache[h],w.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,g.Z)(function*(){const w=yield h._withRetries(me=>{const Ze=S(me,!1).getAll();return new I(Ze).toPromise()});if(!w)return[];if(0!==h.pendingWrites)return[];const V=[],K=new Set;for(const{fbase_key:me,value:Ze}of w)K.add(me),JSON.stringify(h.localCache[me])!==JSON.stringify(Ze)&&(h.notifyListeners(me,Ze),V.push(me));for(const me of Object.keys(h.localCache))h.localCache[me]&&!K.has(me)&&(h.notifyListeners(me,null),V.push(me));return V})()}notifyListeners(h,w){this.localCache[h]=w;const V=this.listeners[h];if(V)for(const K of Array.from(V))K(w)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(w)}_removeListener(h,w){this.listeners[h]&&(this.listeners[h].delete(w),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Rn(m,d){return He(m,"POST","/v2/accounts/mfaSignIn:start",ht(m,d))}const as=1e12;class Cs{constructor(d){this.auth=d,this.counter=as,this._widgets=new Map}render(d,h){const w=this.counter;return this._widgets.set(w,new ku(d,this.auth.name,h||{})),this.counter++,w}reset(d){var h;const w=d||as;null===(h=this._widgets.get(w))||void 0===h||h.delete(),this._widgets.delete(w)}getResponse(d){var h;return(null===(h=this._widgets.get(d||as))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,g.Z)(function*(){var w;return null===(w=h._widgets.get(d||as))||void 0===w||w.execute(),""})()}}class ku{constructor(d,h,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof d?document.getElementById(d):d;Be(V,"argument-error",{appName:h}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ba(m){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<m;w++)d.push(h.charAt(Math.floor(Math.random()*h.length)));return d.join("")}(50);const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ja=fi("rcb"),eu=new Nn(3e4,6e4);class Ec{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Mt().grecaptcha)||void 0===d||!d.render)}load(d,h=""){return Be(function ro(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(h),d,"argument-error"),this.shouldResolveImmediately(h)&&mn(Mt().grecaptcha)?Promise.resolve(Mt().grecaptcha):new Promise((w,V)=>{const K=Mt().setTimeout(()=>{V(Ne(d,"network-request-failed"))},eu.get());Mt()[ja]=()=>{Mt().clearTimeout(K),delete Mt()[ja];const Ze=Mt().grecaptcha;if(!Ze||!mn(Ze))return void V(Ne(d,"internal-error"));const Nt=Ze.render;Ze.render=(Yt,pn)=>{const vn=Nt(Yt,pn);return this.counter++,vn},this.hostLanguage=h,w(Ze)},Ur(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:ja,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(K),V(Ne(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var h;return!(null===(h=Mt().grecaptcha)||void 0===h||!h.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ic{load(d){return(0,g.Z)(function*(){return new Cs(d)})()}clearedOneInstance(){}}const $a="recaptcha",io={theme:"light",type:"image"};class Fo{constructor(d,h=Object.assign({},io),w){this.parameters=h,this.type=$a,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_r(w),this.isInvisible="invisible"===this.parameters.size,Be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof d?document.getElementById(d):d;Be(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ic:new Ec,this.validateStartingState()}verify(){var d=this;return(0,g.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),w=d.getAssertedRecaptcha();return w.getResponse(h)||new Promise(K=>{const me=Ze=>{!Ze||(d.tokenChangeListeners.delete(me),K(Ze))};d.tokenChangeListeners.add(me),d.isInvisible&&w.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Be(!this.parameters.sitekey,this.auth,"argument-error"),Be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(w=>w(h)),"function"==typeof d)d(h);else if("string"==typeof d){const w=Mt()[d];"function"==typeof w&&w(h)}}}assertNotDestroyed(){Be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,g.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const w=document.createElement("div");h.appendChild(w),h=w}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,g.Z)(function*(){Be(Ut()&&!Xa(),d.auth,"internal-error"),yield function E(){let m=null;return new Promise(d=>{"complete"!==document.readyState?(m=()=>d(),window.addEventListener("load",m)):d()}).catch(d=>{throw m&&window.removeEventListener("load",m),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function Fe(m){return yt.apply(this,arguments)}(d.auth);Be(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return Be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class y{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=Or._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function A(){return(A=(0,g.Z)(function*(m,d,h){const w=_r(m),V=yield ot(w,d,(0,z.m9)(h));return new y(V,K=>Ti(w,K))})).apply(this,arguments)}function q(){return(q=(0,g.Z)(function*(m,d,h){const w=(0,z.m9)(m);yield Yn(!1,w,"phone");const V=yield ot(w.auth,d,(0,z.m9)(h));return new y(V,K=>Js(w,K))})).apply(this,arguments)}function Ee(){return(Ee=(0,g.Z)(function*(m,d,h){const w=(0,z.m9)(m),V=yield ot(w.auth,d,(0,z.m9)(h));return new y(V,K=>Wr(w,K))})).apply(this,arguments)}function ot(m,d,h){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,g.Z)(function*(m,d,h){var w;const V=yield h.verify();try{let K;if(Be("string"==typeof V,m,"argument-error"),Be(h.type===$a,m,"argument-error"),K="string"==typeof d?{phoneNumber:d}:d,"session"in K){const me=K.session;if("phoneNumber"in K)return Be("enroll"===me.type,m,"internal-error"),(yield zs(m,{idToken:me.credential,phoneEnrollmentInfo:{phoneNumber:K.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{Be("signin"===me.type,m,"internal-error");const Ze=(null===(w=K.multiFactorHint)||void 0===w?void 0:w.uid)||K.multiFactorUid;return Be(Ze,m,"missing-multi-factor-info"),(yield Rn(m,{mfaPendingCredential:me.credential,mfaEnrollmentId:Ze,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:me}=yield Hi(m,{phoneNumber:K.phoneNumber,recaptchaToken:V});return me}}finally{h._reset()}})).apply(this,arguments)}function dn(){return(dn=(0,g.Z)(function*(m,d){yield qo((0,z.m9)(m),d)})).apply(this,arguments)}let wr=(()=>{class m{constructor(h){this.providerId=m.PROVIDER_ID,this.auth=_r(h)}verifyPhoneNumber(h,w){return ot(this.auth,h,(0,z.m9)(w))}static credential(h,w){return Or._fromVerification(h,w)}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:w,temporaryProof:V}=h;return w&&V?Or._fromTokenResponse(w,V):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Vr(m,d){return d?$n(d):(Be(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class li extends dr{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return rs(d,this._buildIdpRequest())}_linkToIdToken(d,h){return rs(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return rs(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function Ao(m){return ws(m.auth,new li(m),m.bypassAuthState)}function ho(m){const{auth:d,user:h}=m;return Be(h,d,"internal-error"),Zo(h,new li(m),m.bypassAuthState)}function Xi(m){return va.apply(this,arguments)}function va(){return(va=(0,g.Z)(function*(m){const{auth:d,user:h}=m;return Be(h,d,"internal-error"),qo(h,new li(m),m.bypassAuthState)})).apply(this,arguments)}class Ma{constructor(d,h,w,V,K=!1){this.auth=d,this.resolver=w,this.user=V,this.bypassAuthState=K,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,g.Z)(function*(w,V){d.pendingPromise={resolve:w,reject:V};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(K){d.reject(K)}});return function(w,V){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,g.Z)(function*(){const{urlResponse:w,sessionId:V,postBody:K,tenantId:me,error:Ze,type:Nt}=d;if(Ze)return void h.reject(Ze);const Yt={auth:h.auth,requestUri:w,sessionId:V,tenantId:me||void 0,postBody:K||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Nt)(Yt))}catch(pn){h.reject(pn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Ao;case"linkViaPopup":case"linkViaRedirect":return Xi;case"reauthViaPopup":case"reauthViaRedirect":return ho;default:Ye(this.auth,"internal-error")}}resolve(d){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fi=new Nn(2e3,1e4);function Vi(){return(Vi=(0,g.Z)(function*(m,d,h){const w=_r(m);lt(m,d,Pi);const V=Vr(w,h);return new ul(w,"signInViaPopup",d,V).executeNotNull()})).apply(this,arguments)}function Dc(){return(Dc=(0,g.Z)(function*(m,d,h){const w=(0,z.m9)(m);lt(w.auth,d,Pi);const V=Vr(w.auth,h);return new ul(w.auth,"reauthViaPopup",d,V,w).executeNotNull()})).apply(this,arguments)}function pu(){return(pu=(0,g.Z)(function*(m,d,h){const w=(0,z.m9)(m);lt(w.auth,d,Pi);const V=Vr(w.auth,h);return new ul(w.auth,"linkViaPopup",d,V,w).executeNotNull()})).apply(this,arguments)}let ul=(()=>{class m extends Ma{constructor(h,w,V,K,me){super(h,w,K,me),this.provider=V,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var h=this;return(0,g.Z)(function*(){const w=yield h.execute();return Be(w,h.auth,"internal-error"),w})()}onExecution(){var h=this;return(0,g.Z)(function*(){Tt(1===h.filter.length,"Popup operations only handle one event");const w=Ei();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],w),h.authWindow.associatedEvent=w,h.resolver._originValidation(h.auth).catch(V=>{h.reject(V)}),h.resolver._isIframeWebStorageSupported(h.auth,V=>{V||h.reject(Ne(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const h=()=>{var w,V;this.pollId=null!==(V=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==V&&V.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,Fi.get())};h()}}return m.currentPopupAction=null,m})();const Cc=new Map;class ll extends Ma{constructor(d,h,w=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,w),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,g.Z)(function*(){let w=Cc.get(h.auth._key());if(!w){try{const K=(yield function gu(m,d){return dl.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;w=()=>Promise.resolve(K)}catch(V){w=()=>Promise.reject(V)}Cc.set(h.auth._key(),w)}return h.bypassAuthState||Cc.set(h.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,w=this;return(0,g.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(w,d);if("unknown"!==d.type){if(d.eventId){const V=yield w.auth._redirectUserForId(d.eventId);if(V)return w.user=V,h().call(w,d);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function dl(){return(dl=(0,g.Z)(function*(m,d){const h=Ac(d),w=Tc(m);if(!(yield w._isAvailable()))return!1;const V="true"===(yield w._get(h));return yield w._remove(h),V})).apply(this,arguments)}function Fu(m,d){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,g.Z)(function*(m,d){return Tc(m)._set(Ac(d),"true")})).apply(this,arguments)}function mu(m,d){Cc.set(m._key(),d)}function Tc(m){return $n(m._redirectPersistence)}function Ac(m){return _e("pendingRedirect",m.config.apiKey,m.name)}function Ha(){return(Ha=(0,g.Z)(function*(m,d,h){const w=_r(m);lt(m,d,Pi),yield w._initializationPromise;const V=Vr(w,h);return yield Fu(V,w),V._openRedirect(w,d,"signInViaRedirect")})).apply(this,arguments)}function Sc(){return(Sc=(0,g.Z)(function*(m,d,h){const w=(0,z.m9)(m);lt(w.auth,d,Pi),yield w.auth._initializationPromise;const V=Vr(w.auth,h);yield Fu(V,w.auth);const K=yield di(w);return V._openRedirect(w.auth,d,"reauthViaRedirect",K)})).apply(this,arguments)}function _a(){return(_a=(0,g.Z)(function*(m,d,h){const w=(0,z.m9)(m);lt(w.auth,d,Pi),yield w.auth._initializationPromise;const V=Vr(w.auth,h);yield Yn(!1,w,d.providerId),yield Fu(V,w.auth);const K=yield di(w);return V._openRedirect(w.auth,d,"linkViaRedirect",K)})).apply(this,arguments)}function oi(){return(oi=(0,g.Z)(function*(m,d){return yield _r(m)._initializationPromise,Ga(m,d,!1)})).apply(this,arguments)}function Ga(m,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,g.Z)(function*(m,d,h=!1){const w=_r(m),V=Vr(w,d),me=yield new ll(w,V,h).execute();return me&&!h&&(delete me.user._redirectEventId,yield w._persistUserIfCurrent(me.user),yield w._setRedirectUser(null,d)),me})).apply(this,arguments)}function di(m){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,g.Z)(function*(m){const d=Ei(`${m.uid}:::`);return m._redirectEventId=d,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),d})).apply(this,arguments)}class Vo{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(d,w)&&(h=!0,this.sendToConsumer(d,w),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function As(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qd(m);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var w;if(d.error&&!qd(d)){const V=(null===(w=d.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";h.onError(Ne(this.auth,V))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const w=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&w}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fl(d))}saveEventToCache(d){this.cachedEventUids.add(fl(d)),this.lastProcessedEventTime=Date.now()}}function fl(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(d=>d).join("-")}function qd({type:m,error:d}){return"unknown"===m&&"auth/no-auth-event"===d?.code}function yu(m){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,g.Z)(function*(m,d={}){return He(m,"GET","/v1/projects",d)})).apply(this,arguments)}const us=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tu=/^https?/;function Qu(){return(Qu=(0,g.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:d}=yield yu(m);for(const h of d)try{if(Pa(h))return}catch{}Ye(m,"unauthorized-domain")})).apply(this,arguments)}function Pa(m){const d=jt(),{protocol:h,hostname:w}=new URL(d);if(m.startsWith("chrome-extension://")){const me=new URL(m);return""===me.hostname&&""===w?"chrome-extension:"===h&&m.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&me.hostname===w}if(!tu.test(h))return!1;if(us.test(m))return w===m;const V=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(w)}const Cp=new Nn(3e4,6e4);function vu(){const m=Mt().___jsl;if(m?.H)for(const d of Object.keys(m.H))if(m.H[d].r=m.H[d].r||[],m.H[d].L=m.H[d].L||[],m.H[d].r=[...m.H[d].L],m.CP)for(let h=0;h<m.CP.length;h++)m.CP[h]=null}let _u=null;function za(m){return _u=_u||function nu(m){return new Promise((d,h)=>{var w,V,K;function me(){vu(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{vu(),h(Ne(m,"network-request-failed"))},timeout:Cp.get()})}if(null!==(V=null===(w=Mt().gapi)||void 0===w?void 0:w.iframes)&&void 0!==V&&V.Iframe)d(gapi.iframes.getContext());else{if(null===(K=Mt().gapi)||void 0===K||!K.load){const Ze=fi("iframefcb");return Mt()[Ze]=()=>{gapi.load?me():h(Ne(m,"network-request-failed"))},Ur(`https://apis.google.com/js/api.js?onload=${Ze}`).catch(Nt=>h(Nt))}me()}}).catch(d=>{throw _u=null,d})}(m),_u}const wa=new Nn(5e3,15e3),W={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Se(m){const d=m.config;Be(d.authDomain,m,"auth-domain-config-required");const h=d.emulator?Me(d,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,w={apiKey:d.apiKey,appName:m.name,v:ue.SDK_VERSION},V=ie.get(m.config.apiHost);V&&(w.eid=V);const K=m._getFrameworks();return K.length&&(w.fw=K.join(",")),`${h}?${(0,z.xO)(w).slice(1)}`}function ct(){return ct=(0,g.Z)(function*(m){const d=yield za(m),h=Mt().gapi;return Be(h,m,"internal-error"),d.open({where:document.body,url:Se(m),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W,dontclear:!0},w=>new Promise(function(){var V=(0,g.Z)(function*(K,me){yield w.restyle({setHideOnLeave:!1});const Ze=Ne(m,"network-request-failed"),Nt=Mt().setTimeout(()=>{me(Ze)},wa.get());function Yt(){Mt().clearTimeout(Nt),K(w)}w.ping(Yt).then(Yt,()=>{me(Ze)})});return function(K,me){return V.apply(this,arguments)}}()))}),ct.apply(this,arguments)}const nn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ks{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Bo=encodeURIComponent("fac");function vi(m,d,h,w,V,K){return ps.apply(this,arguments)}function ps(){return(ps=(0,g.Z)(function*(m,d,h,w,V,K){Be(m.config.authDomain,m,"auth-domain-config-required"),Be(m.config.apiKey,m,"invalid-api-key");const me={apiKey:m.config.apiKey,appName:m.name,authType:h,redirectUrl:w,v:ue.SDK_VERSION,eventId:V};if(d instanceof Pi){d.setDefaultLanguage(m.languageCode),me.providerId=d.providerId||"",(0,z.xb)(d.getCustomParameters())||(me.customParameters=JSON.stringify(d.getCustomParameters()));for(const[pn,vn]of Object.entries(K||{}))me[pn]=vn}if(d instanceof Hs){const pn=d.getScopes().filter(vn=>""!==vn);pn.length>0&&(me.scopes=pn.join(","))}m.tenantId&&(me.tid=m.tenantId);const Ze=me;for(const pn of Object.keys(Ze))void 0===Ze[pn]&&delete Ze[pn];const Nt=yield m._getAppCheckToken(),Yt=Nt?`#${Bo}=${encodeURIComponent(Nt)}`:"";return`${bi(m)}?${(0,z.xO)(Ze).slice(1)}${Yt}`})).apply(this,arguments)}function bi({config:m}){return m.emulator?Me(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}const Wa="webStorageSupport";class Yd extends class Ju{constructor(d){this.factorId=d}_process(d,h,w){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,w);case"signin":return this._finalizeSignIn(d,h.credential);default:return vt("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Yd(d)}_finalizeEnroll(d,h,w){return function ki(m,d){return He(m,"POST","/v2/accounts/mfaEnrollment:finalize",ht(m,d))}(d,{idToken:h,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function Nu(m,d){return He(m,"POST","/v2/accounts/mfaSignIn:finalize",ht(m,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qd=(()=>{class m{constructor(){}static assertion(h){return Yd._fromCredential(h)}}return m.FACTOR_ID="phone",m})();var Oc="@firebase/auth";class Jd{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,g.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(w=>{d(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);!h||(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ju(){return window}function gl(){return(gl=(0,g.Z)(function*(m,d,h){var w;const{BuildInfo:V}=ju();Tt(d.sessionId,"AuthEvent did not contain a session ID");const K=yield sf(d.sessionId),me={};return oe()?me.ibi=V.packageName:In()?me.apn=V.packageName:Ye(m,"operation-not-supported-in-this-environment"),V.displayName&&(me.appDisplayName=V.displayName),me.sessionId=K,vi(m,h,d.type,void 0,null!==(w=d.eventId)&&void 0!==w?w:void 0,me)})).apply(this,arguments)}function ml(){return(ml=(0,g.Z)(function*(m){const{BuildInfo:d}=ju(),h={};oe()?h.iosBundleId=d.packageName:In()?h.androidPackageName=d.packageName:Ye(m,"operation-not-supported-in-this-environment"),yield yu(m,h)})).apply(this,arguments)}function kc(){return(kc=(0,g.Z)(function*(m,d,h){const{cordova:w}=ju();let V=()=>{};try{yield new Promise((K,me)=>{let Ze=null;function Nt(){var vn;K();const Yi=null===(vn=w.plugins.browsertab)||void 0===vn?void 0:vn.close;"function"==typeof Yi&&Yi(),"function"==typeof h?.close&&h.close()}function Yt(){Ze||(Ze=window.setTimeout(()=>{me(Ne(m,"redirect-cancelled-by-user"))},2e3))}function pn(){"visible"===document?.visibilityState&&Yt()}d.addPassiveListener(Nt),document.addEventListener("resume",Yt,!1),In()&&document.addEventListener("visibilitychange",pn,!1),V=()=>{d.removePassiveListener(Nt),document.removeEventListener("resume",Yt,!1),document.removeEventListener("visibilitychange",pn,!1),Ze&&window.clearTimeout(Ze)}})}finally{V()}})).apply(this,arguments)}function sf(m){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,g.Z)(function*(m){const d=Eu(m),h=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(h)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Eu(m){if(Tt(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const d=new ArrayBuffer(m.length),h=new Uint8Array(d);for(let w=0;w<m.length;w++)h[w]=m.charCodeAt(w);return h}(0,z.Pz)("authIdTokenMaxAge"),function tf(m){(0,ue._registerComponent)(new ye.wA("auth",(d,{options:h})=>{const w=d.getProvider("app").getImmediate(),V=d.getProvider("heartbeat"),K=d.getProvider("app-check-internal"),{apiKey:me,authDomain:Ze}=w.options;Be(me&&!me.includes(":"),"invalid-api-key",{appName:w.name});const Nt={apiKey:me,authDomain:Ze,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Le(m)},Yt=new ys(w,V,K,Nt);return function Te(m,d){const h=d?.persistence||[],w=(Array.isArray(h)?h:[h]).map($n);d?.errorMap&&m._updateErrorMap(d.errorMap),m._initializeWithPersistence(w,d?.popupRedirectResolver)}(Yt,h),Yt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,w)=>{d.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ye.wA("auth-internal",d=>{const h=_r(d.getProvider("auth").getImmediate());return new Jd(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Oc,"0.23.2",function Xd(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ue.registerVersion)(Oc,"0.23.2","esm2017")}("Browser");class $u extends Vo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(d)),super.onEvent(d)}initialized(){var d=this;return(0,g.Z)(function*(){yield d.initPromise})()}}function _l(m){return wl.apply(this,arguments)}function wl(){return(wl=(0,g.Z)(function*(m){const d=yield Ka()._get(ec(m));return d&&(yield Ka()._remove(ec(m))),d})).apply(this,arguments)}function So(){const m=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const w=Math.floor(Math.random()*d.length);m.push(d.charAt(w))}return m.join("")}function Ka(){return $n(Li)}function ec(m){return _e("authEvent",m.config.apiKey,m.name)}function El(m){if(!m?.includes("?"))return{};const[d,...h]=m.split("?");return(0,z.zd)(h.join("?"))}function sh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ne("no-auth-event")}}function Oa(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function Ea(m=(0,z.z$)()){return!("file:"!==Oa()&&"ionic:"!==Oa()&&"capacitor:"!==Oa()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){try{const m=self.localStorage,d=Ei();if(m)return m.setItem(d,"1"),m.removeItem(d),!function Sp(m=(0,z.z$)()){return function tc(){return(0,z.w1)()&&11===document?.documentMode}()||function bl(m=(0,z.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,z.hl)()}catch{return uh()&&(0,z.hl)()}return!1}function uh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dl(){return(function ah(){return"http:"===Oa()||"https:"===Oa()}()||(0,z.ru)()||Ea())&&!function ed(){return(0,z.b$)()||(0,z.UG)()}()&&yr()&&!uh()}function td(){return Ea()&&typeof document<"u"}function nc(){return(nc=(0,g.Z)(function*(){return!!td()&&new Promise(m=>{const d=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),m(!0)})})})).apply(this,arguments)}const Ks={LOCAL:"local",NONE:"none",SESSION:"session"},Cl=Be,ch="persistence";function Iu(m){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,g.Z)(function*(m){yield m._initializationPromise;const d=rd(),h=_e(ch,m.config.apiKey,m.name);d&&d.setItem(h,m._getPersistence())})).apply(this,arguments)}function rd(){var m;try{return(null===(m=function Fc(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const bu=Be;class qa{constructor(){this.browserResolver=$n(class ef{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ma,this._completeRedirectFn=Ga,this._overrideRedirectResult=mu}_openPopup(d,h,w,V){var K=this;return(0,g.Z)(function*(){var me;Tt(null===(me=K.eventManagers[d._key()])||void 0===me?void 0:me.manager,"_initialize() not called before _openPopup()");const Ze=yield vi(d,h,w,jt(),V);return function Ls(m,d,h,w=500,V=600){const K=Math.max((window.screen.availHeight-V)/2,0).toString(),me=Math.max((window.screen.availWidth-w)/2,0).toString();let Ze="";const Nt=Object.assign(Object.assign({},nn),{width:w.toString(),height:V.toString(),top:K,left:me}),Yt=(0,z.z$)().toLowerCase();h&&(Ze=xt(Yt)?"_blank":h),qe(Yt)&&(d=d||"http://localhost",Nt.scrollbars="yes");const pn=Object.entries(Nt).reduce((Yi,[oa,od])=>`${Yi}${oa}=${od},`,"");if(function Ve(m=(0,z.z$)()){var d;return oe(m)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Yt)&&"_self"!==Ze)return function Mc(m,d){const h=document.createElement("a");h.href=m,h.target=d;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(w)}(d||"",Ze),new ks(null);const vn=window.open(d||"",Ze,pn);Be(vn,m,"popup-blocked");try{vn.focus()}catch{}return new ks(vn)}(d,Ze,Ei())})()}_openRedirect(d,h,w,V){var K=this;return(0,g.Z)(function*(){return yield K._originValidation(d),function yn(m){Mt().location.href=m}(yield vi(d,h,w,jt(),V)),new Promise(()=>{})})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:V,promise:K}=this.eventManagers[h];return V?Promise.resolve(V):(Tt(K,"If manager is not set, promise should be"),K)}const w=this.initAndGetManager(d);return this.eventManagers[h]={promise:w},w.catch(()=>{delete this.eventManagers[h]}),w}initAndGetManager(d){var h=this;return(0,g.Z)(function*(){const w=yield function je(m){return ct.apply(this,arguments)}(d),V=new Vo(d);return w.register("authEvent",K=>(Be(K?.authEvent,d,"invalid-auth-event"),{status:V.onEvent(K.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:V},h.iframes[d._key()]=w,V})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(Wa,{type:Wa},V=>{var K;const me=null===(K=V?.[0])||void 0===K?void 0:K[Wa];void 0!==me&&h(!!me),Ye(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function sa(m){return Qu.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return Wt()||ke()||oe()}}),this.cordovaResolver=$n(class uf{constructor(){this._redirectPersistence=ma,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ga,this._overrideRedirectResult=mu}_initialize(d){var h=this;return(0,g.Z)(function*(){const w=d._key();let V=h.eventManagers.get(w);return V||(V=new $u(d),h.eventManagers.set(w,V),h.attachCallbackListeners(d,V)),V})()}_openPopup(d){Ye(d,"operation-not-supported-in-this-environment")}_openRedirect(d,h,w,V){var K=this;return(0,g.Z)(function*(){!function Jl(m){var d,h,w,V,K,me,Ze,Nt,Yt,pn;const vn=ju();Be("function"==typeof(null===(d=vn?.universalLinks)||void 0===d?void 0:d.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Be(typeof(null===(h=vn?.BuildInfo)||void 0===h?void 0:h.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Be("function"==typeof(null===(K=null===(V=null===(w=vn?.cordova)||void 0===w?void 0:w.plugins)||void 0===V?void 0:V.browsertab)||void 0===K?void 0:K.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Be("function"==typeof(null===(Nt=null===(Ze=null===(me=vn?.cordova)||void 0===me?void 0:me.plugins)||void 0===Ze?void 0:Ze.browsertab)||void 0===Nt?void 0:Nt.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Be("function"==typeof(null===(pn=null===(Yt=vn?.cordova)||void 0===Yt?void 0:Yt.InAppBrowser)||void 0===pn?void 0:pn.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const me=yield K._initialize(d);yield me.initialized(),me.resetRedirect(),function zd(){Cc.clear()}(),yield K._originValidation(d);const Ze=function rh(m,d,h=null){return{type:d,eventId:h,urlResponse:null,sessionId:So(),postBody:null,tenantId:m.tenantId,error:Ne(m,"no-auth-event")}}(d,w,V);yield function vl(m,d){return Ka()._set(ec(m),d)}(d,Ze);const Nt=yield function Nc(m,d,h){return gl.apply(this,arguments)}(d,Ze,h),Yt=yield function wu(m){const{cordova:d}=ju();return new Promise(h=>{d.plugins.browsertab.isAvailable(w=>{let V=null;w?d.plugins.browsertab.openUrl(m):V=d.InAppBrowser.open(m,function X(m=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),h(V)})})}(Nt);return function yl(m,d,h){return kc.apply(this,arguments)}(d,me,Yt)})()}_isIframeWebStorageSupported(d,h){throw new Error("Method not implemented.")}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function rf(m){return ml.apply(this,arguments)}(d)),this.originValidationPromises[h]}attachCallbackListeners(d,h){const{universalLinks:w,handleOpenURL:V,BuildInfo:K}=ju(),me=setTimeout((0,g.Z)(function*(){yield _l(d),h.onEvent(sh())}),500),Ze=function(){var pn=(0,g.Z)(function*(vn){clearTimeout(me);const Yi=yield _l(d);let oa=null;Yi&&vn?.url&&(oa=function Hu(m,d){var h,w;const V=function af(m){const d=El(m),h=d.link?decodeURIComponent(d.link):void 0,w=El(h).link,V=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return El(V).link||V||w||h||m}(d);if(V.includes("/__/auth/callback")){const K=El(V),me=K.firebaseError?function Lc(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(K.firebaseError)):null,Ze=null===(w=null===(h=me?.code)||void 0===h?void 0:h.split("auth/"))||void 0===w?void 0:w[1],Nt=Ze?Ne(Ze):null;return Nt?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Nt,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:V,postBody:null}}return null}(Yi,vn.url)),h.onEvent(oa||sh())});return function(Yi){return pn.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,Ze);const Nt=V,Yt=`${K.packageName.toLowerCase()}://`;ju().handleOpenURL=function(){var pn=(0,g.Z)(function*(vn){if(vn.toLowerCase().startsWith(Yt)&&Ze({url:vn}),"function"==typeof Nt)try{Nt(vn)}catch(Yi){console.error(Yi)}});return function(vn){return pn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ma,this._completeRedirectFn=Ga,this._overrideRedirectResult=mu}_initialize(d){var h=this;return(0,g.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,h,w,V){var K=this;return(0,g.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openPopup(d,h,w,V)})()}_openRedirect(d,h,w,V){var K=this;return(0,g.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openRedirect(d,h,w,V)})()}_isIframeWebStorageSupported(d,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,h)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return td()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,g.Z)(function*(){if(d.underlyingResolver)return;const h=yield function nd(){return nc.apply(this,arguments)}();d.underlyingResolver=h?d.cordovaResolver:d.browserResolver})()}}function id(m){return m.unwrap()}function cf(m){return Zi(m)}function Zi(m){const{_tokenResponse:d}=m instanceof z.ZR?m.customData:m;if(!d)return null;if(!(m instanceof z.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return wr.credentialFromResult(m);const h=d.providerId;if(!h||"password"===h)return null;let w;switch(h){case"google.com":w=hs;break;case"facebook.com":w=pi;break;case"github.com":w=mo;break;case"twitter.com":w=Wo;break;default:const{oauthIdToken:V,oauthAccessToken:K,oauthTokenSecret:me,pendingToken:Ze,nonce:Nt}=d;return K||me||V||Ze?Ze?h.startsWith("saml.")?Gr._create(h,Ze):ui._fromParams({providerId:h,signInMethod:h,pendingToken:Ze,idToken:V,accessToken:K}):new is(h).credential({idToken:V,accessToken:K,rawNonce:Nt}):null}return m instanceof z.ZR?w.credentialFromError(m):w.credentialFromResult(m)}function fo(m,d){return d.catch(h=>{throw h instanceof z.ZR&&function lf(m,d){var h;const w=null===(h=d.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===d?.code)d.resolver=new xp(m,function Ni(m,d){var h;const w=(0,z.m9)(m),V=d;return Be(d.customData.operationType,w,"argument-error"),Be(null===(h=V.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,w,"argument-error"),Ds._fromError(w,V)}(m,d));else if(w){const V=Zi(d),K=d;V&&(K.credential=V,K.tenantId=w.tenantId||void 0,K.email=w.email||void 0,K.phoneNumber=w.phoneNumber||void 0)}}(m,h),h}).then(h=>{const V=h.user;return{operationType:h.operationType,credential:cf(h),additionalUserInfo:Z(h),user:Fs.getOrCreate(V)}})}function Bc(m,d){return sd.apply(this,arguments)}function sd(){return(sd=(0,g.Z)(function*(m,d){const h=yield d;return{verificationId:h.verificationId,confirm:w=>fo(m,h.confirm(w))}})).apply(this,arguments)}class xp{constructor(d,h){this.resolver=h,this.auth=function Uc(m){return m.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return fo(id(this.auth),this.resolver.resolveSignIn(d))}}class Fs{constructor(d){this._delegate=d,this.multiFactor=function Ns(m){const d=(0,z.m9)(m);return ga.has(d)||ga.set(d,na._fromUser(d)),ga.get(d)}(d)}static getOrCreate(d){return Fs.USER_MAP.has(d)||Fs.USER_MAP.set(d,new Fs(d)),Fs.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var h=this;return(0,g.Z)(function*(){return fo(h.auth,Js(h._delegate,d))})()}linkWithPhoneNumber(d,h){var w=this;return(0,g.Z)(function*(){return Bc(w.auth,function L(m,d,h){return q.apply(this,arguments)}(w._delegate,d,h))})()}linkWithPopup(d){var h=this;return(0,g.Z)(function*(){return fo(h.auth,function Zl(m,d,h){return pu.apply(this,arguments)}(h._delegate,d,qa))})()}linkWithRedirect(d){var h=this;return(0,g.Z)(function*(){return yield Iu(_r(h.auth)),function Ts(m,d,h){return function Ql(m,d,h){return _a.apply(this,arguments)}(m,d,h)}(h._delegate,d,qa)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var h=this;return(0,g.Z)(function*(){return fo(h.auth,Wr(h._delegate,d))})()}reauthenticateWithPhoneNumber(d,h){return Bc(this.auth,function he(m,d,h){return Ee.apply(this,arguments)}(this._delegate,d,h))}reauthenticateWithPopup(d){return fo(this.auth,function al(m,d,h){return Dc.apply(this,arguments)}(this._delegate,d,qa))}reauthenticateWithRedirect(d){var h=this;return(0,g.Z)(function*(){return yield Iu(_r(h.auth)),function Vu(m,d,h){return function Kd(m,d,h){return Sc.apply(this,arguments)}(m,d,h)}(h._delegate,d,qa)})()}sendEmailVerification(d){return function Ca(m,d){return lo.apply(this,arguments)}(this._delegate,d)}unlink(d){var h=this;return(0,g.Z)(function*(){return yield function _s(m,d){return Ri.apply(this,arguments)}(h._delegate,d),h})()}updateEmail(d){return function Is(m,d){return Xo((0,z.m9)(m),d,null)}(this._delegate,d)}updatePassword(d){return function bs(m,d){return Xo((0,z.m9)(m),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function Un(m,d){return dn.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Fa(m,d){return Do.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,h){return function Ps(m,d,h){return no.apply(this,arguments)}(this._delegate,d,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fs.USER_MAP=new WeakMap;const Du=Be;let lh=(()=>{class m{constructor(h,w){if(this.app=h,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=h.options;Du(V,"invalid-api-key",{appName:h.name}),Du(V,"invalid-api-key",{appName:h.name});const K=typeof window<"u"?qa:void 0;this._delegate=w.initialize({options:{persistence:zu(V,h.name),popupRedirectResolver:K}}),this._delegate._updateErrorMap(Ue),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,w){!function nt(m,d,h){const w=_r(m);Be(w._canInitEmulator,w,"emulator-config-failed"),Be(/^https?:\/\//.test(d),w,"invalid-emulator-scheme");const V=!!h?.disableWarnings,K=Et(d),{host:me,port:Ze}=function Ot(m){const d=Et(m),h=/(\/\/)?([^?#/]+)/.exec(m.substr(d.length));if(!h)return{host:"",port:null};const w=h[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(w);if(V){const K=V[1];return{host:K,port:Gn(w.substr(K.length+1))}}{const[K,me]=w.split(":");return{host:K,port:Gn(me)}}}(d);w.config.emulator={url:`${K}//${me}${null===Ze?"":`:${Ze}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:me,port:Ze,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Sr(){function m(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,h,w)}applyActionCode(h){return function pa(m,d){return qi.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return Yo(this._delegate,h)}confirmPasswordReset(h,w){return function Ki(m,d,h){return co.apply(this,arguments)}(this._delegate,h,w)}createUserWithEmailAndPassword(h,w){var V=this;return(0,g.Z)(function*(){return fo(V._delegate,function Ms(m,d,h){return Qo.apply(this,arguments)}(V._delegate,h,w))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function Jo(m,d){return Io.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function Eo(m,d){return"EMAIL_SIGNIN"===Qs.parseLink(d)?.operation}(0,h)}getRedirectResult(){var h=this;return(0,g.Z)(function*(){Du(Dl(),h._delegate,"operation-not-supported-in-this-environment");const w=yield function xc(m,d){return oi.apply(this,arguments)}(h._delegate,qa);return w?fo(h._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function iu(m,d){_r(m)._logFramework(d)}(this._delegate,h)}onAuthStateChanged(h,w,V){const{next:K,error:me,complete:Ze}=jc(h,w,V);return this._delegate.onAuthStateChanged(K,me,Ze)}onIdTokenChanged(h,w,V){const{next:K,error:me,complete:Ze}=jc(h,w,V);return this._delegate.onIdTokenChanged(K,me,Ze)}sendSignInLinkToEmail(h,w){return function ko(m,d,h){return wo.apply(this,arguments)}(this._delegate,h,w)}sendPasswordResetEmail(h,w){return function os(m,d,h){return Es.apply(this,arguments)}(this._delegate,h,w||void 0)}setPersistence(h){var w=this;return(0,g.Z)(function*(){let V;switch(function Tl(m,d){Cl(Object.values(Ks).includes(d),m,"invalid-persistence-type"),(0,z.b$)()?Cl(d!==Ks.SESSION,m,"unsupported-persistence-type"):(0,z.UG)()?Cl(d===Ks.NONE,m,"unsupported-persistence-type"):uh()?Cl(d===Ks.NONE||d===Ks.LOCAL&&(0,z.hl)(),m,"unsupported-persistence-type"):Cl(d===Ks.NONE||yr(),m,"unsupported-persistence-type")}(w._delegate,h),h){case Ks.SESSION:V=ma;break;case Ks.LOCAL:V=(yield $n(ya)._isAvailable())?ya:Li;break;case Ks.NONE:V=Nr;break;default:return Ye("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return fo(this._delegate,function yo(m){return Ko.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return fo(this._delegate,Ti(this._delegate,h))}signInWithCustomToken(h){return fo(this._delegate,function Y(m,d){return et.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,w){return fo(this._delegate,function No(m,d,h){return Ti((0,z.m9)(m),zr.credential(d,h))}(this._delegate,h,w))}signInWithEmailLink(h,w){return fo(this._delegate,function Mr(m,d,h){return to.apply(this,arguments)}(this._delegate,h,w))}signInWithPhoneNumber(h,w){return Bc(this._delegate,function _(m,d,h){return A.apply(this,arguments)}(this._delegate,h,w))}signInWithPopup(h){var w=this;return(0,g.Z)(function*(){return Du(Dl(),w._delegate,"operation-not-supported-in-this-environment"),fo(w._delegate,function bc(m,d,h){return Vi.apply(this,arguments)}(w._delegate,h,qa))})()}signInWithRedirect(h){var w=this;return(0,g.Z)(function*(){return Du(Dl(),w._delegate,"operation-not-supported-in-this-environment"),yield Iu(w._delegate),function hl(m,d,h){return function Wd(m,d,h){return Ha.apply(this,arguments)}(m,d,h)}(w._delegate,h,qa)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function Ro(m,d){return eo.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Ks,m})();function jc(m,d,h){let w=m;"function"!=typeof m&&({next:w,error:d,complete:h}=m);const V=w;return{next:me=>V(me&&Fs.getOrCreate(me)),error:d,complete:h}}function zu(m,d){const h=function rc(m,d){const h=rd();if(!h)return[];const w=_e(ch,m,d);switch(h.getItem(w)){case Ks.NONE:return[Nr];case Ks.LOCAL:return[ya,ma];case Ks.SESSION:return[ma];default:return[]}}(m,d);if(typeof self<"u"&&!h.includes(ya)&&h.push(ya),typeof window<"u")for(const w of[Li,ma])h.includes(w)||h.push(w);return h.includes(Nr)||h.push(Nr),h}class dh{constructor(){this.providerId="phone",this._delegate=new wr(id(F.Z.auth()))}static credential(d,h){return wr.credential(d,h)}verifyPhoneNumber(d,h){return this._delegate.verifyPhoneNumber(d,h)}unwrap(){return this._delegate}}dh.PHONE_SIGN_IN_METHOD=wr.PHONE_SIGN_IN_METHOD,dh.PROVIDER_ID=wr.PROVIDER_ID;const Mp=Be;class Pp{constructor(d,h,w=F.Z.app()){var V;Mp(null===(V=w.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Fo(d,h,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function hh(m){m.INTERNAL.registerComponent(new ye.wA("auth-compat",d=>{const h=d.getProvider("app-compat").getImmediate(),w=d.getProvider("auth");return new lh(h,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zr,FacebookAuthProvider:pi,GithubAuthProvider:mo,GoogleAuthProvider:hs,OAuthProvider:is,SAMLAuthProvider:Gi,PhoneAuthProvider:dh,PhoneMultiFactorGenerator:Qd,RecaptchaVerifier:Pp,TwitterAuthProvider:Wo,Auth:lh,AuthCredential:dr,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.4.2")}(F.Z)},5861:(xe,le,O)=>{"use strict";function g(z,ue,ee,pe,ye,we,fe){try{var ne=z[we](fe),re=ne.value}catch(ae){return void ee(ae)}ne.done?ue(re):Promise.resolve(re).then(pe,ye)}function F(z){return function(){var ue=this,ee=arguments;return new Promise(function(pe,ye){var we=z.apply(ue,ee);function fe(re){g(we,pe,ye,fe,ne,"next",re)}function ne(re){g(we,pe,ye,fe,ne,"throw",re)}fe(void 0)})}}O.d(le,{Z:()=>F})},7582:(xe,le,O)=>{"use strict";function ue(Me,Oe){var te={};for(var Xe in Me)Object.prototype.hasOwnProperty.call(Me,Xe)&&Oe.indexOf(Xe)<0&&(te[Xe]=Me[Xe]);if(null!=Me&&"function"==typeof Object.getOwnPropertySymbols){var ht=0;for(Xe=Object.getOwnPropertySymbols(Me);ht<Xe.length;ht++)Oe.indexOf(Xe[ht])<0&&Object.prototype.propertyIsEnumerable.call(Me,Xe[ht])&&(te[Xe[ht]]=Me[Xe[ht]])}return te}function ae(Me,Oe,te,Xe){return new(te||(te=Promise))(function(He,Qe){function It(rn){try{Vt(Xe.next(rn))}catch(xn){Qe(xn)}}function At(rn){try{Vt(Xe.throw(rn))}catch(xn){Qe(xn)}}function Vt(rn){rn.done?He(rn.value):function ht(He){return He instanceof te?He:new te(function(Qe){Qe(He)})}(rn.value).then(It,At)}Vt((Xe=Xe.apply(Me,Oe||[])).next())})}function at(Me){return this instanceof at?(this.v=Me,this):new at(Me)}function Ye(Me,Oe,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ht,Xe=te.apply(Me,Oe||[]),He=[];return ht={},Qe("next"),Qe("throw"),Qe("return"),ht[Symbol.asyncIterator]=function(){return this},ht;function Qe(_n){Xe[_n]&&(ht[_n]=function(tr){return new Promise(function(Xt,nr){He.push([_n,tr,Xt,nr])>1||It(_n,tr)})})}function It(_n,tr){try{!function At(_n){_n.value instanceof at?Promise.resolve(_n.value.v).then(Vt,rn):xn(He[0][2],_n)}(Xe[_n](tr))}catch(Xt){xn(He[0][3],Xt)}}function Vt(_n){It("next",_n)}function rn(_n){It("throw",_n)}function xn(_n,tr){_n(tr),He.shift(),He.length&&It(He[0][0],He[0][1])}}function Ct(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,Oe=Me[Symbol.asyncIterator];return Oe?Oe.call(Me):(Me=function St(Me){var Oe="function"==typeof Symbol&&Symbol.iterator,te=Oe&&Me[Oe],Xe=0;if(te)return te.call(Me);if(Me&&"number"==typeof Me.length)return{next:function(){return Me&&Xe>=Me.length&&(Me=void 0),{value:Me&&Me[Xe++],done:!Me}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Me),te={},Xe("next"),Xe("throw"),Xe("return"),te[Symbol.asyncIterator]=function(){return this},te);function Xe(He){te[He]=Me[He]&&function(Qe){return new Promise(function(It,At){!function ht(He,Qe,It,At){Promise.resolve(At).then(function(Vt){He({value:Vt,done:It})},Qe)}(It,At,(Qe=Me[He](Qe)).done,Qe.value)})}}}O.d(le,{FC:()=>Ye,KL:()=>Ct,_T:()=>ue,mG:()=>ae,qq:()=>at}),"function"==typeof SuppressedError&&SuppressedError}},xe=>{xe(xe.s=3497)}]);